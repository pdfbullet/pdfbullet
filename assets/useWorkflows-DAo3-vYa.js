import{r as f}from"./main-DebOd4xP.js";const n="pdfbullet_workflows_v1",c=[{id:1,name:"mishra",tools:["Excel to PDF","Merge PDF"],status:!0}],l=()=>{try{const s=localStorage.getItem(n);return s?JSON.parse(s):(localStorage.setItem(n,JSON.stringify(c)),c)}catch(s){return console.error("Failed to parse workflows from localStorage",s),localStorage.setItem(n,JSON.stringify(c)),c}},g=()=>{const[s,w]=f.useState(l);f.useEffect(()=>{const o=t=>{t.key===n&&t.newValue&&w(JSON.parse(t.newValue))};return window.addEventListener("storage",o),()=>{window.removeEventListener("storage",o)}},[]);const a=o=>{try{localStorage.setItem(n,JSON.stringify(o)),w(o)}catch(t){console.error("Failed to save workflows to localStorage",t)}};return{workflows:s,addWorkflow:o=>{const t={id:Date.now(),...o,status:!0},e=l();a([...e,t])},updateWorkflow:o=>{const e=l().map(r=>r.id===o.id?o:r);a(e)},deleteWorkflow:o=>{const e=l().filter(r=>r.id!==o);a(e)},toggleWorkflowStatus:o=>{const e=l().map(r=>r.id===o?{...r,status:!r.status}:r);a(e)}}};export{g as u};
