import{u as f,c as b,r as c,T as x,j as e,L as d,h as j,D as k}from"./main-CKW2rO7s.js";import{u as v,T as h}from"./useFavorites-Bq4umVZd.js";import{u as w}from"./useLastTasks-Bww7hQKr.js";import"./react-Ckhrjn13.js";const m=[{image:"https://ik.imagekit.io/fonepay/slider-1.png?updatedAt=1758555229409",title:"Unlock Premium Features!",description:"Get unlimited access, advanced tools, and an ad-free experience.",link:"/pricing"},{image:"https://ik.imagekit.io/fonepay/slider-2.png?updatedAt=1758554896182",title:"Discover AI-Powered Tools",description:"Generate invoices, CVs, and lesson plans in seconds with our new AI assistants.",link:"/ai-question-generator"},{image:"https://ik.imagekit.io/fonepay/slider-3.png?updatedAt=1758554896137",title:"Read Our Latest Articles",description:"Stay updated with the latest tips, tricks, and news on document management.",link:"/articles"}],y=()=>{const[o,i]=c.useState(0);return c.useEffect(()=>{const r=setInterval(()=>{i(l=>(l+1)%m.length)},3e3);return()=>clearInterval(r)},[]),e.jsxs("section",{className:"relative w-full aspect-[5/2] rounded-2xl overflow-hidden shadow-lg",children:[e.jsx("div",{className:"flex transition-transform duration-700 ease-in-out h-full",style:{transform:`translateX(-${o*100}%)`},children:m.map((r,l)=>e.jsxs(d,{to:r.link,className:"relative w-full flex-shrink-0 h-full bg-gray-100 dark:bg-gray-800",children:[e.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-contain"}),e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 to-transparent p-6 flex flex-col justify-center",children:[e.jsx("h3",{className:"text-2xl font-extrabold text-white",children:r.title}),e.jsx("p",{className:"mt-1 text-sm text-gray-200 max-w-xs",children:r.description})]})]},l))}),e.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-2",children:m.map((r,l)=>e.jsx("button",{onClick:()=>i(l),className:`w-2.5 h-2.5 rounded-full transition-all duration-300 ${o===l?"w-6 bg-white":"bg-white/50"}`,"aria-label":`Go to slide ${l+1}`},l))})]})},N=({task:o})=>{const i=x.find(n=>n.id===o.toolId),r=()=>{const n=URL.createObjectURL(o.fileBlob),s=document.createElement("a");s.href=n,s.download=o.outputFilename,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)},l=n=>{const s=Math.floor((new Date().getTime()-n)/1e3);let t=s/31536e3;return t>1?`${Math.floor(t)} years ago`:(t=s/2592e3,t>1?`${Math.floor(t)} months ago`:(t=s/86400,t>1?`${Math.floor(t)} days ago`:(t=s/3600,t>1?`${Math.floor(t)} hours ago`:(t=s/60,t>1?`${Math.floor(t)} minutes ago`:`${Math.floor(s)} seconds ago`))))};return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-4 overflow-hidden",children:[i&&e.jsx("div",{className:`p-2 rounded-lg ${i.color} flex-shrink-0`,children:e.jsx(i.Icon,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-100 truncate text-sm",children:o.outputFilename}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[i?.title?i.title.replace("tool.","").replace(".title","").replace(/-/g," "):o.toolTitle," Â· ",l(o.timestamp)]})]})]}),e.jsx("button",{onClick:r,className:"p-2 text-gray-500 hover:text-brand-red rounded-full flex-shrink-0",title:"Download",children:e.jsx(k,{className:"h-5 w-5"})})]})},L=()=>{const{user:o}=f(),{isFavorite:i,toggleFavorite:r,favorites:l}=v(),{t:n}=b(),{tasks:s,loading:t}=w(),g=c.useMemo(()=>x.filter(a=>l.includes(a.id)),[l]),u=c.useMemo(()=>{const a=["merge-pdf","compress-pdf","jpg-to-pdf","document-scanner"];return x.filter(p=>a.includes(p.id))},[]);return e.jsxs("div",{className:"p-4 sm:p-6 space-y-8",children:[e.jsx(y,{}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-extrabold text-gray-800 dark:text-gray-100",children:["Welcome",o?`, ${o.username}`:"","!"]}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"What would you like to do today?"})]}),g.length>0&&e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Your Favorites"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:g.map(a=>e.jsx(h,{tool:a,isFavorite:i(a.id),onToggleFavorite:r},a.id))})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Quick Actions"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:u.map(a=>e.jsx(h,{tool:a,isFavorite:i(a.id),onToggleFavorite:r},a.id))})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Recent Activity"}),e.jsx(d,{to:"/last-tasks",className:"text-sm font-semibold text-brand-red hover:underline",children:"View All"})]}),e.jsx("div",{className:"space-y-3",children:t?e.jsx("div",{className:"bg-white dark:bg-black p-8 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 text-center text-gray-500 dark:text-gray-400",children:"Loading recent files..."}):s.length===0?e.jsxs("div",{className:"bg-white dark:bg-black p-8 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 text-center text-gray-500 dark:text-gray-400",children:[e.jsx(j,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("p",{children:"Your recently processed files will appear here."})]}):s.slice(0,3).map(a=>e.jsx(N,{task:a},a.id))})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Explore"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs(d,{to:"/tools",className:"block p-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-blue-800 dark:text-blue-200",children:"All Tools"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Browse the complete suite of over 40 PDF and image tools."})]}),e.jsxs(d,{to:"/articles",className:"block p-6 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-green-800 dark:text-green-200",children:"Tips & Tricks"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Read our blog for guides and updates to boost your productivity."})]})]})]})]})};export{L as default};
