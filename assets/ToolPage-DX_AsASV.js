const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jspdf.es.min-cSY7Xrdn.js","assets/main-B39hoYVm.js","assets/react-Ckhrjn13.js","assets/main-CchR49L0.css","assets/jszip.min-CG955O0i.js","assets/jszip.min-Dd208ANX.js","assets/_commonjs-dynamic-modules-TDtrdbi3.js","assets/index-Dfj1X2-d.js","assets/index-CpVYfXh8.js","assets/index-CDEvsS2u.js","assets/index-DRz5BQNA.js","assets/index-k8hGQYAT.js","assets/index-Z1VvO2s3.js"])))=>i.map(i=>d[i]);
import{r as s,m as je,j as e,n as Me,o as Ue,p as Ge,P as ct,q as Ut,s as Vt,a as Gt,d as Wt,u as Ht,c as We,t as Jt,T as st,_ as D,v as qt,D as dt,w as Xt,x as Qt,y as Kt,f as gt,L as Zt,S as Yt,F as ea,X as ta,z as aa,I as ra,A as sa,M as oa,l as na,G as ia,B as la,k as pt,R as Se,E as ot,U as ut,J as mt,K as ca,N as da,Q as ga,V as pa}from"./main-B39hoYVm.js";import{u as ua,S as ma}from"./useSignature-D5NqK9Y7.js";import{u as fa}from"./useSignedDocuments-BGefXt6b.js";import{u as ft}from"./useLastTasks-DuexgLSO.js";import"./react-Ckhrjn13.js";import"./html2canvas.esm-B0tyYwQk.js";const nt="AIzaSyD3MDVQ3bkz0n3Hu3ju-sGCIMCybUQGbVU",it="415789226795-0mu2ru52dcc5b649njfarn059lkjkcnk.apps.googleusercontent.com",ha=({tool:f,files:v,setFiles:k,accept:u,children:h})=>{const[N,T]=s.useState(!1),[w,J]=s.useState(!1),[W,y]=s.useState(null);s.useEffect(()=>{gapi&&gapi.load("client:picker",()=>{T(!0)})},[]);const a=s.useCallback(b=>{k([...v,...b].filter((R,E,m)=>E===m.findIndex(P=>P.name===R.name&&P.size===R.size)))},[v,k]),{getRootProps:re,getInputProps:O,isDragActive:B,open:q}=je({onDrop:a,accept:u||{"application/pdf":[".pdf"]},noClick:!0}),K=b=>{k(v.filter(R=>R.name!==b))},M=je({onDrop:a,accept:u||{"application/pdf":[".pdf"]}}),se=async(b,R)=>{try{const E=await fetch(b);if(!E.ok)throw new Error(`Failed to fetch file: ${E.statusText}`);const m=await E.blob(),P=new File([m],R,{type:m.type});a([P])}catch(E){console.error("Error fetching cloud file:",E)}},Z=b=>{if(b.stopPropagation(),!N||!nt||!it){alert("Google Drive Picker is not configured. Please provide API Key and Client ID.");return}gapi.load("picker",{callback:()=>J(!0)}),gapi.auth.authorize({client_id:it,scope:["https://www.googleapis.com/auth/drive.readonly"],immediate:!1},R=>{R&&!R.error&&(y(R),ie(R.access_token))})},ie=b=>{const R=new google.picker.View(google.picker.ViewId.DOCS);new google.picker.PickerBuilder().setApiKey(nt).setOAuthToken(b).addView(R).setCallback(n).build().setVisible(!0)},n=b=>{if(b[google.picker.Response.ACTION]===google.picker.Action.PICKED){const R=b[google.picker.Response.DOCUMENTS][0],E=`https://www.googleapis.com/drive/v3/files/${R.id}?alt=media`;fetch(E,{headers:{Authorization:`Bearer ${W.access_token}`}}).then(m=>m.blob()).then(m=>{const P=new File([m],R.name,{type:R.mimeType});a([P])})}},ne=b=>{b.stopPropagation(),Dropbox.choose({success:R=>{R.forEach(E=>se(E.link,E.name))},linkType:"direct",multiselect:!0})};return e.jsx("div",{className:"w-full",children:v.length===0?e.jsxs("div",{...re(),className:`relative flex flex-col items-center justify-center p-12 rounded-lg cursor-pointer transition-colors duration-300 ${B?"bg-red-50 dark:bg-red-900/20 ring-2 ring-brand-red ring-dashed":"bg-transparent"}`,children:[e.jsx("input",{...O()}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{type:"button",onClick:q,className:`${f.color} ${f.hoverColor} text-white font-bold py-4 px-10 rounded-lg text-xl transition-colors shadow-lg flex-grow-0`,children:["Select ",f.fileTypeDisplayName||"files"]}),e.jsx("button",{onClick:Z,"aria-label":"Select from Google Drive",title:"Select from Google Drive",className:`p-4 rounded-lg shadow-lg transition-colors ${f.color} ${f.hoverColor} text-white`,children:e.jsx(Me,{className:"h-6 w-6"})}),e.jsx("button",{onClick:ne,"aria-label":"Select from Dropbox",title:"Select from Dropbox",className:`p-4 rounded-lg shadow-lg transition-colors ${f.color} ${f.hoverColor} text-white`,children:e.jsx(Ue,{className:"h-6 w-6"})})]}),e.jsxs("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:["or drop ",f.fileTypeDisplayName||""," ",f.fileTypeNounPlural||"here"]})]}):e.jsxs("div",{className:"w-full grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[e.jsx("div",{className:"lg:col-span-8 xl:col-span-9 grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6",children:v.map(b=>e.jsxs("div",{className:"relative group bg-white dark:bg-surface-dark border border-gray-200 dark:border-gray-800 rounded-2xl p-4 flex flex-col items-center justify-center text-center shadow-md",children:[e.jsx("div",{className:"w-full bg-white dark:bg-gray-900/50 rounded-lg p-4 flex-grow flex items-center justify-center aspect-[4/3]",children:e.jsx(f.Icon,{className:`w-16 h-16 ${f.textColor}`})}),e.jsx("p",{className:"w-full text-sm font-semibold text-gray-700 dark:text-gray-300 truncate mt-3",title:b.name,children:b.name}),e.jsx("button",{onClick:()=>K(b.name),className:"absolute top-2 right-2 p-1.5 bg-gray-800/60 hover:bg-red-600/80 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity","aria-label":`Remove ${b.name}`,children:e.jsx(Ge,{className:"h-4 w-4"})})]},`${b.name}-${b.lastModified}`))}),e.jsxs("div",{className:"lg:col-span-4 xl:col-span-3 lg:sticky lg:top-24",children:[e.jsxs("div",{className:"flex justify-end relative mb-8",children:[e.jsxs("div",{className:"absolute right-[80px] top-1/2 -translate-y-1/2 bg-gray-800 text-white text-sm font-semibold px-3 py-1 rounded-md shadow-lg whitespace-nowrap",children:["Add more files",e.jsx("div",{className:"absolute right-[-5px] top-1/2 -translate-y-1/2 w-3 h-3 bg-gray-800 transform rotate-45"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{...M.getRootProps(),onClick:M.open,title:"Add more files",className:"w-16 h-16 bg-brand-red rounded-full flex items-center justify-center text-white shadow-lg hover:bg-brand-red-dark transition-colors",children:[e.jsx("input",{...M.getInputProps()}),e.jsx(ct,{className:"h-8 w-8"})]}),e.jsx("span",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gray-900 text-white text-xs font-bold rounded-full flex items-center justify-center border-2 border-white dark:border-surface-dark",children:v.length})]}),e.jsx("button",{onClick:M.open,title:"Add from computer",className:"w-12 h-12 bg-brand-red rounded-full flex items-center justify-center text-white shadow-lg hover:bg-brand-red-dark transition-colors",children:e.jsx(Ut,{className:"h-6 w-6"})}),e.jsx("button",{onClick:Z,title:"Add from Google Drive",className:"w-12 h-12 bg-brand-red rounded-full flex items-center justify-center text-white shadow-lg hover:bg-brand-red-dark transition-colors",children:e.jsx(Me,{className:"h-6 w-6"})}),e.jsx("button",{onClick:ne,title:"Add from Dropbox",className:"w-12 h-12 bg-brand-red rounded-full flex items-center justify-center text-white shadow-lg hover:bg-brand-red-dark transition-colors",children:e.jsx(Ue,{className:"h-6 w-6"})})]})]}),h]})]})})},xa=({isOpen:f,onClose:v,onOnlyMe:k,onSeveralPeople:u})=>{if(!f)return null;const h=({title:N,description:T,imgSrc:w,onClick:J})=>e.jsxs("button",{onClick:J,className:"flex flex-col items-center p-6 border-2 border-gray-200 dark:border-gray-700 rounded-lg hover:border-brand-red hover:bg-red-50 dark:hover:bg-red-900/20 transition-all w-full sm:w-64 text-center",children:[e.jsx("img",{src:w,alt:N,className:"h-24 w-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:N}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:T})]});return e.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:v,role:"dialog","aria-modal":"true","aria-labelledby":"who-will-sign-title",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full max-w-2xl rounded-lg shadow-xl p-8",onClick:N=>N.stopPropagation(),children:[e.jsx("h2",{id:"who-will-sign-title",className:"text-2xl font-extrabold text-center text-gray-800 dark:text-gray-100 mb-8",children:"Who will sign this document?"}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-8",children:[e.jsx(h,{title:"Only me",description:"Sign this document",imgSrc:"https://www.ilovepdf.com/img/sign/single.svg",onClick:k}),e.jsx(h,{title:"Several people",description:"Invite others to sign",imgSrc:"https://www.ilovepdf.com/img/sign/multiple.svg",onClick:u})]})]})})},ba=(f,v)=>new Promise(k=>{if(v==="original")return k(f);const u=new Image;u.crossOrigin="Anonymous",u.onload=()=>{const h=document.createElement("canvas");h.width=u.width,h.height=u.height;const N=h.getContext("2d");if(!N)return k(f);N.drawImage(u,0,0);const T=N.getImageData(0,0,h.width,h.height),w=T.data;switch(v){case"lighten":for(let y=0;y<w.length;y+=4)w[y]=Math.min(255,w[y]+20),w[y+1]=Math.min(255,w[y+1]+20),w[y+2]=Math.min(255,w[y+2]+20);break;case"magic_color":const J=30,W=259*(J+255)/(255*(259-J));for(let y=0;y<w.length;y+=4)w[y]=Math.min(255,W*(w[y]-128)+128),w[y+1]=Math.min(255,W*(w[y+1]-128)+128),w[y+2]=Math.min(255,W*(w[y+2]-128)+128);break;case"bw":for(let y=0;y<w.length;y+=4){const re=w[y]*.299+w[y+1]*.587+w[y+2]*.114>128?255:0;w[y]=w[y+1]=w[y+2]=re}break;case"bw2":for(let y=0;y<w.length;y+=4){const a=w[y]*.299+w[y+1]*.587+w[y+2]*.114;w[y]=w[y+1]=w[y+2]=a}break}N.putImageData(T,0,0),k(h.toDataURL("image/jpeg",.9))},u.src=f}),wa=({onFilterChange:f,activeFilter:v})=>{const k=[{name:"Original",id:"original"},{name:"Lighten",id:"lighten"},{name:"Magic",id:"magic_color"},{name:"B&W",id:"bw"},{name:"Grayscale",id:"bw2"}];return e.jsx("div",{className:"flex justify-center space-x-1 sm:space-x-2 overflow-x-auto p-1 no-scrollbar bg-black/30 rounded-b-md",children:k.map(u=>e.jsx("button",{onClick:h=>{h.stopPropagation(),f(u.id)},className:`px-2 py-1 rounded-md font-semibold text-xs whitespace-nowrap transition-all text-white ${v===u.id?"bg-brand-red/80":"bg-black/40 hover:bg-black/60"}`,children:u.name},u.id))})},ya=({tool:f,onProcessStart:v,onProcessSuccess:k,onProcessError:u})=>{const h=s.useRef(null);s.useRef(null);const[N,T]=s.useState(null),[w,J]=s.useState([]),[W,y]=s.useState("initializing"),[a,re]=s.useState("environment"),[O,B]=s.useState(!1),[q,K]=s.useState(null),[M,se]=s.useState(null),[Z,ie]=s.useState(!1);s.useEffect(()=>{se(new ga({apiKey:"AIzaSyCuhbxmzoOTGS6UtX7OZjLwBiMfQNrOzJA"}))},[]);const n=s.useCallback(async()=>{N&&N.getTracks().forEach(j=>j.stop()),y("initializing");try{const j=await navigator.mediaDevices.getUserMedia({video:{facingMode:a}});T(j),h.current&&(h.current.srcObject=j),y("active")}catch(j){j instanceof DOMException?j.name==="NotAllowedError"?y("denied"):j.name==="NotFoundError"?y("not-found"):y("error"):y("error"),console.error(j)}},[N,a]),ne=s.useCallback(()=>{N&&(N.getTracks().forEach(j=>j.stop()),T(null))},[N]);s.useEffect(()=>(Z?ne():n(),()=>ne()),[n,ne,Z]);const b=()=>{re(j=>j==="environment"?"user":"environment")},R=()=>{if(!h.current||h.current.paused||h.current.ended)return;const j=document.createElement("canvas");j.width=h.current.videoWidth,j.height=h.current.videoHeight;const $=j.getContext("2d");if(!$)return;$.drawImage(h.current,0,0,j.width,j.height);const A=j.toDataURL("image/jpeg",.95);E(A)},E=async j=>{const $=Date.now();K($);let A=j;M&&(A=await I(j));const Q={id:$,original:A,filtered:A,filter:"original"};J(U=>[...U,Q]),K(null)},m=s.useCallback(j=>{if(j.length>0){const $=j[0],A=new FileReader;A.onload=Q=>E(Q.target?.result),A.readAsDataURL($)}},[]),{getRootProps:P,getInputProps:_,isDragActive:L}=je({onDrop:m,accept:{"image/*":[".jpeg",".jpg",".png",".webp"]}}),I=async j=>j,Y=async(j,$)=>{const A=w.find(U=>U.id===j);if(!A)return;const Q=await ba(A.original,$);J(U=>U.map(ee=>ee.id===j?{...ee,filtered:Q,filter:$}:ee))},F=j=>{J($=>$.filter(A=>A.id!==j))},X=async j=>{if(w.length===0){u("Please scan or upload at least one page.");return}v(),B(!0);try{if(j==="pdf"){const{jsPDF:$}=await D(async()=>{const{jsPDF:U}=await import("./jspdf.es.min-cSY7Xrdn.js").then(ee=>ee.j);return{jsPDF:U}},__vite__mapDeps([0,1,2,3])),A=new $("p","mm","a4");for(let U=0;U<w.length;U++){const ee=w[U];U>0&&A.addPage();const ge=new Image;await new Promise(qe=>{ge.onload=()=>qe(),ge.src=ee.filtered});const ue=A.internal.pageSize.getWidth(),he=A.internal.pageSize.getHeight(),xe=ge.width/ge.height,Pe=ue/he;let ke,ve;xe>Pe?(ke=ue,ve=ue/xe):(ve=he,ke=he*xe);const He=(ue-ke)/2,Je=(he-ve)/2;A.addImage(ge,"JPEG",He,Je,ke,ve)}const Q=A.output("blob");k(Q,"document_scan.pdf")}else{const $=(await D(async()=>{const{default:A}=await import("./jszip.min-CG955O0i.js").then(Q=>Q.j);return{default:A}},__vite__mapDeps([4,2,5,6]))).default;if(w.length===1){const Q=await(await fetch(w[0].filtered)).blob();k(Q,"scan.jpg")}else{const A=new $;for(let U=0;U<w.length;U++){const ee=w[U],ue=await(await fetch(ee.filtered)).blob();A.file(`scan_${U+1}.jpg`,ue)}const Q=await A.generateAsync({type:"blob"});k(Q,"scanned_images.zip")}}}catch($){console.error($),u(`Failed to generate ${j.toUpperCase()}. Please try again.`)}finally{B(!1)}},le=()=>e.jsxs("div",{className:"relative w-full aspect-[9/16] sm:aspect-video rounded-lg shadow-lg bg-black overflow-hidden",children:[e.jsx("video",{ref:h,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),W!=="active"&&e.jsxs("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center text-white text-center p-4",children:[W==="initializing"&&e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"}),W==="denied"&&e.jsxs(e.Fragment,{children:[e.jsx(gt,{className:"w-12 h-12 mb-4"}),e.jsx("h3",{className:"font-bold",children:"Camera access denied"}),e.jsx("p",{className:"text-sm",children:"Please allow camera access in your browser settings to continue."}),e.jsx("button",{onClick:n,className:"mt-4 px-4 py-2 bg-white/20 rounded-md font-semibold hover:bg-white/30",children:"Retry"})]}),W==="not-found"&&e.jsx("p",{children:"No camera found. Please connect a camera and try again."}),W==="error"&&e.jsx("p",{children:"Could not start camera. Please try again."})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/70 to-transparent",children:e.jsxs("div",{className:"flex items-center justify-around",children:[e.jsx("button",{onClick:()=>ie(!0),className:"p-3 bg-black/40 text-white rounded-full hover:bg-black/60 transition-colors","aria-label":"Upload image",children:e.jsx(pa,{className:"h-6 w-6"})}),e.jsx("button",{onClick:R,disabled:W!=="active",className:"bg-white p-2 rounded-full shadow-2xl border-4 border-gray-300 hover:bg-gray-200 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-4 focus:ring-offset-black focus:ring-brand-red disabled:opacity-50","aria-label":"Capture page",children:e.jsx("div",{className:"w-12 h-12 bg-brand-red rounded-full ring-2 ring-white ring-inset"})}),e.jsx("button",{onClick:b,className:"p-3 bg-black/40 text-white rounded-full hover:bg-black/60 transition-colors","aria-label":"Switch camera",children:e.jsx(mt,{className:"h-6 w-6"})})]})})]}),fe=()=>e.jsxs("div",{...P(),className:`relative flex flex-col items-center justify-center p-12 aspect-[9/16] sm:aspect-video rounded-lg cursor-pointer transition-all duration-300 border-2 border-dashed ${L?"border-brand-red bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-black hover:border-brand-red"}`,children:[e.jsx("input",{..._()}),e.jsx(ut,{className:"h-16 w-16 text-gray-400 mb-4"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Upload an Image"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"or drop it here"}),e.jsx("button",{onClick:j=>{j.stopPropagation(),ie(!1)},className:"mt-6 text-sm text-brand-red hover:underline font-semibold",children:"Use Camera Instead"})]});return e.jsxs("div",{className:"w-full max-w-5xl mx-auto space-y-6",children:[Z?e.jsx(fe,{}):e.jsx(le,{}),w.length>0&&e.jsxs("div",{className:"bg-white dark:bg-black p-4 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800",children:[e.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Scanned Pages (",w.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:w.map(j=>e.jsxs("div",{className:"relative group rounded-md overflow-hidden border-2 border-transparent focus-within:border-brand-red",children:[e.jsx("img",{src:j.filtered,alt:"Scanned page",className:"w-full aspect-[3/4] object-cover"}),q===j.id&&e.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center text-white",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}),e.jsx("p",{className:"text-xs mt-2 font-semibold",children:"Processing..."})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end",children:e.jsx(wa,{onFilterChange:$=>Y(j.id,$),activeFilter:j.filter})}),e.jsx("button",{onClick:()=>F(j.id),className:"absolute top-1 right-1 p-1 bg-black/50 rounded-full text-white hover:bg-red-600 transition-colors","aria-label":"Remove page",children:e.jsx(Ge,{className:"h-4 w-4"})})]},j.id))}),e.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-center gap-4",children:[e.jsx("button",{onClick:()=>X("pdf"),disabled:O||q!==null,className:"bg-brand-red hover:bg-brand-red-dark text-white font-bold py-3 px-8 rounded-lg text-lg disabled:bg-red-300",children:O?"Processing...":"Create PDF"}),e.jsx("button",{onClick:()=>X("jpg"),disabled:O||q!==null,className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-8 rounded-lg text-lg disabled:bg-gray-400",children:O?"Processing...":"Save as JPG"})]})]})]})},Ee=(f,v=2)=>{if(!f||f===0)return"0 Bytes";const k=1024,u=v<0?0:v,h=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],N=Math.floor(Math.log(f)/Math.log(k));return parseFloat((f/Math.pow(k,N)).toFixed(u))+" "+h[N]},va=f=>{if(f===null)return"--:-- remaining";if(f<60)return`${Math.round(f)}s remaining`;const v=Math.floor(f/60),k=Math.round(f%60);return`${v}m ${k}s remaining`},ja=({result:f})=>{const v=f.originalSize>0?(f.originalSize-f.newSize)/f.originalSize*100:0;return e.jsxs("div",{className:"my-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700 max-w-md mx-auto",children:[e.jsx("h3",{className:"font-bold text-lg text-blue-800 dark:text-blue-200",children:"Compression Complete!"}),e.jsxs("div",{className:"flex justify-between items-center mt-2 text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Original Size:"}),e.jsx("span",{className:"font-semibold",children:Ee(f.originalSize)})]}),e.jsxs("div",{className:"flex justify-between items-center mt-1 text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"New Size:"}),e.jsx("span",{className:"font-semibold",children:Ee(f.newSize)})]}),e.jsxs("div",{className:"mt-2 pt-2 border-t border-blue-200 dark:border-blue-600 flex justify-between items-center text-lg",children:[e.jsx("span",{className:"font-bold text-green-600 dark:text-green-400",children:"Reduction:"}),e.jsxs("span",{className:"font-extrabold text-green-600 dark:text-green-400",children:[v.toFixed(1),"%"]})]})]})},ka=({level:f,setLevel:v})=>{const k=[{id:"less",name:"Less Compression",description:"Higher quality, larger file size."},{id:"recommended",name:"Recommended Compression",description:"Good quality, good compression."},{id:"extreme",name:"Extreme Compression",description:"Lower quality, smallest file size."}];return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-100",children:"Compression Level"}),e.jsx("div",{className:"space-y-3",children:k.map(u=>e.jsxs("div",{onClick:()=>v(u.id),className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${f===u.id?"border-brand-red bg-red-50 dark:bg-red-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-400"}`,children:[e.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:u.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:u.description})]},u.id))})]})},ye=(f,v,k)=>{const u=v.length>0?v[0].name.replace(/\.[^/.]+$/,""):"file",h=v.length>0?v[0]:null;switch(f){case"merge-pdf":return"merged.pdf";case"split-pdf":return"split_files.zip";case"compress-pdf":return`${u}_compressed.pdf`;case"rotate-pdf":return`${u}_rotated.pdf`;case"protect-pdf":return`${u}_protected.pdf`;case"unlock-pdf":return`${u}_unlocked.pdf`;case"watermark-pdf":return`${u}_watermarked.pdf`;case"page-numbers":return`${u}_numbered.pdf`;case"jpg-to-pdf":return`${u}.pdf`;case"document-scanner":return"scanned_document.pdf";case"pdf-to-word":return`${u}.docx`;case"pdf-to-jpg":return`${u}_images.zip`;case"ocr-pdf":return`${u}_ocr.pdf`;case"word-to-pdf":return`${u}.pdf`;case"pdf-to-excel":return`${u}.xlsx`;case"excel-to-pdf":return`${u}.pdf`;case"pdf-to-powerpoint":return`${u}.pptx`;case"powerpoint-to-pdf":return`${u}.pptx`;case"crop-pdf":return`${u}_cropped.pdf`;case"redact-pdf":return`${u}_redacted.pdf`;case"repair-pdf":return v.length>1?"repaired_files.zip":`${u}_repaired.pdf`;case"pdf-to-pdfa":return`${u}_pdfa.pdf`;case"edit-pdf":return`${u}_edited.pdf`;case"sign-pdf":return`${u}_signed.pdf`;case"organize-pdf":return"organized.pdf";case"remove-background":return`${u}_no_bg.png`;case"psd-to-pdf":return`${u}.pdf`;case"pdf-to-png":return`${u}_images.zip`;case"extract-text":return`${u}.txt`;case"zip-maker":return"archive.zip";case"resize-file":return h?`${u}_resized.${h.name.split(".").pop()}`:"resized_file";case"resize-image":return v.length>1?"resized_images.zip":h?`${u}_resized.${k.resizeFormat||"jpg"}`:"resized_image";case"crop-image":return h?`${u}_cropped.${h.name.split(".").pop()}`:"cropped_image";case"convert-to-jpg":return v.length>1?"converted_to_jpg.zip":`${u}.jpg`;case"convert-from-jpg":return v.length>1?"converted_images.zip":`${u}.${k.convertToFormat||"png"}`;case"compress-image":return v.length>1?"compressed_images.zip":`${u}_compressed.jpg`;case"watermark-image":return v.length>1?"watermarked_images.zip":`${u}_watermarked.png`;default:return"processed-file.pdf"}},lt={compressionLevel:"recommended",splitMode:"all",splitRanges:"",splitFixedSize:1,watermarkType:"text",watermarkText:"CONFIDENTIAL",watermarkImage:null,watermarkFont:"Helvetica",watermarkSize:50,watermarkColor:"#e53935",watermarkOpacity:.5,watermarkPosition:"center",watermarkTiled:!0,watermarkRotation:-45,pageNumberPosition:"bottom-center",pageNumberFormat:"n",pageNumberStart:1,pageNumberPages:"",pageNumberSize:12,pageNumberColor:"#000000",pageOrientation:"auto",pageSize:"fit",pageMargin:"none",imageQuality:1.5,ocrLanguage:"eng",password:"",allowPrinting:!0,allowCopying:!0,allowModifying:!0,top:0,bottom:0,left:0,right:0,resizeMode:"percentage",resizePercentage:50,resizePdfCompression:"recommended",resizeUnit:"percent",resizeWidth:70,resizeHeight:70,maintainAspectRatio:!0,resizeResolution:72,resizeFormat:"jpg",resizeQuality:90,resizeBackground:"#FFFFFF",cropX:0,cropY:0,cropWidth:500,cropHeight:500,convertToFormat:"png",compressionQuality:.75,rotation:90},Ve=pt.createContext({tool:null}),Pa=()=>pt.useContext(Ve),Na=({files:f,onProcessStart:v,onProcessSuccess:k,onProcessError:u,onReset:h,onAddMoreFiles:N})=>{const[T,w]=s.useState([]),[J,W]=s.useState(!0),[y,a]=s.useState("Extracting pages..."),[re,O]=s.useState("asc"),B=s.useRef(null),q=s.useRef(null),{t:K}=We(),{tool:M}=Pa(),se=s.useCallback(async()=>{const m=await D(()=>import("./main-B39hoYVm.js").then(F=>F.aP),__vite__mapDeps([1,2,3]));W(!0),a("Extracting pages...");const P=[];let _=0;const L=f.map(F=>F.arrayBuffer().then(X=>m.getDocument({data:X}).promise)),I=await Promise.all(L);I.forEach(F=>_+=F.numPages);let Y=0;for(let F=0;F<f.length;F++){const X=f[F],le=I[F];for(let fe=1;fe<=le.numPages;fe++){Y++,a(`Extracting page ${Y} of ${_}...`);const j=await le.getPage(fe),$=j.getViewport({scale:.4}),A=document.createElement("canvas");A.width=$.width,A.height=$.height,await j.render({canvasContext:A.getContext("2d"),viewport:$});const Q=A.toDataURL("image/png");P.push({id:Date.now()+P.length,originalIndex:fe-1,imageDataUrl:Q,rotation:0,sourceFileIndex:F,fileName:X.name})}}w(P),W(!1)},[f]);s.useEffect(()=>{se()},[se]);const Z=m=>{w(T.map(P=>P.id===m?{...P,rotation:(P.rotation+90)%360}:P))},ie=m=>{w(T.filter(P=>P.id!==m))},n=m=>{const P={id:Date.now(),originalIndex:-1,imageDataUrl:"",rotation:0,sourceFileIndex:-1,isBlank:!0,fileName:"Blank Page"},_=[...T];_.splice(m,0,P),w(_)},ne=()=>{const m=[...T].sort((P,_)=>{if(P.isBlank||_.isBlank)return 0;const L=P.fileName.toLowerCase(),I=_.fileName.toLowerCase();return L<I?re==="asc"?-1:1:L>I?re==="asc"?1:-1:re==="asc"?P.originalIndex-_.originalIndex:_.originalIndex-P.originalIndex});w(m),O(P=>P==="asc"?"desc":"asc")},b=(m,P)=>{B.current=P,m.dataTransfer.effectAllowed="move"},R=(m,P)=>{q.current=P;const _=[...T],L=_[B.current];_.splice(B.current,1),_.splice(q.current,0,L),B.current=q.current,q.current=null,w(_)},E=async()=>{v();try{const{PDFDocument:m,degrees:P,PageSizes:_}=await D(async()=>{const{PDFDocument:F,degrees:X,PageSizes:le}=await import("./index-Dfj1X2-d.js");return{PDFDocument:F,degrees:X,PageSizes:le}},__vite__mapDeps([7,2])),L=await Promise.all(f.map(F=>F.arrayBuffer().then(X=>m.load(X,{ignoreEncryption:!0})))),I=await m.create();for(const F of T){if(F.isBlank){I.addPage(_.A4);continue}const X=L[F.sourceFileIndex],[le]=await I.copyPages(X,[F.originalIndex]);le.setRotation(P(F.rotation)),I.addPage(le)}const Y=await I.save();k(new Blob([Y],{type:"application/pdf"}))}catch(m){u(m.message||"An error occurred during organization.")}};return J?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-red mx-auto"}),e.jsx("p",{className:"mt-4",children:y})]}):e.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 items-start",children:[e.jsx("main",{className:"lg:col-span-9",children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[T.map((m,P)=>e.jsxs("div",{className:"relative group text-center",draggable:!0,onDragStart:_=>b(_,P),onDragEnter:_=>R(_,P),onDragOver:_=>_.preventDefault(),children:[e.jsxs("div",{className:"relative border-2 border-pink-100 dark:border-gray-700 group-hover:border-brand-red rounded-lg transition-all p-1 bg-white dark:bg-gray-800 shadow-md",children:[m.isBlank?e.jsx("div",{className:"aspect-[3/4] bg-gray-50 dark:bg-gray-700 flex items-center justify-center rounded-md border border-dashed",children:e.jsx("span",{className:"text-gray-400",children:"Blank Page"})}):e.jsx("img",{src:m.imageDataUrl,alt:`Page ${m.originalIndex+1}`,className:"w-full rounded-md",style:{transform:`rotate(${m.rotation}deg)`}}),e.jsxs("div",{className:"absolute top-1 right-1 flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>Z(m.id),title:"Rotate Page",className:"p-1.5 bg-gray-800/70 text-white rounded-full hover:bg-brand-red",children:e.jsx(mt,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>ie(m.id),title:"Delete Page",className:"p-1.5 bg-gray-800/70 text-white rounded-full hover:bg-brand-red",children:e.jsx(Ge,{className:"h-4 w-4"})})]})]}),e.jsx("p",{className:"text-sm mt-1",children:m.isBlank?"Blank":P+1})]},m.id)),e.jsxs("div",{onClick:()=>n(T.length),title:"Add blank page at the end",className:"aspect-[3/4] bg-white dark:bg-gray-800 flex flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400 hover:border-brand-red hover:text-brand-red cursor-pointer transition-colors",children:[e.jsx(ca,{className:"h-8 w-8"}),e.jsx("span",{className:"text-sm mt-2",children:"Add blank page"})]})]})}),e.jsxs("aside",{className:"lg:col-span-3 lg:sticky lg:top-24 bg-white dark:bg-black p-6 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:K(M.title)}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:N,title:"Add more files",className:"w-12 h-12 bg-brand-red rounded-full flex items-center justify-center text-white shadow-lg hover:bg-brand-red-dark transition-colors relative",children:e.jsx(ct,{className:"h-6 w-6"})}),e.jsx("span",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gray-900 text-white text-xs font-bold rounded-full flex items-center justify-center border-2 border-white dark:border-black",children:f.length})]})]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["A: ",f.map(m=>m.name).join(", ")]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:ne,className:"w-full flex items-center justify-center gap-2 p-3 border rounded-lg text-sm font-semibold hover:bg-gray-100 dark:hover:bg-gray-800",children:[e.jsx(da,{className:"h-5 w-5"})," Sort files by name"]}),e.jsx("button",{onClick:()=>h(),className:"w-full text-center text-brand-red font-semibold text-sm mt-2 hover:underline",children:"Reset all"})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("button",{onClick:E,disabled:T.length===0,className:"w-full bg-brand-red text-white font-bold py-3 px-6 rounded-lg text-lg flex items-center justify-center gap-2 hover:bg-brand-red-dark disabled:bg-red-300",children:[K(M.title)," ",e.jsx(Se,{className:"h-5 w-5"})]})})]})]})},Da=({className:f,style:v})=>e.jsx("svg",{className:f,style:v,viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M21 0L24.5258 17.4742L42 21L24.5258 24.5258L21 42L17.4742 24.5258L0 21L17.4742 17.4742L21 0Z",fill:"#FFD700",fillOpacity:"0.8"})}),_a=({imageSrc:f})=>{const v=s.useMemo(()=>Array.from({length:15}).map((k,u)=>({id:u,top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animationDuration:`${Math.random()*1.5+.8}s`,animationDelay:`${Math.random()*2}s`,size:`${Math.random()*16+8}px`})),[]);return e.jsxs("div",{className:"absolute inset-0 rounded-lg overflow-hidden",children:[f&&e.jsx("img",{src:f,alt:"Processing...",className:"absolute inset-0 w-full h-full object-contain"}),e.jsx("div",{className:"absolute inset-0 bg-black/70"}),e.jsx("div",{className:"absolute inset-0 w-full h-full",children:v.map(k=>e.jsx(Da,{className:"sparkle-effect",style:{top:k.top,left:k.left,width:k.size,height:k.size,animationDuration:k.animationDuration,animationDelay:k.animationDelay}},k.id))}),e.jsxs("div",{className:"absolute bottom-5 left-1/2 -translate-x-1/2 flex items-center gap-3 p-2 bg-gray-900/60 rounded-full backdrop-blur-sm border border-white/10",children:[e.jsx("button",{className:"w-10 h-10 bg-gray-200/20 text-white rounded-full flex items-center justify-center text-2xl font-light",children:"+"}),e.jsx("div",{className:"w-12 h-12 border-2 border-blue-400/30 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-10 h-10 border-2 border-t-transparent border-blue-400 rounded-full animate-spin"})}),f&&e.jsx("img",{src:f,alt:"thumbnail",className:"w-10 h-10 rounded-full object-cover border-2 border-white/20"})]})]})},Ca=({tool:f})=>{const[v,k]=s.useState(null),[u,h]=s.useState(null),[N,T]=s.useState(null),[w,J]=s.useState(null),[W,y]=s.useState(!1),[a,re]=s.useState(""),[O,B]=s.useState({key:"",current:0,total:100}),[q,K]=s.useState("transparent"),[M,se]=s.useState("#ffffff"),{addTask:Z}=ft(),{t:ie}=We(),n=s.useCallback(P=>{if(P.length>0){const _=P[0];k(_);const L=new FileReader;L.onload=I=>h(I.target?.result),L.readAsDataURL(_),re(""),T(null),J(null)}},[]),{getRootProps:ne,getInputProps:b,isDragActive:R}=je({onDrop:n,accept:f.accept,multiple:!1});s.useEffect(()=>v?((async()=>{y(!0),B({key:"Starting...",current:0,total:100});try{const{removeBackground:_}=await D(async()=>{const{removeBackground:Y}=await import("./index-CpVYfXh8.js");return{removeBackground:Y}},__vite__mapDeps([8,1,2,3])),L=await _(v,{progress:(Y,F,X)=>{B({key:Y==="download"?"Downloading AI Model":"Processing Image",current:F,total:X})}}),I=URL.createObjectURL(L);J(L),T(I)}catch(_){re("Could not process image. It might be too large, in an unsupported format, or the content could not be processed."),console.error(_)}finally{y(!1)}})(),()=>{N&&URL.revokeObjectURL(N)}):void 0,[v]);const E=()=>{k(null),h(null),T(null),J(null),re("")},m=async()=>{if(!w||!v)return;let P=w;const _=ye(f.id,[v],{});if(q==="color"&&N)try{const L=new Image;await new Promise((F,X)=>{L.onload=()=>F(),L.onerror=X,L.src=N});const I=document.createElement("canvas");I.width=L.naturalWidth,I.height=L.naturalHeight;const Y=I.getContext("2d");if(Y){Y.fillStyle=M,Y.fillRect(0,0,I.width,I.height),Y.drawImage(L,0,0);const F=await new Promise(X=>I.toBlob(X,"image/png"));F&&(P=F)}}catch(L){console.error("Failed to apply color background:",L)}if(P){const L=URL.createObjectURL(P),I=document.createElement("a");I.href=L,I.download=_,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(L),Z({toolId:f.id,toolTitle:ie(f.title),outputFilename:_,fileBlob:P})}};return v?e.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 items-start",children:[e.jsx("main",{className:"lg:col-span-8 bg-gray-100 dark:bg-gray-900 rounded-lg p-4",children:e.jsxs("div",{className:"relative w-full h-full aspect-square lg:aspect-auto min-h-[400px]",children:[e.jsx("div",{className:`absolute inset-0 rounded-md ${q==="transparent"?"bg-[url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAC1JREFUOE9jZGBgEGHAD97/D0eMGI2MDBsMAn4yMIDxfaemAPwI+b8pIM4ADzE0IBsASx07QfA8w54AAAAASUVORK5CYII=)]":""}`,style:{backgroundColor:q==="color"?M:"transparent"}}),!W&&e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center p-2",children:[N&&e.jsx("img",{src:N,alt:"Processed with background removed",className:"max-w-full max-h-full object-contain"}),a&&e.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded-md",children:[e.jsx("p",{className:"font-bold",children:"Processing Failed"}),e.jsx("p",{className:"text-sm mt-1",children:a})]})]}),W&&e.jsx(_a,{imageSrc:u})]})}),e.jsxs("aside",{className:"lg:col-span-4 bg-white dark:bg-black p-6 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Edit & Download"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm mb-2",children:"Original"}),e.jsx("img",{src:u,alt:"Original input",className:"w-full rounded-md border"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm mb-2",children:"Background"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>K("transparent"),className:`flex-1 p-2 border-2 rounded-md text-sm ${q==="transparent"?"border-brand-red":""}`,children:"Transparent"}),e.jsx("button",{onClick:()=>K("color"),className:`flex-1 p-2 border-2 rounded-md text-sm ${q==="color"?"border-brand-red":""}`,children:"Color"})]}),q==="color"&&e.jsx("input",{type:"color",value:M,onChange:P=>se(P.target.value),className:"w-full h-10 mt-2 p-1 border rounded-md"})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-700 space-y-3",children:[e.jsxs("button",{onClick:m,disabled:!N,className:"w-full bg-brand-red text-white font-bold py-3 px-6 rounded-lg text-lg flex items-center justify-center gap-2 hover:bg-brand-red-dark disabled:bg-red-300",children:[e.jsx(dt,{className:"h-5 w-5"})," Download"]}),e.jsx("button",{onClick:E,className:"w-full text-center text-gray-500 dark:text-gray-400 font-semibold text-sm hover:underline",children:"Process another image"})]})]})]})]}):e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs("div",{...ne(),className:`relative flex flex-col items-center justify-center p-12 rounded-2xl cursor-pointer transition-all duration-300 border-2 border-dashed ${R?"border-brand-red bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-black hover:border-brand-red"}`,children:[e.jsx("input",{...b()}),e.jsx(ut,{className:"h-16 w-16 text-gray-400 mb-4"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Select an Image"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"or drop it here"})]})})},Sa={"merge-pdf":"Combine multiple PDF files into one single PDF document with PDFBullet's free online PDF merger. Easy to use, no installation needed.","split-pdf":"Split a large PDF file into separate pages or extract a specific range of pages into a new PDF document. Fast and secure splitting tool.","compress-pdf":"Reduce the file size of your PDF documents online for free. Optimize your PDFs for web and email sharing without losing quality.","pdf-to-word":"Convert your PDF files to editable DOCX Word documents. Our converter preserves layouts, text, and images accurately.","pdf-to-powerpoint":"Turn your PDF presentations into editable PPTX slideshows. Each PDF page becomes a slide in PowerPoint.","pdf-to-excel":"Extract data and tables from your PDF files into editable Excel spreadsheets. Convert PDF to XLSX with high accuracy.","word-to-pdf":"Convert Microsoft Word documents (DOCX) to PDF format. Preserve your formatting and share your documents securely.","powerpoint-to-pdf":"Convert Microsoft PowerPoint presentations (PPTX) to PDF. Perfect for sharing and archiving your slides.","excel-to-pdf":"Convert Microsoft Excel spreadsheets (XLSX) to PDF. Ensure your tables and data are presented perfectly every time.","edit-pdf":"Edit PDF files online. Add text, images, shapes, and annotations to your documents with our powerful and free PDF editor.","pdf-to-jpg":"Convert each page of your PDF into a high-quality JPG image. You can also extract all embedded images from a PDF.","jpg-to-pdf":"Convert JPG images to PDF files. Combine multiple images into a single PDF document, adjust orientation and margins.","sign-pdf":"Sign PDF documents yourself or request electronic signatures from others. Create legally binding signatures for free.","watermark-pdf":"Add a text or image watermark to your PDF files. Protect your documents with a custom watermark.","rotate-pdf":"Rotate PDF pages. Permanently rotate all or specific pages in your PDF document to the correct orientation.","html-to-pdf":"Convert any webpage to a high-quality PDF file by simply entering the URL.","unlock-pdf":"Remove password protection and restrictions from your PDF files. Unlock secured PDFs so you can edit and print them.","protect-pdf":"Add a password to your PDF file to protect it from unauthorized access. Encrypt your sensitive documents.","organize-pdf":"Reorder, delete, and add pages to your PDF document. Visually organize your PDF files with ease.","pdf-to-pdfa":"Convert your PDF documents to PDF/A, the ISO-standardized version of PDF for long-term archiving.","repair-pdf":"Attempt to repair and recover data from corrupted or damaged PDF files.","page-numbers":"Add page numbers to your PDF documents. Customize the position, format, and style of your page numbers.","document-scanner":"Use your device camera to scan documents and convert them to high-quality PDF files. Adjust filters for perfect scans.","ocr-pdf":"Convert scanned PDFs and images into searchable and selectable text documents using Optical Character Recognition (OCR).","compare-pdf":"Compare two PDF files side-by-side to find differences. Highlights changes in text and content.","redact-pdf":"Permanently remove sensitive information and text from your PDF documents by blacking it out.","crop-pdf":"Crop the margins of your PDF file. Select an area to crop and remove unwanted parts of your pages.","remove-background":"Automatically remove the background from any image with a single click. Get a transparent PNG output.","psd-to-pdf":"Convert Adobe Photoshop (PSD) files to PDF format.","pdf-to-png":"Convert PDF pages to high-quality PNG images.","extract-text":"Extract all text from a PDF file into a simple TXT file.","zip-maker":"Create a ZIP archive from multiple files. Compress your files for easy storage and sharing.","resize-file":"Resize PDF documents or images to reduce file size or change dimensions.","resize-image":"Resize images by pixels or percentage. Maintain aspect ratio and choose output format.","crop-image":"Crop images online. Define a crop box to cut out a part of your image.","convert-to-jpg":"Convert various image formats like PNG, GIF, WEBP, and SVG to JPG.","convert-from-jpg":"Convert JPG images to other formats like PNG or GIF.","compress-image":"Compress images to reduce their file size without significant quality loss.","watermark-image":"Add a text or image watermark to your photos and images."},Ka=()=>{const{toolId:f}=Vt(),v=Gt();Wt();const{user:k,sendTaskCompletionEmail:u}=Ht(),{t:h}=We(),{signature:N,saveSignature:T}=ua(),{addSignedDocument:w}=fa(),{addTask:J}=ft(),W=s.useRef(null),{setShowFooter:y}=s.useContext(Jt),[a,re]=s.useState(null),[O,B]=s.useState("IDLE"),[q,K]=s.useState(""),[M,se]=s.useState(null),[Z,ie]=s.useState(""),[n,ne]=s.useState([]),[b,R]=s.useState(lt),[E,m]=s.useState(null),[P,_]=s.useState(!1),[L,I]=s.useState(""),[Y,F]=s.useState(""),[X,le]=s.useState(""),[fe,j]=s.useState(!1),[$,A]=s.useState(!1),[Q,U]=s.useState({google:"idle",dropbox:"idle"}),[ee,ge]=s.useState([]),[ue,he]=s.useState([]),[xe,Pe]=s.useState([]),[ke,ve]=s.useState(!1),[He,Je]=s.useState("signature"),[qe,ht]=s.useState(null),Ie=s.useRef(null),[Xe,xt]=s.useState([]),[Ea,bt]=s.useState(!1),[Ia,wt]=s.useState(null),[Ra,yt]=s.useState(null),[Fa,vt]=s.useState([]),[Aa,Re]=s.useState(null),[Qe,Ke]=s.useState(null),[jt,Fe]=s.useState(!1),[kt,me]=s.useState(!1),[Ae,Ze]=s.useState("editable"),[Ye,Pt]=s.useState(!1),[Ne,De]=s.useState(null),[Nt,Le]=s.useState(0),[Dt,Oe]=s.useState(null),[La,Be]=s.useState([]),[Oa,Te]=s.useState(!1),[Ba,Ta]=s.useState("asc"),[$a,_t]=s.useState(!1),et=s.useRef(null),_e=s.useMemo(()=>n.reduce((t,r)=>t+r.size,0),[n]),Ct=()=>{if(M){const t=Z||ye(a.id,n,b);$e(M,t)}},St=async()=>{if(!M)return;_(!0);const t=URL.createObjectURL(M);I(t),j(!0),le("");try{const l=await(await D(()=>import("./main-B39hoYVm.js").then(c=>c.b),__vite__mapDeps([1,2,3]))).toDataURL(t,{width:200});F(l)}catch{le("Could not generate QR code.")}finally{j(!1)}},Et=()=>{if(!M)return;U(l=>({...l,dropbox:"saving"}));const t=Z||ye(a.id,n,b),r=URL.createObjectURL(M);Dropbox.save(r,t,{success:()=>{U(l=>({...l,dropbox:"saved"})),setTimeout(()=>U(l=>({...l,dropbox:"idle"})),2e3)},error:()=>{U(l=>({...l,dropbox:"idle"})),alert("Failed to save to Dropbox.")}})},[za,It]=s.useState(!1),[Ma,Ua]=s.useState(null),tt=s.useCallback(t=>{ne(r=>[...r,...t].filter((l,c,g)=>c===g.findIndex(d=>d.name===l.name&&d.size===l.size)))},[]),{getRootProps:Va,getInputProps:Ga,open:Rt}=je({onDrop:tt,noClick:!0,noKeyboard:!0,accept:a?.accept||{"application/pdf":[".pdf"]}});je({onDrop:tt,accept:a?.accept||{"application/pdf":[".pdf"]}}),s.useEffect(()=>{gapi&&gapi.load("client:picker",()=>It(!0))},[]),s.useEffect(()=>{const t=r=>{et.current&&!et.current.contains(r.target)&&_t(!1)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]),s.useEffect(()=>(y(O==="SUCCESS"),()=>{y(!0)}),[O,y]),s.useEffect(()=>{if(O==="PROCESSING"&&E&&Ne&&_e>0&&E.percentage>0){const t=(Date.now()-Ne)/1e3,r=_e*(E.percentage/100),l=t>0?r/t:0;if(Le(l),E.percentage>5){const c=t/E.percentage*100,g=Math.max(0,c-t);Oe(g)}}else O!=="PROCESSING"&&(De(null),Le(0),Oe(null))},[E,O,Ne,_e]);const $e=s.useCallback((t,r)=>{const l=URL.createObjectURL(t),c=document.createElement("a");c.href=l,c.download=r,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(l)},[]);s.useEffect(()=>{if(O==="SUCCESS"&&M){const t=Z||(a?ye(a.id,n,b):"download");$e(M,t),ie("")}},[O,M,a,n,b,$e,Z]);const Ft=t=>{if(!t)return"Processing...";const r=h(t.title);if(r.toLowerCase().startsWith("convert ")){const i=r.substring(8).split(/ to /i);return e.jsxs(e.Fragment,{children:["Converting ",e.jsx("strong",{children:i[0]})," to ",e.jsx("strong",{children:i[1]}),"..."]})}if(r.includes(" to ")){const p=r.split(/ to /i);return e.jsxs(e.Fragment,{children:["Converting ",e.jsx("strong",{children:p[0]})," to ",e.jsx("strong",{children:p[1]}),"..."]})}const l=r.split(" ");let c=l[0];const g=l.slice(1).join(" ");let d=c;return c.endsWith("e")?d=c.slice(0,-1)+"ing":["split","compress","redact"].some(p=>c.toLowerCase().includes(p))?d=c+c.slice(-1)+"ing":d=c+"ing",r==="Create ZIP file"?e.jsx(e.Fragment,{children:"Creating ZIP file..."}):e.jsxs(e.Fragment,{children:[d.charAt(0).toUpperCase()+d.slice(1)," ",g,"..."]})},at=s.useMemo(()=>{if(!a||O==="PROCESSING"||n.length===0)return!0;switch(a.id){case"protect-pdf":return!b.password||b.password.length===0;case"unlock-pdf":return n.length>0&&(!b.password||b.password.length===0);case"watermark-pdf":case"watermark-image":return b.watermarkType==="text"?!b.watermarkText||b.watermarkText.trim().length===0:!b.watermarkImage;default:return!1}},[a,b,O,n]),At=s.useMemo(()=>{if(!a||O==="PROCESSING")return!0;switch(a.id){case"sign-pdf":case"edit-pdf":return xe.length===0;case"redact-pdf":return Xe.length===0;default:return!1}},[a,xe.length,Xe.length,O]),pe=s.useCallback(()=>{B("IDLE"),K(""),se(null),ne([]),R(lt),m(null),I(""),_(!1),U({google:"idle",dropbox:"idle"}),ge([]),he([]),Pe([]),ve(!1),ht(null),xt([]),bt(!1),wt(null),yt(null),vt([]),Re(null),Ke(null),Fe(!1),me(!1),De(null),Le(0),Oe(null),Be([]),Te(!1)},[]);s.useEffect(()=>{if(!W.current){const l=document.getElementById("meta-description"),c=document.getElementById("meta-keywords");W.current={title:document.title,desc:l?l.content:"",keywords:c?c.content:""}}const t=st.find(l=>l.id===f),r=()=>{const l=document.getElementById("tool-structured-data");l&&l.remove()};if(t){if(t.isPremium&&!k?.isPremium){v("/premium-feature",{state:{toolId:t.id}});return}re(t),pe();const l=`${h(t.title)} – PDFBullet`,c=Sa[t.id]||`Use the ${h(t.title)} tool on PDFBullet. ${h(t.description)} Fast, free, and secure.`,g=[h(t.title).toLowerCase(),`free ${h(t.title).toLowerCase()}`,`online ${h(t.title).toLowerCase()}`,t.id.replace(/-/g," "),`pdfbullet ${h(t.title).toLowerCase()}`,"pdf tools","document management"];t.category?.includes("convert")&&g.push("pdf converter","file converter"),t.category==="edit"&&g.push("pdf editor","edit pdf online"),t.category==="security"&&g.push("pdf security","secure pdf");const d=[...new Set(g)].join(", ");document.title=l;const p=document.getElementById("meta-description"),i=document.getElementById("meta-keywords");p&&(p.content=c),i&&(i.content=d);const o="tool-structured-data";let x=document.getElementById(o);x||(x=document.createElement("script"),x.id=o,x.type="application/ld+json",document.head.appendChild(x));const C={"@context":"https://schema.org","@type":"SoftwareApplication",name:h(t.title),applicationCategory:"ProductivityApplication",operatingSystem:"Web",description:h(t.description),url:`https://pdfbullet.com/#/${t.id}`,offers:{"@type":"Offer",price:t.isPremium?"5.00":"0.00",priceCurrency:"USD"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",reviewCount:"2500"},publisher:{"@type":"Organization",name:"PDFBullet"}};x.textContent=JSON.stringify(C)}else["invoice-generator","cv-generator","lesson-plan-creator","ai-question-generator","ai-image-generator"].includes(f||"")||v("/");return r},[f,v,k,pe,h]);const Ce=s.useCallback(async()=>{if(!(!a||!["sign-pdf","edit-pdf","redact-pdf"].includes(a.id)||n.length===0)){B("PROCESSING"),m({percentage:0,status:"Loading document pages..."});try{const r=await D(()=>import("./main-B39hoYVm.js").then(g=>g.aP),__vite__mapDeps([1,2,3])),l=[],c=[];for(let g=0;g<n.length;g++){const d=n[g],p=await d.arrayBuffer(),i=await r.getDocument({data:p}).promise;for(let o=1;o<=i.numPages;o++){m({percentage:Math.round((g*i.numPages+o)/(n.length*i.numPages)*100),status:`Extracting page ${o} from ${d.name}`});const x=await i.getPage(o),S=x.getViewport({scale:1.5}),z=document.createElement("canvas");z.width=S.width,z.height=S.height,await x.render({canvasContext:z.getContext("2d"),viewport:S});const te=z.toDataURL("image/png");l.push(te),c.push(S)}}ge(l),he(c),B("IDLE")}catch(r){console.error(r),K("Failed to load PDF. The file might be corrupt or protected."),B("ERROR")}finally{m(null)}}},[n,a]);s.useEffect(()=>{if(a?.id==="resize-image"&&n.length>0){const t=n[0],r=new Image;r.onload=()=>{Re({width:r.width,height:r.height})};const l=URL.createObjectURL(t);return r.src=l,()=>{URL.revokeObjectURL(l)}}else Re(null)},[n,a?.id]),s.useEffect(()=>{["edit-pdf","redact-pdf"].includes(a?.id||"")&&n.length>0?Ce():a?.id!=="compare-pdf"&&a?.id!=="sign-pdf"&&a?.id!=="organize-pdf"&&a?.id!=="repair-pdf"&&ge([])},[n,a?.id,Ce]),s.useEffect(()=>{a?.id==="repair-pdf"&&n.length>0?(async()=>{const r=await D(()=>import("./main-B39hoYVm.js").then(c=>c.aP),__vite__mapDeps([1,2,3]));Te(!0);const l=[];for(let c=0;c<n.length;c++)try{const g=n[c],d=await g.arrayBuffer(),i=await(await r.getDocument({data:d}).promise).getPage(1),o=i.getViewport({scale:.5}),x=document.createElement("canvas");x.width=o.width,x.height=o.height;const C=x.getContext("2d");C&&(await i.render({canvasContext:C,viewport:o}),l.push({fileIndex:c,fileName:g.name,dataUrl:x.toDataURL()}))}catch(g){console.error("Could not generate preview for",n[c].name,g)}Be(l),Te(!1)})():Be([])},[n,a?.id]),s.useEffect(()=>{a?.id==="sign-pdf"&&n.length>0&&ee.length===0&&Fe(!0)},[n,a,ee]);const Lt=()=>{if(Fe(!1),!k){v("/login",{state:{from:"/sign-pdf"}});return}N?.signature?Ce():me(!0)},Ot=(t,r)=>{T(t,r),me(!1),Ce()},rt=t=>{if(!N||t==="signature"&&!N.signature||t==="initials"&&!N.initials){me(!0);return}if(Ie.current){const r=Ie.current.querySelector("#pdf-page-0");if(r){const l=t==="signature"?N.signature:N.initials,c=t==="signature",g=c?150:60,d=c?75:60,p=r.offsetLeft+r.clientWidth/2-g/2,i=r.offsetTop+r.clientHeight/2-d/2,o={id:Date.now(),type:t,dataUrl:l,width:g,height:d,x:p,y:i,pageIndex:0};Pe(x=>[...x,o])}}},ze=async()=>{if(!(!a||n.length===0)){B("PROCESSING"),De(Date.now()),K(""),se(null),m({percentage:0,status:"Starting process..."});try{let t=null;switch(a.id){case"merge-pdf":{const{PDFDocument:r}=await D(async()=>{const{PDFDocument:d}=await import("./index-Dfj1X2-d.js");return{PDFDocument:d}},__vite__mapDeps([7,2]));if(n.length<2)throw new Error("Please select at least two PDF files to merge.");const l=await r.create();let c=0;for(const d of n){if(c++,m({percentage:Math.round(c/n.length*100),status:`Merging ${d.name}`}),d.type!=="application/pdf")throw new Error(`File "${d.name}" is not a PDF.`);const p=await d.arrayBuffer(),i=await r.load(p,{ignoreEncryption:!0});(await l.copyPages(i,i.getPageIndices())).forEach(x=>l.addPage(x))}const g=await l.save();t=new Blob([g],{type:"application/pdf"});break}case"split-pdf":{const{PDFDocument:r}=await D(async()=>{const{PDFDocument:o}=await import("./index-Dfj1X2-d.js");return{PDFDocument:o}},__vite__mapDeps([7,2])),l=(await D(async()=>{const{default:o}=await import("./jszip.min-CG955O0i.js").then(x=>x.j);return{default:o}},__vite__mapDeps([4,2,5,6]))).default;if(n.length!==1)throw new Error("Please select exactly one PDF file to split.");const c=n[0],g=new l,d=await c.arrayBuffer(),p=await r.load(d,{ignoreEncryption:!0}),i=p.getPageCount();for(let o=0;o<i;o++){m({percentage:Math.round((o+1)/i*100),status:`Splitting page ${o+1} of ${i}`});const x=await r.create(),[C]=await x.copyPages(p,[o]);x.addPage(C);const S=await x.save();g.file(`${c.name.replace(".pdf","")}_page_${o+1}.pdf`,S)}t=await g.generateAsync({type:"blob"});break}case"compress-pdf":{const{PDFDocument:r}=await D(async()=>{const{PDFDocument:o}=await import("./index-Dfj1X2-d.js");return{PDFDocument:o}},__vite__mapDeps([7,2])),l=await D(()=>import("./main-B39hoYVm.js").then(o=>o.aP),__vite__mapDeps([1,2,3]));if(n.length!==1)throw new Error("Please select one PDF file to compress.");const c=n[0],g=c.size,d=await c.arrayBuffer();let p;if(b.compressionLevel==="less")m({percentage:50,status:"Applying light compression..."}),p=await(await r.load(d,{ignoreEncryption:!0})).save({useObjectStreams:!0});else{const o=b.compressionLevel==="extreme",x=o?.6:.8,C=o?1:1.5;m({percentage:10,status:`Rasterizing PDF for ${o?"extreme":"recommended"} compression...`});const S=await l.getDocument({data:new Uint8Array(d)}).promise,z=await r.create();for(let te=1;te<=S.numPages;te++){m({percentage:10+Math.round(te/S.numPages*80),status:`Processing page ${te}`});const V=await S.getPage(te),G=V.getViewport({scale:C}),H=document.createElement("canvas");H.width=G.width,H.height=G.height;const oe=H.getContext("2d");oe.fillStyle="white",oe.fillRect(0,0,H.width,H.height),await V.render({canvasContext:oe,viewport:G});const de=H.toDataURL("image/jpeg",x),ce=await fetch(de).then(we=>we.arrayBuffer()),be=await z.embedJpg(ce),ae=z.addPage([V.view[2],V.view[3]]);ae.drawImage(be,{x:0,y:0,width:ae.getWidth(),height:ae.getHeight()})}m({percentage:95,status:"Saving compressed PDF..."}),p=await z.save()}const i=p.byteLength;Ke({originalSize:g,newSize:i}),i>=g?t=new Blob([d],{type:"application/pdf"}):t=new Blob([p],{type:"application/pdf"});break}case"rotate-pdf":{const{PDFDocument:r,degrees:l}=await D(async()=>{const{PDFDocument:i,degrees:o}=await import("./index-Dfj1X2-d.js");return{PDFDocument:i,degrees:o}},__vite__mapDeps([7,2]));if(n.length!==1)throw new Error("Please select one PDF file to rotate.");const g=await n[0].arrayBuffer(),d=await r.load(g,{ignoreEncryption:!0});d.getPages().forEach(i=>i.setRotation(l(i.getRotation().angle+b.rotation)));const p=await d.save();t=new Blob([p],{type:"application/pdf"});break}case"repair-pdf":{const{PDFDocument:r}=await D(async()=>{const{PDFDocument:d}=await import("./index-Dfj1X2-d.js");return{PDFDocument:d}},__vite__mapDeps([7,2])),l=(await D(async()=>{const{default:d}=await import("./jszip.min-CG955O0i.js").then(p=>p.j);return{default:d}},__vite__mapDeps([4,2,5,6]))).default;if(n.length===0)throw new Error("Please select at least one PDF file to repair.");const c=new l;let g=0;for(const d of n){g++,m({percentage:Math.round(g/n.length*90),status:`Attempting to repair ${d.name}...`});try{const p=await d.arrayBuffer(),o=await(await r.load(p,{ignoreEncryption:!0,updateMetadata:!1})).save();c.file(d.name.replace(/\.pdf$/i,"_repaired.pdf"),o)}catch(p){console.error(`Could not repair ${d.name}:`,p),c.file(`${d.name.replace(/\.pdf$/i,"")}_REPAIR_FAILED.txt`,"We were unable to repair this file. It might be too corrupted or in an unsupported format.")}}if(m({percentage:100,status:"Packaging files..."}),n.length>1)t=await c.generateAsync({type:"blob"});else{const d=Object.keys(c.files)[0];if(d&&d.endsWith(".pdf")){const p=await c.file(d)?.async("uint8array");if(p)t=new Blob([p],{type:"application/pdf"});else throw new Error("Failed to extract the repaired file.")}else t=await c.generateAsync({type:"blob"})}break}case"sign-pdf":{const{PDFDocument:r}=await D(async()=>{const{PDFDocument:i}=await import("./index-Dfj1X2-d.js");return{PDFDocument:i}},__vite__mapDeps([7,2]));if(n.length!==1)throw new Error("Please select one PDF file to sign.");const l=n[0],c=await l.arrayBuffer(),g=await r.load(c,{ignoreEncryption:!0}),d=g.getPages();for(const i of xe)if(i.pageIndex<d.length){const o=d[i.pageIndex],x=ue[i.pageIndex],C=o.getWidth()/x.width,S=i.dataUrl?.startsWith("data:image/png")?await g.embedPng(i.dataUrl):i.dataUrl?await g.embedJpg(i.dataUrl):null;S&&o.drawImage(S,{x:i.x*C,y:o.getHeight()-i.y*C-i.height*C,width:i.width*C,height:i.height*C})}const p=await g.save();t=new Blob([p],{type:"application/pdf"}),k&&w({originator:k.username,originalFile:l,originalFileName:l.name,signedFile:t,signedFileName:ye(a.id,n,b),signers:[{name:k.username,signedAt:new Date().toISOString()}],status:"Signed",auditTrail:JSON.stringify([{event:"Created",user:k.username,timestamp:new Date().toISOString()},{event:"Signed",user:k.username,timestamp:new Date().toISOString()}])});break}case"powerpoint-to-pdf":{const r=(await D(async()=>{const{default:o}=await import("./jszip.min-CG955O0i.js").then(x=>x.j);return{default:o}},__vite__mapDeps([4,2,5,6]))).default,{jsPDF:l}=await D(async()=>{const{jsPDF:o}=await import("./jspdf.es.min-cSY7Xrdn.js").then(x=>x.j);return{jsPDF:o}},__vite__mapDeps([0,1,2,3]));if(n.length!==1)throw new Error("Please select one PowerPoint file.");const g=await n[0].arrayBuffer(),d=await r.loadAsync(g),p=[];for(const o in d.files)o.startsWith("ppt/slides/slide")&&p.push(o);p.sort();const i=new l("l","px","a4");for(let o=0;o<p.length;o++){o>0&&i.addPage();const x=await d.file(p[o]).async("string"),C=new DOMParser().parseFromString(x,"application/xml").getElementsByTagName("a:t");let S="";for(let z=0;z<C.length;z++)S+=C[z].textContent+`
`;i.text(S,20,20)}t=i.output("blob");break}case"extract-text":{const r=await D(()=>import("./main-B39hoYVm.js").then(d=>d.aP),__vite__mapDeps([1,2,3]));if(n.length!==1)throw new Error("Please select one PDF file.");const l=n[0],c=await r.getDocument({data:await l.arrayBuffer()}).promise;let g="";for(let d=1;d<=c.numPages;d++){const i=await(await c.getPage(d)).getTextContent();g+=i.items.map(o=>"str"in o?o.str:"").join(" ")+`

`}t=new Blob([g],{type:"text/plain"});break}case"zip-maker":{const r=(await D(async()=>{const{default:c}=await import("./jszip.min-CG955O0i.js").then(g=>g.j);return{default:c}},__vite__mapDeps([4,2,5,6]))).default;if(n.length===0)throw new Error("Please select files to zip.");const l=new r;for(let c=0;c<n.length;c++){const g=n[c];m({percentage:Math.round((c+1)/n.length*100),status:`Adding ${g.name}`}),l.file(g.name,g)}t=await l.generateAsync({type:"blob"});break}case"remove-background":{const{removeBackground:r}=await D(async()=>{const{removeBackground:g}=await import("./index-CpVYfXh8.js");return{removeBackground:g}},__vite__mapDeps([8,1,2,3]));if(n.length!==1)throw new Error("Please select one image file.");const l=n[0];m({percentage:50,status:"Removing background..."}),t=await r(l);break}case"jpg-to-pdf":{const{PDFDocument:r}=await D(async()=>{const{PDFDocument:g}=await import("./index-Dfj1X2-d.js");return{PDFDocument:g}},__vite__mapDeps([7,2])),l=await r.create();for(let g=0;g<n.length;g++){const d=n[g];m({percentage:Math.round((g+1)/n.length*100),status:`Adding ${d.name}`});const p=await d.arrayBuffer();let i;if(d.type==="image/jpeg")i=await l.embedJpg(p);else if(d.type==="image/png")i=await l.embedPng(p);else throw new Error(`Unsupported image type: ${d.type}`);const{width:o,height:x}=i.scale(1);l.addPage([o,x]).drawImage(i,{x:0,y:0,width:o,height:x})}const c=await l.save();t=new Blob([c],{type:"application/pdf"});break}case"word-to-pdf":case"excel-to-pdf":{const r=(await D(async()=>{const{default:ae}=await import("./index-CDEvsS2u.js").then(we=>we.i);return{default:ae}},__vite__mapDeps([9,2,10,5,6]))).default,l=await D(()=>import("./xlsx-DGuHH-KN.js"),[]),c=(await D(async()=>{const{default:ae}=await import("./html2canvas.esm-B0tyYwQk.js");return{default:ae}},[])).default,{jsPDF:g}=await D(async()=>{const{jsPDF:ae}=await import("./jspdf.es.min-cSY7Xrdn.js").then(we=>we.j);return{jsPDF:ae}},__vite__mapDeps([0,1,2,3]));if(n.length!==1)throw new Error(`Please select one ${a.id==="word-to-pdf"?"Word":"Excel"} file.`);const p=await n[0].arrayBuffer();m({percentage:20,status:"Converting to HTML..."});let i="";if(a.id==="word-to-pdf"){const ae=await r.convertToHtml({arrayBuffer:p});if(!ae.value||ae.value.trim()==="")throw new Error("The Word document appears to be empty or could not be read. Please try a different file.");i=`<div style="font-family: 'Times New Roman', Times, serif; line-height: 1.5; font-size: 12pt; color: black; background-color: white;">${ae.value}</div>`}else{const ae=l.read(p,{type:"array"}),we=ae.SheetNames[0],Mt=ae.Sheets[we];i=`
                        <style>
                            table { border-collapse: collapse; width: 100%; font-family: sans-serif; font-size: 10px; color: black; background-color: white; }
                            th, td { border: 1px solid #dddddd; text-align: left; padding: 4px; }
                            th { background-color: #f2f2f2; }
                        </style>
                        ${l.utils.sheet_to_html(Mt)}
                    `}const o=document.createElement("div");o.style.position="absolute",o.style.left="-9999px",o.style.padding="15mm",o.style.backgroundColor="white",o.innerHTML=i,document.body.appendChild(o),o.style.width=a.id==="excel-to-pdf"?o.scrollWidth+"px":"210mm",m({percentage:60,status:"Capturing document..."});const x=await c(o,{scale:2,useCORS:!0,logging:!1,width:o.scrollWidth,height:o.scrollHeight});document.body.removeChild(o),m({percentage:80,status:"Generating PDF..."});const C=x.toDataURL("image/png"),S=new g({orientation:x.width>x.height?"landscape":"portrait",unit:"mm",format:"a4"}),z=S.internal.pageSize.getWidth(),te=S.internal.pageSize.getHeight(),V=x.width,G=x.height,H=V/G;let oe=z,de=oe/H,ce=de,be=0;for(S.addImage(C,"PNG",0,be,oe,de),ce-=te;ce>0;)be-=te,S.addPage(),S.addImage(C,"PNG",0,be,oe,de),ce-=te;t=S.output("blob");break}case"pdf-to-jpg":{const r=(await D(async()=>{const{default:i}=await import("./jszip.min-CG955O0i.js").then(o=>o.j);return{default:i}},__vite__mapDeps([4,2,5,6]))).default,l=await D(()=>import("./main-B39hoYVm.js").then(i=>i.aP),__vite__mapDeps([1,2,3]));if(n.length!==1)throw new Error("Please select one PDF file.");const c=n[0],g=new r,d=await c.arrayBuffer(),p=await l.getDocument({data:d}).promise;for(let i=1;i<=p.numPages;i++){m({percentage:Math.round(i/p.numPages*100),status:`Converting page ${i}`});const o=await p.getPage(i),x=o.getViewport({scale:2}),C=document.createElement("canvas");C.width=x.width,C.height=x.height,await o.render({canvasContext:C.getContext("2d"),viewport:x});const S=C.toDataURL("image/jpeg",.9),z=await(await fetch(S)).blob();g.file(`${c.name.replace(".pdf","")}_page_${i}.jpg`,z)}t=await g.generateAsync({type:"blob"});break}case"pdf-to-png":{const r=(await D(async()=>{const{default:i}=await import("./jszip.min-CG955O0i.js").then(o=>o.j);return{default:i}},__vite__mapDeps([4,2,5,6]))).default,l=await D(()=>import("./main-B39hoYVm.js").then(i=>i.aP),__vite__mapDeps([1,2,3]));if(n.length!==1)throw new Error("Please select one PDF file.");const c=n[0],g=new r,d=await c.arrayBuffer(),p=await l.getDocument({data:d}).promise;for(let i=1;i<=p.numPages;i++){m({percentage:Math.round(i/p.numPages*100),status:`Converting page ${i}`});const o=await p.getPage(i),x=o.getViewport({scale:2}),C=document.createElement("canvas");C.width=x.width,C.height=x.height,await o.render({canvasContext:C.getContext("2d"),viewport:x});const S=C.toDataURL("image/png"),z=await(await fetch(S)).blob();g.file(`${c.name.replace(".pdf","")}_page_${i}.png`,z)}t=await g.generateAsync({type:"blob"});break}case"pdf-to-word":{const r=await D(()=>import("./main-B39hoYVm.js").then(V=>V.aP),__vite__mapDeps([1,2,3])),l=(await D(async()=>{const{default:V}=await import("./index-k8hGQYAT.js").then(G=>G.i);return{default:V}},__vite__mapDeps([11,2,6]))).default,{Document:c,Packer:g,Paragraph:d,TextRun:p,ImageRun:i,SectionType:o}=await D(async()=>{const{Document:V,Packer:G,Paragraph:H,TextRun:oe,ImageRun:de,SectionType:ce}=await import("./index-3sRqm52h.js");return{Document:V,Packer:G,Paragraph:H,TextRun:oe,ImageRun:de,SectionType:ce}},[]);if(n.length!==1)throw new Error("Please select one PDF file.");const x=n[0],C=await x.arrayBuffer(),S=await r.getDocument({data:C,password:b.password||""}).promise;let z=[];if(Ae==="exact")for(let V=1;V<=S.numPages;V++){m({percentage:Math.round(V/S.numPages*100),status:`Converting page ${V}`});const G=await S.getPage(V),H=G.getViewport({scale:1.5}),oe=document.createElement("canvas");oe.width=H.width,oe.height=H.height,await G.render({canvasContext:oe.getContext("2d"),viewport:H});const de=oe.toDataURL("image/png"),ce=await fetch(de).then(be=>be.arrayBuffer());z.push({children:[new d({children:[new i({type:"png",data:new Uint8Array(ce),transformation:{width:H.width,height:H.height}})]})],properties:{type:V<S.numPages?o.NEXT_PAGE:o.CONTINUOUS}})}else{let V="";if(Ye){const{data:{text:G}}=await l.recognize(x,"eng",{logger:H=>m({percentage:(H.progress||0)*100,status:H.status})});V=G}else for(let G=1;G<=S.numPages;G++){m({percentage:Math.round(G/S.numPages*100),status:`Extracting text from page ${G}`});const de=(await(await S.getPage(G)).getTextContent()).items.map(ce=>"str"in ce?ce.str:"").join(" ");V+=de+`

`}z.push({children:V.split(`
`).map(G=>new d({children:[new p(G)]}))})}const te=new c({sections:z});t=await g.toBlob(te);break}case"pdf-to-excel":{const r=await D(()=>import("./main-B39hoYVm.js").then(o=>o.aP),__vite__mapDeps([1,2,3])),l=await D(()=>import("./xlsx-DGuHH-KN.js"),[]);if(n.length!==1)throw new Error("Please select one PDF file.");const g=await n[0].arrayBuffer(),d=await r.getDocument({data:g}).promise,p=l.utils.book_new();for(let o=1;o<=d.numPages;o++){m({percentage:Math.round(o/d.numPages*100),status:`Processing page ${o}`});const S=(await(await d.getPage(o)).getTextContent()).items.map(te=>"str"in te?[te.str]:[]),z=l.utils.aoa_to_sheet(S);l.utils.book_append_sheet(p,z,`Page ${o}`)}const i=l.write(p,{bookType:"xlsx",type:"array"});t=new Blob([i],{type:"application/octet-stream"});break}case"unlock-pdf":{const{PDFDocument:r}=await D(async()=>{const{PDFDocument:g}=await import("./index-Dfj1X2-d.js");return{PDFDocument:g}},__vite__mapDeps([7,2]));if(n.length!==1)throw new Error("Please select one PDF file.");const c=await n[0].arrayBuffer();try{const d=await(await r.load(c,{password:b.password||void 0,ignoreEncryption:!1})).save();t=new Blob([d],{type:"application/pdf"})}catch{throw new Error("Incorrect password or unsupported encryption.")}break}case"protect-pdf":{const{PDFDocument:r}=await D(async()=>{const{PDFDocument:i}=await import("./index-Dfj1X2-d.js");return{PDFDocument:i}},__vite__mapDeps([7,2]));if(n.length!==1)throw new Error("Please select one PDF file.");const c=await n[0].arrayBuffer(),g=await r.load(c,{ignoreEncryption:!0}),d={printing:b.allowPrinting,copying:b.allowCopying,modifying:b.allowModifying},p=await g.encrypt({userPassword:b.password,ownerPassword:b.password,permissions:d});t=new Blob([p],{type:"application/pdf"});break}case"psd-to-pdf":{const{readPsd:r}=await D(async()=>{const{readPsd:x}=await import("./index-Z1VvO2s3.js");return{readPsd:x}},__vite__mapDeps([12,10])),{jsPDF:l}=await D(async()=>{const{jsPDF:x}=await import("./jspdf.es.min-cSY7Xrdn.js").then(C=>C.j);return{jsPDF:x}},__vite__mapDeps([0,1,2,3]));if(n.length!==1)throw new Error("Please select one PSD file.");const g=await n[0].arrayBuffer();m({percentage:50,status:"Rendering PSD..."});const d=r(g);if(!d.canvas)throw new Error("Could not render PSD file.");const p=d.canvas,i=p.toDataURL("image/png"),o=new l({orientation:p.width>p.height?"landscape":"portrait",unit:"px",format:[p.width,p.height]});o.addImage(i,"PNG",0,0,p.width,p.height),t=o.output("blob");break}}if(t){se(t),B("SUCCESS");const r=ye(a.id,n,b);ie(r),J({toolId:a.id,toolTitle:h(a.title),outputFilename:r,fileBlob:t}),k&&u(h(a.title),r)}else O!=="ERROR"&&(["word-to-pdf","excel-to-pdf","pdf-to-word"].includes(a.id)||B("SUCCESS"))}catch(t){console.error(t),K(t.message||"An unknown error occurred during processing."),B("ERROR")}finally{["word-to-pdf","excel-to-pdf","pdf-to-word"].includes(a.id)||m(null)}}},Bt=()=>{B("PROCESSING"),De(Date.now()),K(""),se(null),ie(""),m({percentage:0,status:"Starting process..."})},Tt=(t,r)=>{se(t),ie(r),B("SUCCESS"),a&&(J({toolId:a.id,toolTitle:h(a.title),outputFilename:r,fileBlob:t}),k&&u(h(a.title),r))},$t=t=>{K(t),B("ERROR")};if(!a)return e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-xl font-semibold",children:"Loading Tool..."})})});const zt=()=>{if(O==="SUCCESS"){const t=Z||ye(a.id,n,b);return e.jsxs("div",{className:"text-center w-full max-w-7xl mx-auto py-12 success-screen",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"This task has been processed successfully."}),a.id==="compress-pdf"&&Qe&&e.jsx(ja,{result:Qe}),e.jsxs("div",{className:"mt-8 success-actions-wrapper",children:[e.jsx("button",{onClick:pe,className:"success-back-btn","aria-label":"Go back",title:"Process another file",children:e.jsx(qt,{className:"h-6 w-6"})}),e.jsxs("div",{className:"success-main-actions",children:[e.jsxs("button",{onClick:Ct,className:"success-download-btn",children:[e.jsx(dt,{className:"h-6 w-6"}),e.jsxs("span",{children:["Download ",t]})]}),e.jsxs("div",{className:"success-secondary-actions",children:[e.jsx("button",{onClick:()=>alert("Save to Google Drive coming soon!"),className:"success-action-btn","aria-label":"Save to Google Drive",title:"Save to Google Drive",children:e.jsx(Me,{className:"h-6 w-6"})}),e.jsx("button",{onClick:St,className:"success-action-btn","aria-label":"Share file",title:"Share file",children:e.jsx(Xt,{className:"h-6 w-6"})}),e.jsx("button",{onClick:Et,disabled:Q.dropbox!=="idle",className:"success-action-btn","aria-label":"Save to Dropbox",title:"Save to Dropbox",children:Q.dropbox==="saving"?e.jsxs("svg",{className:"animate-spin h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):Q.dropbox==="saved"?e.jsx(Qt,{className:"h-6 w-6"}):e.jsx(Ue,{className:"h-6 w-6"})}),e.jsx("button",{onClick:pe,className:"success-action-btn","aria-label":"Delete and start over",title:"Delete and start over",children:e.jsx(Kt,{className:"h-6 w-6"})})]})]})]}),e.jsxs("div",{className:"mt-12 text-center p-6 bg-green-50 dark:bg-green-900/20 rounded-lg max-w-5xl mx-auto border border-green-200 dark:border-green-700",children:[e.jsxs("h3",{className:"text-xl font-bold text-green-800 dark:text-green-300 flex items-center justify-center gap-2",children:[e.jsx(gt,{className:"h-6 w-6"}),e.jsx("span",{children:"Secure. Private. In your control."})]}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"For your security, your processed files are automatically and permanently deleted from our servers within 2 hours. We do not view, copy, or analyze your files."})]}),e.jsxs("div",{className:"mt-16 bg-white dark:bg-black p-8 rounded-lg shadow-lg max-w-5xl mx-auto border border-gray-200 dark:border-gray-800",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-6",children:"Continue to..."}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:st.slice(0,12).map(r=>e.jsxs(Zt,{to:`/${r.id}`,className:"flex items-center gap-4 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("div",{className:`p-2 rounded-md ${r.color}`,children:e.jsx(r.Icon,{className:"h-6 w-6 text-white"})}),e.jsx("div",{children:e.jsx("p",{className:"font-semibold text-left",children:h(r.title)})})]},r.id))})]}),e.jsxs("div",{className:"mt-12 text-center p-6 bg-gray-50 dark:bg-black/50 rounded-lg max-w-5xl mx-auto border border-gray-200 dark:border-gray-800",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:"How can you thank us? Spread the word!"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Please share the tool to inspire more productive people!"}),e.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-4",children:[e.jsxs("a",{href:"https://www.trustpilot.com/review/pdfbullet.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md font-semibold text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(Yt,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{children:"Trustpilot"})]}),e.jsxs("a",{href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fpdfbullet.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md font-semibold text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(ea,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Facebook"})]}),e.jsxs("a",{href:"https://twitter.com/intent/tweet?url=https%3A%2F%2Fpdfbullet.com&text=Check%20out%20PDFBullet,%20the%20best%20free%20online%20PDF%20toolkit!",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md font-semibold text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(ta,{className:"h-5 w-5"}),e.jsx("span",{children:"Twitter"})]}),e.jsxs("a",{href:"https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fpdfbullet.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md font-semibold text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(aa,{className:"h-5 w-5 text-blue-700"}),e.jsx("span",{children:"LinkedIn"})]})]})]}),e.jsxs("div",{className:"mt-12 text-center p-6 rounded-lg max-w-5xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:"The PDF software trusted by millions of users"}),e.jsx("p",{className:"mt-4 max-w-3xl mx-auto text-lg text-gray-600 dark:text-gray-400",children:"PDFBullet helps you convert, edit, e-sign, and protect PDF files quickly and easily. Enjoy a full suite of tools to effectively manage documents —no matter where you're working."}),e.jsxs("div",{className:"mt-12 flex flex-wrap justify-center items-center gap-x-20 md:gap-x-32",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(ra,{className:"h-16 w-16"}),e.jsx("span",{className:"font-semibold text-lg",children:"iOS"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(sa,{className:"h-16 w-16"}),e.jsx("span",{className:"font-semibold text-lg",children:"Android"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(oa,{className:"h-16 w-16"}),e.jsx("span",{className:"font-semibold text-lg",children:"MacOS"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(na,{className:"h-14 w-14"}),e.jsx("span",{className:"font-semibold text-lg",children:"Windows"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(ia,{className:"h-16 w-16"}),e.jsx("span",{className:"font-semibold text-lg",children:"Web"})]})]})]})]})}if(O==="ERROR")return e.jsxs("div",{className:"text-center p-12 bg-red-50 dark:bg-red-900/20 rounded-lg shadow-xl border border-red-200 dark:border-red-800",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:"An Error Occurred"}),e.jsx("p",{className:"mt-2 text-red-600 dark:text-red-400",children:q}),e.jsx("button",{onClick:pe,className:"mt-6 bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg",children:"Try Again"})]});if(O==="PROCESSING"){const t=E&&Ne&&E.percentage>0;return e.jsxs("div",{className:"flex flex-col items-center justify-center text-center w-full max-w-2xl mx-auto py-12",children:[e.jsx("div",{className:"mb-12",children:e.jsx(la,{className:"h-12 w-auto"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:Ft(a)}),n.length>0&&E?e.jsxs("div",{className:"mt-8 bg-white dark:bg-black p-6 rounded-lg shadow-lg border dark:border-gray-700 w-full",children:[e.jsx("p",{className:"font-semibold truncate",children:n.length===1?n[0].name:`${n.length} files`}),e.jsx("p",{className:"text-sm text-gray-500",children:Ee(_e)}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 my.4",children:e.jsx("div",{className:"bg-brand-red h-2.5 rounded-full transition-all duration-500",style:{width:`${E.percentage||0}%`}})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:E.status||"Starting..."}),t&&e.jsxs("div",{className:"mt-4 text-xs text-gray-500 flex justify-between",children:[e.jsxs("span",{children:[Ee(Nt),"/s"]}),e.jsx("span",{children:va(Dt)})]})]}):e.jsxs("div",{className:"mt-12",children:[e.jsx("div",{className:"w-24 h-24 border-[10px] border-gray-200 dark:border-gray-700 rounded-full animate-spin",style:{borderTopColor:"#B90B06"}}),E&&e.jsx("p",{className:"mt-8 text-gray-600 dark:text-gray-400",children:E.status})]})]})}return a.id==="remove-background"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("div",{className:`inline-flex items-center justify-center p-4 rounded-full ${a.color} mb-4`,children:e.jsx(a.Icon,{className:"h-12 w-12 text-white"})}),e.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 dark:text-gray-100",children:h(a.title)}),e.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:h(a.description)})]}),e.jsx(Ve.Provider,{value:{tool:a},children:e.jsx(Ca,{tool:a})})]}):a.id==="organize-pdf"&&n.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("div",{className:`inline-flex items-center justify-center p-4 rounded-full ${a.color} mb-4`,children:e.jsx(a.Icon,{className:"h-12 w-12 text-white"})}),e.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 dark:text-gray-100",children:h(a.title)}),e.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:h(a.description)})]}),e.jsx(Ve.Provider,{value:{tool:a},children:e.jsx(Na,{files:n,onProcessStart:()=>B("PROCESSING"),onProcessSuccess:t=>{se(t),B("SUCCESS")},onProcessError:t=>{K(t),B("ERROR")},onReset:pe,onAddMoreFiles:Rt})})]}):a.id==="document-scanner"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("div",{className:`inline-flex items-center justify-center p-4 rounded-full ${a.color} mb-4`,children:e.jsx(a.Icon,{className:"h-12 w-12 text-white"})}),e.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 dark:text-gray-100",children:h(a.title)}),e.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:h(a.description)})]}),e.jsx(ya,{tool:a,onProcessStart:Bt,onProcessSuccess:Tt,onProcessError:$t})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("div",{className:`inline-flex items-center justify-center p-4 rounded-full ${a.color} mb-4`,children:e.jsx(a.Icon,{className:"h-12 w-12 text-white"})}),e.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 dark:text-gray-100",children:h(a.title)}),e.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:h(a.description)})]}),O==="IDLE"&&ee.length===0&&e.jsx(ha,{tool:a,files:n,setFiles:ne,accept:a.accept,children:a.id==="pdf-to-word"?e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-100",children:"Conversion Options"}),e.jsxs("div",{onClick:()=>Ze("editable"),className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${Ae==="editable"?"border-brand-red bg-red-50 dark:bg-red-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-400"}`,children:[e.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Editable Text (Basic Layout)"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Extracts text for editing. Best for text changes, but complex layouts and colors may be altered."}),e.jsxs("div",{className:"mt-3 pl-4 border-l-2 border-gray-300 dark:border-gray-600",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Ye,onChange:t=>Pt(t.target.checked),className:"h-4 w-4 rounded text-brand-red focus:ring-brand-red"}),e.jsx("span",{className:"text-sm",children:"Use OCR"}),e.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-semibold px-2 py-0.5 rounded-full border border-yellow-400 dark:bg-yellow-900/50 dark:text-yellow-300 dark:border-yellow-600",children:"Premium"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-6",children:"For scanned documents with non-selectable text."})]})]}),e.jsxs("div",{onClick:()=>Ze("exact"),className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${Ae==="exact"?"border-brand-red bg-red-50 dark:bg-red-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-400"}`,children:[e.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Exact Copy (Pages as Images)"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Preserves 100% of original formatting, colors, and images. Text within images will not be editable."})]}),n.length>0&&e.jsxs("button",{onClick:ze,disabled:at,className:`w-full flex items-center justify-center gap-2 text-white font-bold py-4 px-6 rounded-lg text-lg transition-colors ${a.color} ${a.hoverColor} disabled:bg-gray-400`,children:["Convert to WORD ",e.jsx(Se,{className:"h-6 w-6"})]})]}):e.jsxs("div",{className:"space-y-6",children:[a.id==="compress-pdf"&&e.jsx(ka,{level:b.compressionLevel,setLevel:t=>R(r=>({...r,compressionLevel:t}))}),a.id==="rotate-pdf"&&e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx("button",{onClick:()=>R(t=>({...t,rotation:90})),className:`px-4 py-2 font-semibold rounded-md ${b.rotation===90?"bg-brand-red text-white":"bg-gray-200"}`,children:"90°"}),e.jsx("button",{onClick:()=>R(t=>({...t,rotation:180})),className:`px-4 py-2 font-semibold rounded-md ${b.rotation===180?"bg-brand-red text-white":"bg-gray-200"}`,children:"180°"}),e.jsx("button",{onClick:()=>R(t=>({...t,rotation:270})),className:`px-4 py-2 font-semibold rounded-md ${b.rotation===270?"bg-brand-red text-white":"bg-gray-200"}`,children:"270°"})]}),n.length>0&&e.jsxs("button",{onClick:ze,disabled:at,className:`w-full flex items-center justify-center gap-2 text-white font-bold py-4 px-6 rounded-lg text-lg transition-colors ${a.color} ${a.hoverColor} disabled:bg-gray-400 dark:disabled:bg-gray-600`,children:[h(a.title)," ",e.jsx(Se,{className:"h-6 w-6"})]})]})}),ee.length>0&&a.id==="sign-pdf"&&O==="IDLE"&&e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"flex-grow bg-gray-200 dark:bg-gray-900/50 p-4 rounded-lg",children:e.jsx("div",{ref:Ie,className:"relative w-full border border-gray-300 dark:border-gray-700 rounded-lg overflow-auto max-h-[80vh] bg-white dark:bg-black",children:ee.map((t,r)=>e.jsx("div",{id:`pdf-page-${r}`,className:"relative border-b dark:border-gray-700 last:border-b-0",children:e.jsx("img",{src:t,alt:`Page ${r+1}`,className:"w-full h-auto"})},r))})}),e.jsx("div",{className:"w-full md:w-80 flex-shrink-0",children:e.jsxs("div",{className:"sticky top-24 bg-white dark:bg-surface-dark p-6 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Signing options"}),e.jsxs("div",{className:"flex border border-gray-300 dark:border-gray-600 rounded-md mb-6",children:[e.jsx("button",{className:"flex-1 p-3 text-center border-r border-gray-300 dark:border-gray-600 bg-red-50 dark:bg-red-900/30 text-brand-red font-semibold rounded-l-md",children:"Simple Signature"}),e.jsx("button",{className:"flex-1 p-3 text-center text-gray-500 dark:text-gray-400 cursor-not-allowed rounded-r-md",title:"Coming soon!",children:"Digital Signature"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-600 dark:text-gray-400 mb-2 text-sm",children:"Required fields"}),N?.signature?e.jsxs("div",{onClick:()=>rt("signature"),className:"p-2 border rounded-md flex items-center gap-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-200 dark:bg-gray-700 rounded text-center font-bold",children:"..."}),e.jsx("img",{src:N.signature,alt:"Signature preview",className:"h-10 flex-grow object-contain"}),e.jsx("button",{onClick:t=>{t.stopPropagation(),me(!0)},className:"p-1 text-gray-400 hover:text-brand-red",children:e.jsx(ot,{className:"h-5 w-5"})})]}):e.jsx("button",{onClick:()=>me(!0),className:"w-full p-4 border-2 border-dashed rounded text-center text-gray-500 hover:border-brand-red",children:"Create Signature"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-semibold text-gray-600 dark:text-gray-400 mb-2 text-sm",children:"Optional fields"}),N?.initials?e.jsxs("div",{onClick:()=>rt("initials"),className:"p-2 border rounded-md flex items-center gap-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-200 dark:bg-gray-700 rounded text-center font-bold",children:"AC"}),e.jsx("img",{src:N.initials,alt:"Initials preview",className:"h-10 flex-grow object-contain"}),e.jsx("button",{onClick:t=>{t.stopPropagation(),me(!0)},className:"p-1 text-gray-400 hover:text-brand-red",children:e.jsx(ot,{className:"h-5 w-5"})})]}):e.jsx("p",{className:"text-xs text-gray-500 p-2",children:"Create a signature to generate initials."})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("button",{onClick:ze,disabled:At,className:`w-full flex items-center justify-center gap-2 text-white font-bold py-3 px-6 rounded-lg text-lg transition-colors ${a.color} ${a.hoverColor} disabled:bg-gray-400 dark:disabled:bg-gray-600`,children:["Sign ",e.jsx(Se,{className:"h-5 w-5"})]})})]})})]}),O==="IDLE"&&ee.length===0&&n.length>0&&a.id!=="pdf-to-word"&&a.id!=="organize-pdf"&&a.id!=="repair-pdf"&&e.jsx("div",{className:"mt-12 text-center",children:e.jsx("button",{onClick:pe,className:"text-gray-600 dark:text-gray-400 hover:text-brand-red dark:hover:text-brand-red font-medium transition-colors",children:"← Process another file"})})]})};return e.jsxs("div",{className:"py-16 md:py-20",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a&&zt()}),e.jsx(xa,{isOpen:jt,onClose:pe,onOnlyMe:Lt,onSeveralPeople:()=>alert("Inviting others to sign is a premium feature coming soon!")}),e.jsx(ma,{isOpen:kt,onClose:()=>{me(!1),N?.signature||pe()},onSave:Ot})]})};export{Ka as default};
