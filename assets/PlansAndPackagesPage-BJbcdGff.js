import{r,j as e,p as f,v as y,aP as j,L as h,S as N}from"./main-CkvTh2wP.js";import"./react-Ckhrjn13.js";const x="pdfbullet_user_packages_v1",o={signatures:10,sms:5},k=()=>{try{const s=localStorage.getItem(x);return s?{...o,...JSON.parse(s)}:(localStorage.setItem(x,JSON.stringify(o)),o)}catch(s){return console.error("Failed to parse user packages from localStorage",s),o}},v=()=>{const[s,n]=r.useState(k);r.useEffect(()=>{try{localStorage.setItem(x,JSON.stringify(s))}catch(t){console.error("Failed to save user packages to localStorage",t)}},[s]);const d=r.useCallback(t=>{n(a=>({...a,signatures:a.signatures+t}))},[]),l=r.useCallback(t=>{n(a=>({...a,sms:a.sms+t}))},[]);return{packages:s,addSignatures:d,addSms:l}},w=s=>s<=0?0:s<=4?s*2:s<=9?Math.ceil(s*1.2):s<=19?Math.ceil(s*1.1):s<=49?Math.ceil(s*1):Math.ceil(s*.9),S=({isOpen:s,onClose:n,onPurchaseComplete:d})=>{const[l,t]=r.useState(1),[a,m]=r.useState(10),g=r.useMemo(()=>w(a),[a]),[u,i]=r.useState(!1),b=(a-1)/49*100,p=c=>{c.preventDefault(),i(!0),setTimeout(()=>{i(!1),d(a),t(3),setTimeout(()=>{n()},3e3)},2e3)};return r.useEffect(()=>{s&&(t(1),m(10),i(!1))},[s]),s?e.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:n,children:e.jsxs("div",{className:"bg-white dark:bg-black w-full max-w-2xl rounded-lg shadow-xl",onClick:c=>c.stopPropagation(),children:[l===1&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Get digital signatures"}),e.jsx("button",{onClick:n,children:e.jsx(f,{className:"h-6 w-6"})})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Sign documents or collect signatures from others with legal validity"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"font-semibold",children:"How many digital signatures do you need?"}),e.jsx("div",{className:"mt-4 p-4 text-center bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg",children:e.jsxs("span",{className:"text-2xl font-bold text-blue-600 dark:text-blue-300",children:[a," Signatures - $",g]})}),e.jsx("div",{className:"mt-6 relative h-5",children:e.jsx("input",{type:"range",min:"1",max:"50",value:a,onChange:c=>m(parseInt(c.target.value,10)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider",style:{"--slider-percentage":`${b}%`}})})]}),e.jsx("button",{onClick:()=>t(2),className:"w-full bg-brand-red hover:bg-brand-red-dark text-white font-bold py-3 rounded-lg transition-colors",children:"Proceed to checkout"})]}),l===2&&e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("button",{type:"button",onClick:()=>t(1),className:"flex items-center gap-2 text-sm font-semibold text-gray-600 dark:text-gray-300 hover:text-brand-red",children:[e.jsx(y,{className:"h-5 w-5"})," Back"]}),e.jsx("h2",{className:"text-2xl font-bold",children:"Order Summary"}),e.jsx("div",{className:"w-16"})," "]}),e.jsxs("div",{className:"my-6 space-y-4",children:[e.jsx("h3",{className:"font-semibold border-b pb-2",children:"Purchase Details"}),e.jsxs("div",{className:"flex justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("span",{children:[a," - Signatures"]}),e.jsxs("span",{className:"font-bold",children:["$",g]})]}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("h3",{className:"font-semibold",children:"Pay with Fonepay"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Scan the QR code below with your mobile banking app or digital wallet to complete the payment."}),e.jsxs("div",{className:"mt-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg max-w-xs mx-auto",children:[e.jsx("img",{src:"https://ik.imagekit.io/fonepay/fonepay%20qr.png?updatedAt=1752920160699",alt:"Fonepay QR Code",className:"w-48 h-48 mx-auto",width:"192",height:"192"}),e.jsx("p",{className:"mt-2 text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Fonepay"})]})]})]})]}),e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900/50 rounded-b-lg",children:[e.jsx("button",{type:"submit",disabled:u,className:"w-full bg-brand-red hover:bg-brand-red-dark text-white font-bold py-3 rounded-lg transition-colors disabled:bg-red-300",children:u?"Processing...":"Confirm payment"}),e.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"Secure. Private. In your control."})]})]}),l===3&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(j,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Payment Successful!"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:[a," signatures have been added to your account."]})]})]})}):null},I=()=>{const{packages:s,addSignatures:n}=v(),[d,l]=r.useState(!1),t=a=>{n(a),l(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-800 dark:text-gray-100",children:"Plans and packages"}),e.jsxs(h,{to:"/pricing",className:"bg-yellow-400 hover:bg-yellow-500 text-yellow-900 font-bold py-2 px-4 rounded-md flex items-center gap-2 transition-colors",children:[e.jsx(N,{className:"h-5 w-5"}),e.jsx("span",{children:"Upgrade to Premium"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white dark:bg-surface-dark p-8 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800 flex flex-col",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Subscription details"}),e.jsx("div",{className:"flex-grow text-gray-600 dark:text-gray-400",children:e.jsx("p",{children:"Get full access to all iLovePDFLY features. Enjoy simple and fast PDF tools to convert, edit and e-sign your documents."})}),e.jsx("div",{className:"mt-6",children:e.jsx(h,{to:"/pricing",className:"text-brand-red font-semibold hover:underline",children:"Upgrade to Premium"})})]}),e.jsxs("div",{className:"bg-white dark:bg-surface-dark p-8 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Packages"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Signatures: ",e.jsx("span",{className:"font-bold text-gray-800 dark:text-gray-100",children:s.signatures})]}),e.jsx("button",{onClick:()=>l(!0),className:"text-brand-red font-semibold hover:underline",children:"Add more"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["SMS: ",e.jsx("span",{className:"font-bold text-gray-800 dark:text-gray-100",children:s.sms})]}),e.jsx("button",{onClick:()=>alert("Coming soon!"),className:"text-brand-red font-semibold hover:underline",children:"Add more"})]})]}),e.jsx("p",{className:"mt-6 text-sm text-gray-500 dark:text-gray-400",children:"Packages do not expire."})]})]})]}),e.jsx(S,{isOpen:d,onClose:()=>l(!1),onPurchaseComplete:t})]})};export{I as default};
