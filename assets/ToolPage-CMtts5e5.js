const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jspdf.es.min-BmytgcX8.js","assets/main-C7NbxmL4.js","assets/react-Ckhrjn13.js","assets/main-ChD9VjgX.css","assets/jszip.min-CG955O0i.js","assets/jszip.min-Dd208ANX.js","assets/_commonjs-dynamic-modules-TDtrdbi3.js","assets/index-Dfj1X2-d.js","assets/index-BLMEVCVY.js","assets/index-CDEvsS2u.js","assets/index-DRz5BQNA.js","assets/index-k8hGQYAT.js","assets/index-Z1VvO2s3.js"])))=>i.map(i=>d[i]);
import{r,m as je,j as e,n as rt,o as Ue,p as Ge,P as ct,q as Ut,s as Vt,a as Gt,d as Wt,u as Xt,c as We,t as Ht,T as st,_ as D,v as Jt,D as dt,w as qt,x as Qt,y as Kt,f as gt,L as Zt,S as Yt,F as ea,X as ta,z as aa,I as ra,A as sa,M as oa,l as na,G as ia,B as la,k as pt,R as Se,E as ot,U as ut,J as mt,K as ca,N as da,Q as ga,V as pa}from"./main-C7NbxmL4.js";import{u as ua,S as ma}from"./useSignature-Cir6rQV-.js";import{u as fa}from"./useSignedDocuments-CuqMwLDg.js";import{u as ft}from"./useLastTasks-Lj3TOPDb.js";import"./react-Ckhrjn13.js";import"./html2canvas.esm-B0tyYwQk.js";const nt="AIzaSyD3MDVQ3bkz0n3Hu3ju-sGCIMCybUQGbVU",it="415789226795-0mu2ru52dcc5b649njfarn059lkjkcnk.apps.googleusercontent.com",ha=({tool:m,files:w,setFiles:N,accept:p,children:_})=>{const[I,k]=r.useState(!1),[f,H]=r.useState(!1),[U,y]=r.useState(null);r.useEffect(()=>{gapi&&gapi.load("client:picker",()=>{k(!0)})},[]);const W=r.useCallback(a=>{N([...w,...a].filter((L,v,P)=>v===P.findIndex(x=>x.name===L.name&&x.size===L.size)))},[w,N]),{getRootProps:J,getInputProps:n,isDragActive:ne,open:E}=je({onDrop:W,accept:p||{"application/pdf":[".pdf"]},noClick:!0}),T=a=>{N(w.filter(L=>L.name!==a))},te=je({onDrop:W,accept:p||{"application/pdf":[".pdf"]}}),Q=async(a,L)=>{try{const v=await fetch(a);if(!v.ok)throw new Error(`Failed to fetch file: ${v.statusText}`);const P=await v.blob(),x=new File([P],L,{type:P.type});W([x])}catch(v){console.error("Error fetching cloud file:",v)}},V=a=>{if(a.stopPropagation(),!I||!nt||!it){alert("Google Drive Picker is not configured. Please provide API Key and Client ID.");return}gapi.load("picker",{callback:()=>H(!0)}),gapi.auth.authorize({client_id:it,scope:["https://www.googleapis.com/auth/drive.readonly"],immediate:!1},L=>{L&&!L.error&&(y(L),ae(L.access_token))})},ae=a=>{const L=new google.picker.View(google.picker.ViewId.DOCS);new google.picker.PickerBuilder().setApiKey(nt).setOAuthToken(a).addView(L).setCallback(re).build().setVisible(!0)},re=a=>{if(a[google.picker.Response.ACTION]===google.picker.Action.PICKED){const L=a[google.picker.Response.DOCUMENTS][0],v=`https://www.googleapis.com/drive/v3/files/${L.id}?alt=media`;fetch(v,{headers:{Authorization:`Bearer ${U.access_token}`}}).then(P=>P.blob()).then(P=>{const x=new File([P],L.name,{type:L.mimeType});W([x])})}},se=a=>{a.stopPropagation(),Dropbox.choose({success:L=>{L.forEach(v=>Q(v.link,v.name))},linkType:"direct",multiselect:!0})};return e.jsx("div",{className:"w-full",children:w.length===0?e.jsxs("div",{...J(),className:`relative flex flex-col items-center justify-center p-12 rounded-lg cursor-pointer transition-colors duration-300 ${ne?"bg-red-50 dark:bg-red-900/20 ring-2 ring-brand-red ring-dashed":"bg-transparent"}`,children:[e.jsx("input",{...n()}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{type:"button",onClick:E,className:`${m.color} ${m.hoverColor} text-white font-bold py-4 px-10 rounded-lg text-xl transition-colors shadow-lg flex-grow-0`,children:["Select ",m.fileTypeDisplayName||"files"]}),e.jsx("button",{onClick:V,"aria-label":"Select from Google Drive",title:"Select from Google Drive",className:`p-4 rounded-lg shadow-lg transition-colors ${m.color} ${m.hoverColor} text-white`,children:e.jsx(rt,{className:"h-6 w-6"})}),e.jsx("button",{onClick:se,"aria-label":"Select from Dropbox",title:"Select from Dropbox",className:`p-4 rounded-lg shadow-lg transition-colors ${m.color} ${m.hoverColor} text-white`,children:e.jsx(Ue,{className:"h-6 w-6"})})]}),e.jsxs("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:["or drop ",m.fileTypeDisplayName||""," ",m.fileTypeNounPlural||"here"]})]}):e.jsxs("div",{className:"w-full grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[e.jsx("div",{className:"lg:col-span-8 xl:col-span-9 grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6",children:w.map(a=>e.jsxs("div",{className:"relative group bg-white dark:bg-surface-dark border border-gray-200 dark:border-gray-800 rounded-2xl p-4 flex flex-col items-center justify-center text-center shadow-md",children:[e.jsx("div",{className:"w-full bg-white dark:bg-gray-900/50 rounded-lg p-4 flex-grow flex items-center justify-center aspect-[4/3]",children:e.jsx(m.Icon,{className:`w-16 h-16 ${m.textColor}`})}),e.jsx("p",{className:"w-full text-sm font-semibold text-gray-700 dark:text-gray-300 truncate mt-3",title:a.name,children:a.name}),e.jsx("button",{onClick:()=>T(a.name),className:"absolute top-2 right-2 p-1.5 bg-gray-800/60 hover:bg-red-600/80 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity","aria-label":`Remove ${a.name}`,children:e.jsx(Ge,{className:"h-4 w-4"})})]},`${a.name}-${a.lastModified}`))}),e.jsxs("div",{className:"lg:col-span-4 xl:col-span-3 lg:sticky lg:top-24",children:[e.jsxs("div",{className:"flex justify-end relative mb-8",children:[e.jsxs("div",{className:"absolute right-[80px] top-1/2 -translate-y-1/2 bg-gray-800 text-white text-sm font-semibold px-3 py-1 rounded-md shadow-lg whitespace-nowrap",children:["Add more files",e.jsx("div",{className:"absolute right-[-5px] top-1/2 -translate-y-1/2 w-3 h-3 bg-gray-800 transform rotate-45"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{...te.getRootProps(),onClick:te.open,title:"Add more files",className:"w-16 h-16 bg-brand-red rounded-full flex items-center justify-center text-white shadow-lg hover:bg-brand-red-dark transition-colors",children:[e.jsx("input",{...te.getInputProps()}),e.jsx(ct,{className:"h-8 w-8"})]}),e.jsx("span",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gray-900 text-white text-xs font-bold rounded-full flex items-center justify-center border-2 border-white dark:border-surface-dark",children:w.length})]}),e.jsx("button",{onClick:te.open,title:"Add from computer",className:"w-12 h-12 bg-brand-red rounded-full flex items-center justify-center text-white shadow-lg hover:bg-brand-red-dark transition-colors",children:e.jsx(Ut,{className:"h-6 w-6"})}),e.jsx("button",{onClick:V,title:"Add from Google Drive",className:"w-12 h-12 bg-brand-red rounded-full flex items-center justify-center text-white shadow-lg hover:bg-brand-red-dark transition-colors",children:e.jsx(rt,{className:"h-6 w-6"})}),e.jsx("button",{onClick:se,title:"Add from Dropbox",className:"w-12 h-12 bg-brand-red rounded-full flex items-center justify-center text-white shadow-lg hover:bg-brand-red-dark transition-colors",children:e.jsx(Ue,{className:"h-6 w-6"})})]})]}),_]})]})})},xa=({isOpen:m,onClose:w,onOnlyMe:N,onSeveralPeople:p})=>{if(!m)return null;const _=({title:I,description:k,imgSrc:f,onClick:H})=>e.jsxs("button",{onClick:H,className:"flex flex-col items-center p-6 border-2 border-gray-200 dark:border-gray-700 rounded-lg hover:border-brand-red hover:bg-red-50 dark:hover:bg-red-900/20 transition-all w-full sm:w-64 text-center",children:[e.jsx("img",{src:f,alt:I,className:"h-24 w-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:I}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:k})]});return e.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:w,role:"dialog","aria-modal":"true","aria-labelledby":"who-will-sign-title",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full max-w-2xl rounded-lg shadow-xl p-8",onClick:I=>I.stopPropagation(),children:[e.jsx("h2",{id:"who-will-sign-title",className:"text-2xl font-extrabold text-center text-gray-800 dark:text-gray-100 mb-8",children:"Who will sign this document?"}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-8",children:[e.jsx(_,{title:"Only me",description:"Sign this document",imgSrc:"https://www.ilovepdf.com/img/sign/single.svg",onClick:N}),e.jsx(_,{title:"Several people",description:"Invite others to sign",imgSrc:"https://www.ilovepdf.com/img/sign/multiple.svg",onClick:p})]})]})})},ba=(m,w)=>new Promise(N=>{if(w==="original")return N(m);const p=new Image;p.crossOrigin="Anonymous",p.onload=()=>{const _=document.createElement("canvas");_.width=p.width,_.height=p.height;const I=_.getContext("2d");if(!I)return N(m);I.drawImage(p,0,0);const k=I.getImageData(0,0,_.width,_.height),f=k.data;switch(w){case"lighten":for(let y=0;y<f.length;y+=4)f[y]=Math.min(255,f[y]+20),f[y+1]=Math.min(255,f[y+1]+20),f[y+2]=Math.min(255,f[y+2]+20);break;case"magic_color":const H=30,U=259*(H+255)/(255*(259-H));for(let y=0;y<f.length;y+=4)f[y]=Math.min(255,U*(f[y]-128)+128),f[y+1]=Math.min(255,U*(f[y+1]-128)+128),f[y+2]=Math.min(255,U*(f[y+2]-128)+128);break;case"bw":for(let y=0;y<f.length;y+=4){const J=f[y]*.299+f[y+1]*.587+f[y+2]*.114>128?255:0;f[y]=f[y+1]=f[y+2]=J}break;case"bw2":for(let y=0;y<f.length;y+=4){const W=f[y]*.299+f[y+1]*.587+f[y+2]*.114;f[y]=f[y+1]=f[y+2]=W}break}I.putImageData(k,0,0),N(_.toDataURL("image/jpeg",.9))},p.src=m}),wa=({onFilterChange:m,activeFilter:w})=>{const N=[{name:"Original",id:"original"},{name:"Lighten",id:"lighten"},{name:"Magic",id:"magic_color"},{name:"B&W",id:"bw"},{name:"Grayscale",id:"bw2"}];return e.jsx("div",{className:"flex justify-center space-x-1 sm:space-x-2 overflow-x-auto p-1 no-scrollbar bg-black/30 rounded-b-md",children:N.map(p=>e.jsx("button",{onClick:_=>{_.stopPropagation(),m(p.id)},className:`px-2 py-1 rounded-md font-semibold text-xs whitespace-nowrap transition-all text-white ${w===p.id?"bg-brand-red/80":"bg-black/40 hover:bg-black/60"}`,children:p.name},p.id))})},ya=({tool:m,onProcessStart:w,onProcessSuccess:N,onProcessError:p})=>{const _=r.useRef(null);r.useRef(null);const[I,k]=r.useState(null),[f,H]=r.useState([]),[U,y]=r.useState("initializing"),[W,J]=r.useState("environment"),[n,ne]=r.useState(!1),[E,T]=r.useState(null),[te,Q]=r.useState(null),[V,ae]=r.useState(!1);r.useEffect(()=>{Q(new ga({apiKey:"AIzaSyCuhbxmzoOTGS6UtX7OZjLwBiMfQNrOzJA"}))},[]);const re=r.useCallback(async()=>{I&&I.getTracks().forEach(j=>j.stop()),y("initializing");try{const j=await navigator.mediaDevices.getUserMedia({video:{facingMode:W}});k(j),_.current&&(_.current.srcObject=j),y("active")}catch(j){j instanceof DOMException?j.name==="NotAllowedError"?y("denied"):j.name==="NotFoundError"?y("not-found"):y("error"):y("error"),console.error(j)}},[I,W]),se=r.useCallback(()=>{I&&(I.getTracks().forEach(j=>j.stop()),k(null))},[I]);r.useEffect(()=>(V?se():re(),()=>se()),[re,se,V]);const a=()=>{J(j=>j==="environment"?"user":"environment")},L=()=>{if(!_.current||_.current.paused||_.current.ended)return;const j=document.createElement("canvas");j.width=_.current.videoWidth,j.height=_.current.videoHeight;const B=j.getContext("2d");if(!B)return;B.drawImage(_.current,0,0,j.width,j.height);const R=j.toDataURL("image/jpeg",.95);v(R)},v=async j=>{const B=Date.now();T(B);let R=j;te&&(R=await F(j));const Z={id:B,original:R,filtered:R,filter:"original"};H(q=>[...q,Z]),T(null)},P=r.useCallback(j=>{if(j.length>0){const B=j[0],R=new FileReader;R.onload=Z=>v(Z.target?.result),R.readAsDataURL(B)}},[]),{getRootProps:x,getInputProps:h,isDragActive:O}=je({onDrop:P,accept:{"image/*":[".jpeg",".jpg",".png",".webp"]}}),F=async j=>j,K=async(j,B)=>{const R=f.find(q=>q.id===j);if(!R)return;const Z=await ba(R.original,B);H(q=>q.map(ie=>ie.id===j?{...ie,filtered:Z,filter:B}:ie))},A=j=>{H(B=>B.filter(R=>R.id!==j))},X=async j=>{if(f.length===0){p("Please scan or upload at least one page.");return}w(),ne(!0);try{if(j==="pdf"){const{jsPDF:B}=await D(async()=>{const{jsPDF:q}=await import("./jspdf.es.min-BmytgcX8.js").then(ie=>ie.j);return{jsPDF:q}},__vite__mapDeps([0,1,2,3])),R=new B("p","mm","a4");for(let q=0;q<f.length;q++){const ie=f[q];q>0&&R.addPage();const de=new Image;await new Promise(He=>{de.onload=()=>He(),de.src=ie.filtered});const le=R.internal.pageSize.getWidth(),me=R.internal.pageSize.getHeight(),ke=de.width/de.height,Pe=le/me;let fe,be;ke>Pe?(fe=le,be=le/ke):(be=me,fe=me*ke);const Xe=(le-fe)/2,Ie=(me-be)/2;R.addImage(de,"JPEG",Xe,Ie,fe,be)}const Z=R.output("blob");N(Z,"document_scan.pdf")}else{const B=(await D(async()=>{const{default:R}=await import("./jszip.min-CG955O0i.js").then(Z=>Z.j);return{default:R}},__vite__mapDeps([4,2,5,6]))).default;if(f.length===1){const Z=await(await fetch(f[0].filtered)).blob();N(Z,"scan.jpg")}else{const R=new B;for(let q=0;q<f.length;q++){const ie=f[q],le=await(await fetch(ie.filtered)).blob();R.file(`scan_${q+1}.jpg`,le)}const Z=await R.generateAsync({type:"blob"});N(Z,"scanned_images.zip")}}}catch(B){console.error(B),p(`Failed to generate ${j.toUpperCase()}. Please try again.`)}finally{ne(!1)}},ce=()=>e.jsxs("div",{className:"relative w-full aspect-[9/16] sm:aspect-video rounded-lg shadow-lg bg-black overflow-hidden",children:[e.jsx("video",{ref:_,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),U!=="active"&&e.jsxs("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center text-white text-center p-4",children:[U==="initializing"&&e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"}),U==="denied"&&e.jsxs(e.Fragment,{children:[e.jsx(gt,{className:"w-12 h-12 mb-4"}),e.jsx("h3",{className:"font-bold",children:"Camera access denied"}),e.jsx("p",{className:"text-sm",children:"Please allow camera access in your browser settings to continue."}),e.jsx("button",{onClick:re,className:"mt-4 px-4 py-2 bg-white/20 rounded-md font-semibold hover:bg-white/30",children:"Retry"})]}),U==="not-found"&&e.jsx("p",{children:"No camera found. Please connect a camera and try again."}),U==="error"&&e.jsx("p",{children:"Could not start camera. Please try again."})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/70 to-transparent",children:e.jsxs("div",{className:"flex items-center justify-around",children:[e.jsx("button",{onClick:()=>ae(!0),className:"p-3 bg-black/40 text-white rounded-full hover:bg-black/60 transition-colors","aria-label":"Upload image",children:e.jsx(pa,{className:"h-6 w-6"})}),e.jsx("button",{onClick:L,disabled:U!=="active",className:"bg-white p-2 rounded-full shadow-2xl border-4 border-gray-300 hover:bg-gray-200 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-4 focus:ring-offset-black focus:ring-brand-red disabled:opacity-50","aria-label":"Capture page",children:e.jsx("div",{className:"w-12 h-12 bg-brand-red rounded-full ring-2 ring-white ring-inset"})}),e.jsx("button",{onClick:a,className:"p-3 bg-black/40 text-white rounded-full hover:bg-black/60 transition-colors","aria-label":"Switch camera",children:e.jsx(mt,{className:"h-6 w-6"})})]})})]}),xe=()=>e.jsxs("div",{...x(),className:`relative flex flex-col items-center justify-center p-12 aspect-[9/16] sm:aspect-video rounded-lg cursor-pointer transition-all duration-300 border-2 border-dashed ${O?"border-brand-red bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-black hover:border-brand-red"}`,children:[e.jsx("input",{...h()}),e.jsx(ut,{className:"h-16 w-16 text-gray-400 mb-4"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Upload an Image"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"or drop it here"}),e.jsx("button",{onClick:j=>{j.stopPropagation(),ae(!1)},className:"mt-6 text-sm text-brand-red hover:underline font-semibold",children:"Use Camera Instead"})]});return e.jsxs("div",{className:"w-full max-w-5xl mx-auto space-y-6",children:[V?e.jsx(xe,{}):e.jsx(ce,{}),f.length>0&&e.jsxs("div",{className:"bg-white dark:bg-black p-4 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800",children:[e.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Scanned Pages (",f.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:f.map(j=>e.jsxs("div",{className:"relative group rounded-md overflow-hidden border-2 border-transparent focus-within:border-brand-red",children:[e.jsx("img",{src:j.filtered,alt:"Scanned page",className:"w-full aspect-[3/4] object-cover"}),E===j.id&&e.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center text-white",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}),e.jsx("p",{className:"text-xs mt-2 font-semibold",children:"Processing..."})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end",children:e.jsx(wa,{onFilterChange:B=>K(j.id,B),activeFilter:j.filter})}),e.jsx("button",{onClick:()=>A(j.id),className:"absolute top-1 right-1 p-1 bg-black/50 rounded-full text-white hover:bg-red-600 transition-colors","aria-label":"Remove page",children:e.jsx(Ge,{className:"h-4 w-4"})})]},j.id))}),e.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-center gap-4",children:[e.jsx("button",{onClick:()=>X("pdf"),disabled:n||E!==null,className:"bg-brand-red hover:bg-brand-red-dark text-white font-bold py-3 px-8 rounded-lg text-lg disabled:bg-red-300",children:n?"Processing...":"Create PDF"}),e.jsx("button",{onClick:()=>X("jpg"),disabled:n||E!==null,className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-8 rounded-lg text-lg disabled:bg-gray-400",children:n?"Processing...":"Save as JPG"})]})]})]})},Ee=(m,w=2)=>{if(!m||m===0)return"0 Bytes";const N=1024,p=w<0?0:w,_=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],I=Math.floor(Math.log(m)/Math.log(N));return parseFloat((m/Math.pow(N,I)).toFixed(p))+" "+_[I]},va=m=>{if(m===null)return"--:-- remaining";if(m<60)return`${Math.round(m)}s remaining`;const w=Math.floor(m/60),N=Math.round(m%60);return`${w}m ${N}s remaining`},ja=({result:m})=>{const w=m.originalSize>0?(m.originalSize-m.newSize)/m.originalSize*100:0;return e.jsxs("div",{className:"my-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700 max-w-md mx-auto",children:[e.jsx("h3",{className:"font-bold text-lg text-blue-800 dark:text-blue-200",children:"Compression Complete!"}),e.jsxs("div",{className:"flex justify-between items-center mt-2 text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Original Size:"}),e.jsx("span",{className:"font-semibold",children:Ee(m.originalSize)})]}),e.jsxs("div",{className:"flex justify-between items-center mt-1 text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"New Size:"}),e.jsx("span",{className:"font-semibold",children:Ee(m.newSize)})]}),e.jsxs("div",{className:"mt-2 pt-2 border-t border-blue-200 dark:border-blue-600 flex justify-between items-center text-lg",children:[e.jsx("span",{className:"font-bold text-green-600 dark:text-green-400",children:"Reduction:"}),e.jsxs("span",{className:"font-extrabold text-green-600 dark:text-green-400",children:[w.toFixed(1),"%"]})]})]})},ka=({level:m,setLevel:w})=>{const N=[{id:"less",name:"Less Compression",description:"Higher quality, larger file size."},{id:"recommended",name:"Recommended Compression",description:"Good quality, good compression."},{id:"extreme",name:"Extreme Compression",description:"Lower quality, smallest file size."}];return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-100",children:"Compression Level"}),e.jsx("div",{className:"space-y-3",children:N.map(p=>e.jsxs("div",{onClick:()=>w(p.id),className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${m===p.id?"border-brand-red bg-red-50 dark:bg-red-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-400"}`,children:[e.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:p.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:p.description})]},p.id))})]})},ve=(m,w,N)=>{const p=w.length>0?w[0].name.replace(/\.[^/.]+$/,""):"file",_=w.length>0?w[0]:null;switch(m){case"merge-pdf":return"merged.pdf";case"split-pdf":return"split_files.zip";case"compress-pdf":return`${p}_compressed.pdf`;case"rotate-pdf":return`${p}_rotated.pdf`;case"protect-pdf":return`${p}_protected.pdf`;case"unlock-pdf":return`${p}_unlocked.pdf`;case"watermark-pdf":return`${p}_watermarked.pdf`;case"page-numbers":return`${p}_numbered.pdf`;case"jpg-to-pdf":return`${p}.pdf`;case"document-scanner":return"scanned_document.pdf";case"pdf-to-word":return`${p}.docx`;case"pdf-to-jpg":return`${p}_images.zip`;case"ocr-pdf":return`${p}_ocr.pdf`;case"word-to-pdf":return`${p}.pdf`;case"pdf-to-excel":return`${p}.xlsx`;case"excel-to-pdf":return`${p}.pdf`;case"pdf-to-powerpoint":return`${p}.pptx`;case"powerpoint-to-pdf":return`${p}.pptx`;case"crop-pdf":return`${p}_cropped.pdf`;case"redact-pdf":return`${p}_redacted.pdf`;case"repair-pdf":return w.length>1?"repaired_files.zip":`${p}_repaired.pdf`;case"pdf-to-pdfa":return`${p}_pdfa.pdf`;case"edit-pdf":return`${p}_edited.pdf`;case"sign-pdf":return`${p}_signed.pdf`;case"organize-pdf":return"organized.pdf";case"remove-background":return`${p}_no_bg.png`;case"psd-to-pdf":return`${p}.pdf`;case"pdf-to-png":return`${p}_images.zip`;case"extract-text":return`${p}.txt`;case"zip-maker":return"archive.zip";case"resize-file":return _?`${p}_resized.${_.name.split(".").pop()}`:"resized_file";case"resize-image":return w.length>1?"resized_images.zip":_?`${p}_resized.${N.resizeFormat||"jpg"}`:"resized_image";case"crop-image":return _?`${p}_cropped.${_.name.split(".").pop()}`:"cropped_image";case"convert-to-jpg":return w.length>1?"converted_to_jpg.zip":`${p}.jpg`;case"convert-from-jpg":return w.length>1?"converted_images.zip":`${p}.${N.convertToFormat||"png"}`;case"compress-image":return w.length>1?"compressed_images.zip":`${p}_compressed.jpg`;case"watermark-image":return w.length>1?"watermarked_images.zip":`${p}_watermarked.png`;default:return"processed-file.pdf"}},lt={compressionLevel:"recommended",splitMode:"all",splitRanges:"",splitFixedSize:1,watermarkType:"text",watermarkText:"CONFIDENTIAL",watermarkImage:null,watermarkFont:"Helvetica",watermarkSize:50,watermarkColor:"#e53935",watermarkOpacity:.5,watermarkPosition:"center",watermarkTiled:!0,watermarkRotation:-45,pageNumberPosition:"bottom-center",pageNumberFormat:"n",pageNumberStart:1,pageNumberPages:"",pageNumberSize:12,pageNumberColor:"#000000",pageOrientation:"auto",pageSize:"fit",pageMargin:"none",imageQuality:1.5,ocrLanguage:"eng",password:"",allowPrinting:!0,allowCopying:!0,allowModifying:!0,top:0,bottom:0,left:0,right:0,resizeMode:"percentage",resizePercentage:50,resizePdfCompression:"recommended",resizeUnit:"percent",resizeWidth:70,resizeHeight:70,maintainAspectRatio:!0,resizeResolution:72,resizeFormat:"jpg",resizeQuality:90,resizeBackground:"#FFFFFF",cropX:0,cropY:0,cropWidth:500,cropHeight:500,convertToFormat:"png",compressionQuality:.75,rotation:90},Ve=pt.createContext({tool:null}),Pa=()=>pt.useContext(Ve),Na=({files:m,onProcessStart:w,onProcessSuccess:N,onProcessError:p,onReset:_,onAddMoreFiles:I})=>{const[k,f]=r.useState([]),[H,U]=r.useState(!0),[y,W]=r.useState("Extracting pages..."),[J,n]=r.useState("asc"),ne=r.useRef(null),E=r.useRef(null),{t:T}=We(),{tool:te}=Pa(),Q=r.useCallback(async()=>{const P=await D(()=>import("./main-C7NbxmL4.js").then(A=>A.aX),__vite__mapDeps([1,2,3]));U(!0),W("Extracting pages...");const x=[];let h=0;const O=m.map(A=>A.arrayBuffer().then(X=>P.getDocument({data:X}).promise)),F=await Promise.all(O);F.forEach(A=>h+=A.numPages);let K=0;for(let A=0;A<m.length;A++){const X=m[A],ce=F[A];for(let xe=1;xe<=ce.numPages;xe++){K++,W(`Extracting page ${K} of ${h}...`);const j=await ce.getPage(xe),B=j.getViewport({scale:.4}),R=document.createElement("canvas");R.width=B.width,R.height=B.height,await j.render({canvasContext:R.getContext("2d"),viewport:B});const Z=R.toDataURL("image/png");x.push({id:Date.now()+x.length,originalIndex:xe-1,imageDataUrl:Z,rotation:0,sourceFileIndex:A,fileName:X.name})}}f(x),U(!1)},[m]);r.useEffect(()=>{Q()},[Q]);const V=P=>{f(k.map(x=>x.id===P?{...x,rotation:(x.rotation+90)%360}:x))},ae=P=>{f(k.filter(x=>x.id!==P))},re=P=>{const x={id:Date.now(),originalIndex:-1,imageDataUrl:"",rotation:0,sourceFileIndex:-1,isBlank:!0,fileName:"Blank Page"},h=[...k];h.splice(P,0,x),f(h)},se=()=>{const P=[...k].sort((x,h)=>{if(x.isBlank||h.isBlank)return 0;const O=x.fileName.toLowerCase(),F=h.fileName.toLowerCase();return O<F?J==="asc"?-1:1:O>F?J==="asc"?1:-1:J==="asc"?x.originalIndex-h.originalIndex:h.originalIndex-x.originalIndex});f(P),n(x=>x==="asc"?"desc":"asc")},a=(P,x)=>{ne.current=x,P.dataTransfer.effectAllowed="move"},L=(P,x)=>{E.current=x;const h=[...k],O=h[ne.current];h.splice(ne.current,1),h.splice(E.current,0,O),ne.current=E.current,E.current=null,f(h)},v=async()=>{w();try{const{PDFDocument:P,degrees:x,PageSizes:h}=await D(async()=>{const{PDFDocument:A,degrees:X,PageSizes:ce}=await import("./index-Dfj1X2-d.js");return{PDFDocument:A,degrees:X,PageSizes:ce}},__vite__mapDeps([7,2])),O=await Promise.all(m.map(A=>A.arrayBuffer().then(X=>P.load(X,{ignoreEncryption:!0})))),F=await P.create();for(const A of k){if(A.isBlank){F.addPage(h.A4);continue}const X=O[A.sourceFileIndex],[ce]=await F.copyPages(X,[A.originalIndex]);ce.setRotation(x(A.rotation)),F.addPage(ce)}const K=await F.save();N(new Blob([K],{type:"application/pdf"}))}catch(P){p(P.message||"An error occurred during organization.")}};return H?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-red mx-auto"}),e.jsx("p",{className:"mt-4",children:y})]}):e.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 items-start",children:[e.jsx("main",{className:"lg:col-span-9",children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[k.map((P,x)=>e.jsxs("div",{className:"relative group text-center",draggable:!0,onDragStart:h=>a(h,x),onDragEnter:h=>L(h,x),onDragOver:h=>h.preventDefault(),children:[e.jsxs("div",{className:"relative border-2 border-pink-100 dark:border-gray-700 group-hover:border-brand-red rounded-lg transition-all p-1 bg-white dark:bg-gray-800 shadow-md",children:[P.isBlank?e.jsx("div",{className:"aspect-[3/4] bg-gray-50 dark:bg-gray-700 flex items-center justify-center rounded-md border border-dashed",children:e.jsx("span",{className:"text-gray-400",children:"Blank Page"})}):e.jsx("img",{src:P.imageDataUrl,alt:`Page ${P.originalIndex+1}`,className:"w-full rounded-md",style:{transform:`rotate(${P.rotation}deg)`}}),e.jsxs("div",{className:"absolute top-1 right-1 flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>V(P.id),title:"Rotate Page",className:"p-1.5 bg-gray-800/70 text-white rounded-full hover:bg-brand-red",children:e.jsx(mt,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>ae(P.id),title:"Delete Page",className:"p-1.5 bg-gray-800/70 text-white rounded-full hover:bg-brand-red",children:e.jsx(Ge,{className:"h-4 w-4"})})]})]}),e.jsx("p",{className:"text-sm mt-1",children:P.isBlank?"Blank":x+1})]},P.id)),e.jsxs("div",{onClick:()=>re(k.length),title:"Add blank page at the end",className:"aspect-[3/4] bg-white dark:bg-gray-800 flex flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400 hover:border-brand-red hover:text-brand-red cursor-pointer transition-colors",children:[e.jsx(ca,{className:"h-8 w-8"}),e.jsx("span",{className:"text-sm mt-2",children:"Add blank page"})]})]})}),e.jsxs("aside",{className:"lg:col-span-3 lg:sticky lg:top-24 bg-white dark:bg-black p-6 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:T(te.title)}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:I,title:"Add more files",className:"w-12 h-12 bg-brand-red rounded-full flex items-center justify-center text-white shadow-lg hover:bg-brand-red-dark transition-colors relative",children:e.jsx(ct,{className:"h-6 w-6"})}),e.jsx("span",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gray-900 text-white text-xs font-bold rounded-full flex items-center justify-center border-2 border-white dark:border-black",children:m.length})]})]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["A: ",m.map(P=>P.name).join(", ")]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:se,className:"w-full flex items-center justify-center gap-2 p-3 border rounded-lg text-sm font-semibold hover:bg-gray-100 dark:hover:bg-gray-800",children:[e.jsx(da,{className:"h-5 w-5"})," Sort files by name"]}),e.jsx("button",{onClick:()=>_(),className:"w-full text-center text-brand-red font-semibold text-sm mt-2 hover:underline",children:"Reset all"})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("button",{onClick:v,disabled:k.length===0,className:"w-full bg-brand-red text-white font-bold py-3 px-6 rounded-lg text-lg flex items-center justify-center gap-2 hover:bg-brand-red-dark disabled:bg-red-300",children:[T(te.title)," ",e.jsx(Se,{className:"h-5 w-5"})]})})]})]})},Da=({className:m,style:w})=>e.jsx("svg",{className:m,style:w,viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M21 0L24.5258 17.4742L42 21L24.5258 24.5258L21 42L17.4742 24.5258L0 21L17.4742 17.4742L21 0Z",fill:"#FFD700",fillOpacity:"0.8"})}),_a=({imageSrc:m})=>{const w=r.useMemo(()=>Array.from({length:15}).map((N,p)=>({id:p,top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animationDuration:`${Math.random()*1.5+.8}s`,animationDelay:`${Math.random()*2}s`,size:`${Math.random()*16+8}px`})),[]);return e.jsxs("div",{className:"absolute inset-0 rounded-lg overflow-hidden",children:[m&&e.jsx("img",{src:m,alt:"Processing...",className:"absolute inset-0 w-full h-full object-contain"}),e.jsx("div",{className:"absolute inset-0 bg-black/70"}),e.jsx("div",{className:"absolute inset-0 w-full h-full",children:w.map(N=>e.jsx(Da,{className:"sparkle-effect",style:{top:N.top,left:N.left,width:N.size,height:N.size,animationDuration:N.animationDuration,animationDelay:N.animationDelay}},N.id))}),e.jsxs("div",{className:"absolute bottom-5 left-1/2 -translate-x-1/2 flex items-center gap-3 p-2 bg-gray-900/60 rounded-full backdrop-blur-sm border border-white/10",children:[e.jsx("button",{className:"w-10 h-10 bg-gray-200/20 text-white rounded-full flex items-center justify-center text-2xl font-light",children:"+"}),e.jsx("div",{className:"w-12 h-12 border-2 border-blue-400/30 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-10 h-10 border-2 border-t-transparent border-blue-400 rounded-full animate-spin"})}),m&&e.jsx("img",{src:m,alt:"thumbnail",className:"w-10 h-10 rounded-full object-cover border-2 border-white/20"})]})]})},Ca=({tool:m})=>{const[w,N]=r.useState(null),[p,_]=r.useState(null),[I,k]=r.useState(null),[f,H]=r.useState(null),[U,y]=r.useState(!1),[W,J]=r.useState(""),[n,ne]=r.useState({key:"",current:0,total:100}),[E,T]=r.useState("transparent"),[te,Q]=r.useState("#ffffff"),{addTask:V}=ft(),{t:ae}=We(),re=r.useCallback(x=>{if(x.length>0){const h=x[0];N(h);const O=new FileReader;O.onload=F=>_(F.target?.result),O.readAsDataURL(h),J(""),k(null),H(null)}},[]),{getRootProps:se,getInputProps:a,isDragActive:L}=je({onDrop:re,accept:m.accept,multiple:!1});r.useEffect(()=>w?((async()=>{y(!0),ne({key:"Starting...",current:0,total:100});try{const{removeBackground:h}=await D(async()=>{const{removeBackground:K}=await import("./index-BLMEVCVY.js");return{removeBackground:K}},__vite__mapDeps([8,1,2,3])),O=await h(w,{progress:(K,A,X)=>{ne({key:K==="download"?"Downloading AI Model":"Processing Image",current:A,total:X})}}),F=URL.createObjectURL(O);H(O),k(F)}catch(h){J("Could not process image. It might be too large, in an unsupported format, or the content could not be processed."),console.error(h)}finally{y(!1)}})(),()=>{I&&URL.revokeObjectURL(I)}):void 0,[w]);const v=()=>{N(null),_(null),k(null),H(null),J("")},P=async()=>{if(!f||!w)return;let x=f;const h=ve(m.id,[w],{});if(E==="color"&&I)try{const O=new Image;await new Promise((A,X)=>{O.onload=()=>A(),O.onerror=X,O.src=I});const F=document.createElement("canvas");F.width=O.naturalWidth,F.height=O.naturalHeight;const K=F.getContext("2d");if(K){K.fillStyle=te,K.fillRect(0,0,F.width,F.height),K.drawImage(O,0,0);const A=await new Promise(X=>F.toBlob(X,"image/png"));A&&(x=A)}}catch(O){console.error("Failed to apply color background:",O)}if(x){const O=URL.createObjectURL(x),F=document.createElement("a");F.href=O,F.download=h,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(O),V({toolId:m.id,toolTitle:ae(m.title),outputFilename:h,fileBlob:x})}};return w?e.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 items-start",children:[e.jsx("main",{className:"lg:col-span-8 bg-gray-100 dark:bg-gray-900 rounded-lg p-4",children:e.jsxs("div",{className:"relative w-full h-full aspect-square lg:aspect-auto min-h-[400px]",children:[e.jsx("div",{className:`absolute inset-0 rounded-md ${E==="transparent"?"bg-[url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAC1JREFUOE9jZGBgEGHAD97/D0eMGI2MDBsMAn4yMIDxfaemAPwI+b8pIM4ADzE0IBsASx07QfA8w54AAAAASUVORK5CYII=)]":""}`,style:{backgroundColor:E==="color"?te:"transparent"}}),!U&&e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center p-2",children:[I&&e.jsx("img",{src:I,alt:"Processed with background removed",className:"max-w-full max-h-full object-contain"}),W&&e.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded-md",children:[e.jsx("p",{className:"font-bold",children:"Processing Failed"}),e.jsx("p",{className:"text-sm mt-1",children:W})]})]}),U&&e.jsx(_a,{imageSrc:p})]})}),e.jsxs("aside",{className:"lg:col-span-4 bg-white dark:bg-black p-6 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Edit & Download"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm mb-2",children:"Original"}),e.jsx("img",{src:p,alt:"Original input",className:"w-full rounded-md border"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm mb-2",children:"Background"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>T("transparent"),className:`flex-1 p-2 border-2 rounded-md text-sm ${E==="transparent"?"border-brand-red":""}`,children:"Transparent"}),e.jsx("button",{onClick:()=>T("color"),className:`flex-1 p-2 border-2 rounded-md text-sm ${E==="color"?"border-brand-red":""}`,children:"Color"})]}),E==="color"&&e.jsx("input",{type:"color",value:te,onChange:x=>Q(x.target.value),className:"w-full h-10 mt-2 p-1 border rounded-md"})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-700 space-y-3",children:[e.jsxs("button",{onClick:P,disabled:!I,className:"w-full bg-brand-red text-white font-bold py-3 px-6 rounded-lg text-lg flex items-center justify-center gap-2 hover:bg-brand-red-dark disabled:bg-red-300",children:[e.jsx(dt,{className:"h-5 w-5"})," Download"]}),e.jsx("button",{onClick:v,className:"w-full text-center text-gray-500 dark:text-gray-400 font-semibold text-sm hover:underline",children:"Process another image"})]})]})]})]}):e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs("div",{...se(),className:`relative flex flex-col items-center justify-center p-12 rounded-2xl cursor-pointer transition-all duration-300 border-2 border-dashed ${L?"border-brand-red bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-black hover:border-brand-red"}`,children:[e.jsx("input",{...a()}),e.jsx(ut,{className:"h-16 w-16 text-gray-400 mb-4"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Select an Image"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"or drop it here"})]})})},Sa={"merge-pdf":"Combine multiple PDF files into one single PDF document with PDFBullet's free online PDF merger. Easy to use, no installation needed.","split-pdf":"Split a large PDF file into separate pages or extract a specific range of pages into a new PDF document. Fast and secure splitting tool.","compress-pdf":"Reduce the file size of your PDF documents online for free. Optimize your PDFs for web and email sharing without losing quality.","pdf-to-word":"Convert your PDF files to editable DOCX Word documents. Our converter preserves layouts, text, and images accurately.","pdf-to-powerpoint":"Turn your PDF presentations into editable PPTX slideshows. Each PDF page becomes a slide in PowerPoint.","pdf-to-excel":"Extract data and tables from your PDF files into editable Excel spreadsheets. Convert PDF to XLSX with high accuracy.","word-to-pdf":"Convert Microsoft Word documents (DOCX) to PDF format. Preserve your formatting and share your documents securely.","powerpoint-to-pdf":"Convert Microsoft PowerPoint presentations (PPTX) to PDF. Perfect for sharing and archiving your slides.","excel-to-pdf":"Convert Microsoft Excel spreadsheets (XLSX) to PDF. Ensure your tables and data are presented perfectly every time.","edit-pdf":"Edit PDF files online. Add text, images, shapes, and annotations to your documents with our powerful and free PDF editor.","pdf-to-jpg":"Convert each page of your PDF into a high-quality JPG image. You can also extract all embedded images from a PDF.","jpg-to-pdf":"Convert JPG images to PDF files. Combine multiple images into a single PDF document, adjust orientation and margins.","sign-pdf":"Sign PDF documents yourself or request electronic signatures from others. Create legally binding signatures for free.","watermark-pdf":"Add a text or image watermark to your PDF files. Protect your documents with a custom watermark.","rotate-pdf":"Rotate PDF pages. Permanently rotate all or specific pages in your PDF document to the correct orientation.","html-to-pdf":"Convert any webpage to a high-quality PDF file by simply entering the URL.","unlock-pdf":"Remove password protection and restrictions from your PDF files. Unlock secured PDFs so you can edit and print them.","protect-pdf":"Add a password to your PDF file to protect it from unauthorized access. Encrypt your sensitive documents.","organize-pdf":"Reorder, delete, and add pages to your PDF document. Visually organize your PDF files with ease.","pdf-to-pdfa":"Convert your PDF documents to PDF/A, the ISO-standardized version of PDF for long-term archiving.","repair-pdf":"Attempt to repair and recover data from corrupted or damaged PDF files.","page-numbers":"Add page numbers to your PDF documents. Customize the position, format, and style of your page numbers.","document-scanner":"Use your device camera to scan documents and convert them to high-quality PDF files. Adjust filters for perfect scans.","ocr-pdf":"Convert scanned PDFs and images into searchable and selectable text documents using Optical Character Recognition (OCR).","compare-pdf":"Compare two PDF files side-by-side to find differences. Highlights changes in text and content.","redact-pdf":"Permanently remove sensitive information and text from your PDF documents by blacking it out.","crop-pdf":"Crop the margins of your PDF file. Select an area to crop and remove unwanted parts of your pages.","remove-background":"Automatically remove the background from any image with a single click. Get a transparent PNG output.","psd-to-pdf":"Convert Adobe Photoshop (PSD) files to PDF format.","pdf-to-png":"Convert PDF pages to high-quality PNG images.","extract-text":"Extract all text from a PDF file into a simple TXT file.","zip-maker":"Create a ZIP archive from multiple files. Compress your files for easy storage and sharing.","resize-file":"Resize PDF documents or images to reduce file size or change dimensions.","resize-image":"Resize images by pixels or percentage. Maintain aspect ratio and choose output format.","crop-image":"Crop images online. Define a crop box to cut out a part of your image.","convert-to-jpg":"Convert various image formats like PNG, GIF, WEBP, and SVG to JPG.","convert-from-jpg":"Convert JPG images to other formats like PNG or GIF.","compress-image":"Compress images to reduce their file size without significant quality loss.","watermark-image":"Add a text or image watermark to your photos and images."},Ya=()=>{const{toolId:m}=Vt(),w=Gt(),N=Wt(),{user:p,sendTaskCompletionEmail:_,logTask:I}=Xt(),{t:k}=We(),{signature:f,saveSignature:H}=ua(),{addSignedDocument:U}=fa(),{addTask:y}=ft(),W=r.useRef(null),{setShowFooter:J}=r.useContext(Ht),[n,ne]=r.useState(null),[E,T]=r.useState("IDLE"),[te,Q]=r.useState(""),[V,ae]=r.useState(null),[re,se]=r.useState(""),[a,L]=r.useState([]),[v,P]=r.useState(lt),[x,h]=r.useState(null),[O,F]=r.useState(!1),[K,A]=r.useState(""),[X,ce]=r.useState(""),[xe,j]=r.useState(""),[B,R]=r.useState(!1),[Z,q]=r.useState(!1),[ie,de]=r.useState({google:"idle",dropbox:"idle"}),[le,me]=r.useState([]),[ke,Pe]=r.useState([]),[fe,be]=r.useState([]),[Xe,Ie]=r.useState(!1),[He,Ea]=r.useState("signature"),[Ia,ht]=r.useState(null),Re=r.useRef(null),[Je,xt]=r.useState([]),[Ra,bt]=r.useState(!1),[Fa,wt]=r.useState(null),[Aa,yt]=r.useState(null),[La,vt]=r.useState([]),[Oa,Fe]=r.useState(null),[qe,Qe]=r.useState(null),[jt,Ae]=r.useState(!1),[kt,he]=r.useState(!1),[Le,Ke]=r.useState("editable"),[Ze,Pt]=r.useState(!1),[Ne,De]=r.useState(null),[Nt,Oe]=r.useState(0),[Dt,Te]=r.useState(null),[Ta,Be]=r.useState([]),[Ba,$e]=r.useState(!1),[$a,za]=r.useState("asc"),[Ma,_t]=r.useState(!1),Ye=r.useRef(null);r.useEffect(()=>{N.state?.files&&(L(N.state.files),w(N.pathname,{replace:!0,state:{}}))},[N.state,w]);const _e=r.useMemo(()=>a.reduce((t,s)=>t+s.size,0),[a]),Ct=()=>{if(V){const t=re||ve(n.id,a,v);ze(V,t)}},St=async()=>{if(!V)return;F(!0);const t=URL.createObjectURL(V);A(t),R(!0),j("");try{const i=await(await D(()=>import("./main-C7NbxmL4.js").then(c=>c.b),__vite__mapDeps([1,2,3]))).toDataURL(t,{width:200});ce(i)}catch{j("Could not generate QR code.")}finally{R(!1)}},Et=()=>{if(!V)return;de(i=>({...i,dropbox:"saving"}));const t=re||ve(n.id,a,v),s=URL.createObjectURL(V);Dropbox.save(s,t,{success:()=>{de(i=>({...i,dropbox:"saved"})),setTimeout(()=>de(i=>({...i,dropbox:"idle"})),2e3)},error:()=>{de(i=>({...i,dropbox:"idle"})),alert("Failed to save to Dropbox.")}})},[Ua,It]=r.useState(!1),[Va,Ga]=r.useState(null),et=r.useCallback(t=>{L(s=>[...s,...t].filter((i,c,g)=>c===g.findIndex(d=>d.name===i.name&&d.size===i.size)))},[]),{getRootProps:Wa,getInputProps:Xa,open:Rt}=je({onDrop:et,noClick:!0,noKeyboard:!0,accept:n?.accept||{"application/pdf":[".pdf"]}});je({onDrop:et,accept:n?.accept||{"application/pdf":[".pdf"]}}),r.useEffect(()=>{gapi&&gapi.load("client:picker",()=>It(!0))},[]),r.useEffect(()=>{const t=s=>{Ye.current&&!Ye.current.contains(s.target)&&_t(!1)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]),r.useEffect(()=>(J(E==="SUCCESS"),()=>{J(!0)}),[E,J]),r.useEffect(()=>{if(E==="PROCESSING"&&x&&Ne&&_e>0&&x.percentage>0){const t=(Date.now()-Ne)/1e3,s=_e*(x.percentage/100),i=t>0?s/t:0;if(Oe(i),x.percentage>5){const c=t/x.percentage*100,g=Math.max(0,c-t);Te(g)}}else E!=="PROCESSING"&&(De(null),Oe(0),Te(null))},[x,E,Ne,_e]);const ze=r.useCallback((t,s)=>{const i=URL.createObjectURL(t),c=document.createElement("a");c.href=i,c.download=s,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(i)},[]);r.useEffect(()=>{if(E==="SUCCESS"&&V){const t=re||(n?ve(n.id,a,v):"download");ze(V,t),se("")}},[E,V,n,a,v,ze,re]);const Ft=t=>{if(!t)return"Processing...";const s=k(t.title);if(s.toLowerCase().startsWith("convert ")){const l=s.substring(8).split(/ to /i);return e.jsxs(e.Fragment,{children:["Converting ",e.jsx("strong",{children:l[0]})," to ",e.jsx("strong",{children:l[1]}),"..."]})}if(s.includes(" to ")){const u=s.split(/ to /i);return e.jsxs(e.Fragment,{children:["Converting ",e.jsx("strong",{children:u[0]})," to ",e.jsx("strong",{children:u[1]}),"..."]})}const i=s.split(" ");let c=i[0];const g=i.slice(1).join(" ");let d=c;return c.endsWith("e")?d=c.slice(0,-1)+"ing":["split","compress","redact"].some(u=>c.toLowerCase().includes(u))?d=c+c.slice(-1)+"ing":d=c+"ing",s==="Create ZIP file"?e.jsx(e.Fragment,{children:"Creating ZIP file..."}):e.jsxs(e.Fragment,{children:[d.charAt(0).toUpperCase()+d.slice(1)," ",g,"..."]})},tt=r.useMemo(()=>{if(!n||E==="PROCESSING"||a.length===0)return!0;switch(n.id){case"protect-pdf":return!v.password||v.password.length===0;case"unlock-pdf":return a.length>0&&(!v.password||v.password.length===0);case"watermark-pdf":case"watermark-image":return v.watermarkType==="text"?!v.watermarkText||v.watermarkText.trim().length===0:!v.watermarkImage;default:return!1}},[n,v,E,a]),At=r.useMemo(()=>{if(!n||E==="PROCESSING")return!0;switch(n.id){case"sign-pdf":case"edit-pdf":return fe.length===0;case"redact-pdf":return Je.length===0;default:return!1}},[n,fe.length,Je.length,E]),ue=r.useCallback(()=>{T("IDLE"),Q(""),ae(null),L([]),P(lt),h(null),A(""),F(!1),de({google:"idle",dropbox:"idle"}),me([]),Pe([]),be([]),Ie(!1),ht(null),xt([]),bt(!1),wt(null),yt(null),vt([]),Fe(null),Qe(null),Ae(!1),he(!1),De(null),Oe(0),Te(null),Be([]),$e(!1)},[]);r.useEffect(()=>{if(!W.current){const i=document.getElementById("meta-description"),c=document.getElementById("meta-keywords");W.current={title:document.title,desc:i?i.content:"",keywords:c?c.content:""}}const t=st.find(i=>i.id===m),s=()=>{const i=document.getElementById("tool-structured-data");i&&i.remove()};if(t){if(t.isPremium&&!p?.isPremium){w("/premium-feature",{state:{toolId:t.id}});return}ne(t),ue();const i=`${k(t.title)} â€“ PDFBullet`,c=Sa[t.id]||`Use the ${k(t.title)} tool on PDFBullet. ${k(t.description)} Fast, free, and secure.`,g=[k(t.title).toLowerCase(),`free ${k(t.title).toLowerCase()}`,`online ${k(t.title).toLowerCase()}`,t.id.replace(/-/g," "),`pdfbullet ${k(t.title).toLowerCase()}`,"pdf tools","document management"];t.category?.includes("convert")&&g.push("pdf converter","file converter"),t.category==="edit"&&g.push("pdf editor","edit pdf online"),t.category==="security"&&g.push("pdf security","secure pdf");const d=[...new Set(g)].join(", ");document.title=i;const u=document.getElementById("meta-description"),l=document.getElementById("meta-keywords");u&&(u.content=c),l&&(l.content=d);const o="tool-structured-data";let b=document.getElementById(o);b||(b=document.createElement("script"),b.id=o,b.type="application/ld+json",document.head.appendChild(b));const C={"@context":"https://schema.org","@type":"SoftwareApplication",name:k(t.title),applicationCategory:"ProductivityApplication",operatingSystem:"Web",description:k(t.description),url:`https://pdfbullet.com/#/${t.id}`,offers:{"@type":"Offer",price:t.isPremium?"5.00":"0.00",priceCurrency:"USD"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",reviewCount:"2500"},publisher:{"@type":"Organization",name:"PDFBullet"}};b.textContent=JSON.stringify(C)}else["invoice-generator","cv-generator","lesson-plan-creator","ai-question-generator","ai-image-generator"].includes(m||"")||w("/");return s},[m,w,p,ue,k]);const Ce=r.useCallback(async()=>{if(!(!n||!["sign-pdf","edit-pdf","redact-pdf"].includes(n.id)||a.length===0)){T("PROCESSING"),h({percentage:0,status:"Loading document pages..."});try{const s=await D(()=>import("./main-C7NbxmL4.js").then(g=>g.aX),__vite__mapDeps([1,2,3])),i=[],c=[];for(let g=0;g<a.length;g++){const d=a[g],u=await d.arrayBuffer(),l=await s.getDocument({data:u}).promise;for(let o=1;o<=l.numPages;o++){h({percentage:Math.round((g*l.numPages+o)/(a.length*l.numPages)*100),status:`Extracting page ${o} from ${d.name}`});const b=await l.getPage(o),S=b.getViewport({scale:1.5}),$=document.createElement("canvas");$.width=S.width,$.height=S.height,await b.render({canvasContext:$.getContext("2d"),viewport:S});const Y=$.toDataURL("image/png");i.push(Y),c.push(S)}}me(i),Pe(c),T("IDLE")}catch(s){console.error(s),Q("Failed to load PDF. The file might be corrupt or protected."),T("ERROR")}finally{h(null)}}},[a,n]);r.useEffect(()=>{if(n?.id==="resize-image"&&a.length>0){const t=a[0],s=new Image;s.onload=()=>{Fe({width:s.width,height:s.height})};const i=URL.createObjectURL(t);return s.src=i,()=>{URL.revokeObjectURL(i)}}else Fe(null)},[a,n?.id]),r.useEffect(()=>{["edit-pdf","redact-pdf"].includes(n?.id||"")&&a.length>0?Ce():n?.id!=="compare-pdf"&&n?.id!=="sign-pdf"&&n?.id!=="organize-pdf"&&n?.id!=="repair-pdf"&&me([])},[a,n?.id,Ce]),r.useEffect(()=>{n?.id==="repair-pdf"&&a.length>0?(async()=>{const s=await D(()=>import("./main-C7NbxmL4.js").then(c=>c.aX),__vite__mapDeps([1,2,3]));$e(!0);const i=[];for(let c=0;c<a.length;c++)try{const g=a[c],d=await g.arrayBuffer(),l=await(await s.getDocument({data:d}).promise).getPage(1),o=l.getViewport({scale:.5}),b=document.createElement("canvas");b.width=o.width,b.height=o.height;const C=b.getContext("2d");C&&(await l.render({canvasContext:C,viewport:o}),i.push({fileIndex:c,fileName:g.name,dataUrl:b.toDataURL()}))}catch(g){console.error("Could not generate preview for",a[c].name,g)}Be(i),$e(!1)})():Be([])},[a,n?.id]),r.useEffect(()=>{n?.id==="sign-pdf"&&a.length>0&&le.length===0&&Ae(!0)},[a,n,le]);const Lt=()=>{if(Ae(!1),!p){w("/login",{state:{from:"/sign-pdf"}});return}f?.signature?Ce():he(!0)},Ot=(t,s)=>{H(t,s),he(!1),Ce()},at=t=>{if(!f||t==="signature"&&!f.signature||t==="initials"&&!f.initials){he(!0);return}if(Re.current){const s=Re.current.querySelector("#pdf-page-0");if(s){const i=t==="signature"?f.signature:f.initials,c=t==="signature",g=c?150:60,d=c?75:60,u=s.offsetLeft+s.clientWidth/2-g/2,l=s.offsetTop+s.clientHeight/2-d/2,o={id:Date.now(),type:t,dataUrl:i,width:g,height:d,x:u,y:l,pageIndex:0};be(b=>[...b,o])}}},Me=async()=>{if(!(!n||a.length===0)){T("PROCESSING"),De(Date.now()),Q(""),ae(null),h({percentage:0,status:"Starting process..."});try{let t=null;switch(n.id){case"merge-pdf":{const{PDFDocument:s}=await D(async()=>{const{PDFDocument:d}=await import("./index-Dfj1X2-d.js");return{PDFDocument:d}},__vite__mapDeps([7,2]));if(a.length<2)throw new Error("Please select at least two PDF files to merge.");const i=await s.create();let c=0;for(const d of a){if(c++,h({percentage:Math.round(c/a.length*100),status:`Merging ${d.name}`}),d.type!=="application/pdf")throw new Error(`File "${d.name}" is not a PDF.`);const u=await d.arrayBuffer(),l=await s.load(u,{ignoreEncryption:!0});(await i.copyPages(l,l.getPageIndices())).forEach(b=>i.addPage(b))}const g=await i.save();t=new Blob([g],{type:"application/pdf"});break}case"split-pdf":{const{PDFDocument:s}=await D(async()=>{const{PDFDocument:o}=await import("./index-Dfj1X2-d.js");return{PDFDocument:o}},__vite__mapDeps([7,2])),i=(await D(async()=>{const{default:o}=await import("./jszip.min-CG955O0i.js").then(b=>b.j);return{default:o}},__vite__mapDeps([4,2,5,6]))).default;if(a.length!==1)throw new Error("Please select exactly one PDF file to split.");const c=a[0],g=new i,d=await c.arrayBuffer(),u=await s.load(d,{ignoreEncryption:!0}),l=u.getPageCount();for(let o=0;o<l;o++){h({percentage:Math.round((o+1)/l*100),status:`Splitting page ${o+1} of ${l}`});const b=await s.create(),[C]=await b.copyPages(u,[o]);b.addPage(C);const S=await b.save();g.file(`${c.name.replace(".pdf","")}_page_${o+1}.pdf`,S)}t=await g.generateAsync({type:"blob"});break}case"compress-pdf":{const{PDFDocument:s}=await D(async()=>{const{PDFDocument:o}=await import("./index-Dfj1X2-d.js");return{PDFDocument:o}},__vite__mapDeps([7,2])),i=await D(()=>import("./main-C7NbxmL4.js").then(o=>o.aX),__vite__mapDeps([1,2,3]));if(a.length!==1)throw new Error("Please select one PDF file to compress.");const c=a[0],g=c.size,d=await c.arrayBuffer();let u;if(v.compressionLevel==="less")h({percentage:50,status:"Applying light compression..."}),u=await(await s.load(d,{ignoreEncryption:!0})).save({useObjectStreams:!0});else{const o=v.compressionLevel==="extreme",b=o?.6:.8,C=o?1:1.5;h({percentage:10,status:`Rasterizing PDF for ${o?"extreme":"recommended"} compression...`});const S=await i.getDocument({data:new Uint8Array(d)}).promise,$=await s.create();for(let Y=1;Y<=S.numPages;Y++){h({percentage:10+Math.round(Y/S.numPages*80),status:`Processing page ${Y}`});const z=await S.getPage(Y),M=z.getViewport({scale:C}),G=document.createElement("canvas");G.width=M.width,G.height=M.height;const oe=G.getContext("2d");oe.fillStyle="white",oe.fillRect(0,0,G.width,G.height),await z.render({canvasContext:oe,viewport:M});const pe=G.toDataURL("image/jpeg",b),ge=await fetch(pe).then(ye=>ye.arrayBuffer()),we=await $.embedJpg(ge),ee=$.addPage([z.view[2],z.view[3]]);ee.drawImage(we,{x:0,y:0,width:ee.getWidth(),height:ee.getHeight()})}h({percentage:95,status:"Saving compressed PDF..."}),u=await $.save()}const l=u.byteLength;Qe({originalSize:g,newSize:l}),l>=g?t=new Blob([d],{type:"application/pdf"}):t=new Blob([u],{type:"application/pdf"});break}case"rotate-pdf":{const{PDFDocument:s,degrees:i}=await D(async()=>{const{PDFDocument:l,degrees:o}=await import("./index-Dfj1X2-d.js");return{PDFDocument:l,degrees:o}},__vite__mapDeps([7,2]));if(a.length!==1)throw new Error("Please select one PDF file to rotate.");const g=await a[0].arrayBuffer(),d=await s.load(g,{ignoreEncryption:!0});d.getPages().forEach(l=>l.setRotation(i(l.getRotation().angle+v.rotation)));const u=await d.save();t=new Blob([u],{type:"application/pdf"});break}case"repair-pdf":{const{PDFDocument:s}=await D(async()=>{const{PDFDocument:d}=await import("./index-Dfj1X2-d.js");return{PDFDocument:d}},__vite__mapDeps([7,2])),i=(await D(async()=>{const{default:d}=await import("./jszip.min-CG955O0i.js").then(u=>u.j);return{default:d}},__vite__mapDeps([4,2,5,6]))).default;if(a.length===0)throw new Error("Please select at least one PDF file to repair.");const c=new i;let g=0;for(const d of a){g++,h({percentage:Math.round(g/a.length*90),status:`Attempting to repair ${d.name}...`});try{const u=await d.arrayBuffer(),o=await(await s.load(u,{ignoreEncryption:!0,updateMetadata:!1})).save();c.file(d.name.replace(/\.pdf$/i,"_repaired.pdf"),o)}catch(u){console.error(`Could not repair ${d.name}:`,u),c.file(`${d.name.replace(/\.pdf$/i,"")}_REPAIR_FAILED.txt`,"We were unable to repair this file. It might be too corrupted or in an unsupported format.")}}if(h({percentage:100,status:"Packaging files..."}),a.length>1)t=await c.generateAsync({type:"blob"});else{const d=Object.keys(c.files)[0];if(d&&d.endsWith(".pdf")){const u=await c.file(d)?.async("uint8array");if(u)t=new Blob([u],{type:"application/pdf"});else throw new Error("Failed to extract the repaired file.")}else t=await c.generateAsync({type:"blob"})}break}case"sign-pdf":{const{PDFDocument:s}=await D(async()=>{const{PDFDocument:l}=await import("./index-Dfj1X2-d.js");return{PDFDocument:l}},__vite__mapDeps([7,2]));if(a.length!==1)throw new Error("Please select one PDF file to sign.");const i=a[0],c=await i.arrayBuffer(),g=await s.load(c,{ignoreEncryption:!0}),d=g.getPages();for(const l of fe)if(l.pageIndex<d.length){const o=d[l.pageIndex],b=ke[l.pageIndex],C=o.getWidth()/b.width,S=l.dataUrl?.startsWith("data:image/png")?await g.embedPng(l.dataUrl):l.dataUrl?await g.embedJpg(l.dataUrl):null;S&&o.drawImage(S,{x:l.x*C,y:o.getHeight()-l.y*C-l.height*C,width:l.width*C,height:l.height*C})}const u=await g.save();t=new Blob([u],{type:"application/pdf"}),p&&U({originator:p.username,originalFile:i,originalFileName:i.name,signedFile:t,signedFileName:ve(n.id,a,v),signers:[{name:p.username,signedAt:new Date().toISOString()}],status:"Signed",auditTrail:JSON.stringify([{event:"Created",user:p.username,timestamp:new Date().toISOString()},{event:"Signed",user:p.username,timestamp:new Date().toISOString()}])});break}case"powerpoint-to-pdf":{const s=(await D(async()=>{const{default:o}=await import("./jszip.min-CG955O0i.js").then(b=>b.j);return{default:o}},__vite__mapDeps([4,2,5,6]))).default,{jsPDF:i}=await D(async()=>{const{jsPDF:o}=await import("./jspdf.es.min-BmytgcX8.js").then(b=>b.j);return{jsPDF:o}},__vite__mapDeps([0,1,2,3]));if(a.length!==1)throw new Error("Please select one PowerPoint file.");const g=await a[0].arrayBuffer(),d=await s.loadAsync(g),u=[];for(const o in d.files)o.startsWith("ppt/slides/slide")&&u.push(o);u.sort();const l=new i("l","px","a4");for(let o=0;o<u.length;o++){o>0&&l.addPage();const b=await d.file(u[o]).async("string"),C=new DOMParser().parseFromString(b,"application/xml").getElementsByTagName("a:t");let S="";for(let $=0;$<C.length;$++)S+=C[$].textContent+`
`;l.text(S,20,20)}t=l.output("blob");break}case"extract-text":{const s=await D(()=>import("./main-C7NbxmL4.js").then(d=>d.aX),__vite__mapDeps([1,2,3]));if(a.length!==1)throw new Error("Please select one PDF file.");const i=a[0],c=await s.getDocument({data:await i.arrayBuffer()}).promise;let g="";for(let d=1;d<=c.numPages;d++){const l=await(await c.getPage(d)).getTextContent();g+=l.items.map(o=>"str"in o?o.str:"").join(" ")+`

`}t=new Blob([g],{type:"text/plain"});break}case"zip-maker":{const s=(await D(async()=>{const{default:c}=await import("./jszip.min-CG955O0i.js").then(g=>g.j);return{default:c}},__vite__mapDeps([4,2,5,6]))).default;if(a.length===0)throw new Error("Please select files to zip.");const i=new s;for(let c=0;c<a.length;c++){const g=a[c];h({percentage:Math.round((c+1)/a.length*100),status:`Adding ${g.name}`}),i.file(g.name,g)}t=await i.generateAsync({type:"blob"});break}case"remove-background":{const{removeBackground:s}=await D(async()=>{const{removeBackground:g}=await import("./index-BLMEVCVY.js");return{removeBackground:g}},__vite__mapDeps([8,1,2,3]));if(a.length!==1)throw new Error("Please select one image file.");const i=a[0];h({percentage:50,status:"Removing background..."}),t=await s(i);break}case"jpg-to-pdf":{const{PDFDocument:s}=await D(async()=>{const{PDFDocument:g}=await import("./index-Dfj1X2-d.js");return{PDFDocument:g}},__vite__mapDeps([7,2])),i=await s.create();for(let g=0;g<a.length;g++){const d=a[g];h({percentage:Math.round((g+1)/a.length*100),status:`Adding ${d.name}`});const u=await d.arrayBuffer();let l;if(d.type==="image/jpeg")l=await i.embedJpg(u);else if(d.type==="image/png")l=await i.embedPng(u);else throw new Error(`Unsupported image type: ${d.type}`);const{width:o,height:b}=l.scale(1);i.addPage([o,b]).drawImage(l,{x:0,y:0,width:o,height:b})}const c=await i.save();t=new Blob([c],{type:"application/pdf"});break}case"word-to-pdf":case"excel-to-pdf":{const s=(await D(async()=>{const{default:ee}=await import("./index-CDEvsS2u.js").then(ye=>ye.i);return{default:ee}},__vite__mapDeps([9,2,10,5,6]))).default,i=await D(()=>import("./xlsx-DGuHH-KN.js"),[]),c=(await D(async()=>{const{default:ee}=await import("./html2canvas.esm-B0tyYwQk.js");return{default:ee}},[])).default,{jsPDF:g}=await D(async()=>{const{jsPDF:ee}=await import("./jspdf.es.min-BmytgcX8.js").then(ye=>ye.j);return{jsPDF:ee}},__vite__mapDeps([0,1,2,3]));if(a.length!==1)throw new Error(`Please select one ${n.id==="word-to-pdf"?"Word":"Excel"} file.`);const u=await a[0].arrayBuffer();h({percentage:20,status:"Converting to HTML..."});let l="";if(n.id==="word-to-pdf"){const ee=await s.convertToHtml({arrayBuffer:u});if(!ee.value||ee.value.trim()==="")throw new Error("The Word document appears to be empty or could not be read. Please try a different file.");l=`<div style="font-family: 'Times New Roman', Times, serif; line-height: 1.5; font-size: 12pt; color: black; background-color: white;">${ee.value}</div>`}else{const ee=i.read(u,{type:"array"}),ye=ee.SheetNames[0],Mt=ee.Sheets[ye];l=`
                        <style>
                            table { border-collapse: collapse; width: 100%; font-family: sans-serif; font-size: 10px; color: black; background-color: white; }
                            th, td { border: 1px solid #dddddd; text-align: left; padding: 4px; }
                            th { background-color: #f2f2f2; }
                        </style>
                        ${i.utils.sheet_to_html(Mt)}
                    `}const o=document.createElement("div");o.style.position="absolute",o.style.left="-9999px",o.style.padding="15mm",o.style.backgroundColor="white",o.innerHTML=l,document.body.appendChild(o),o.style.width=n.id==="excel-to-pdf"?o.scrollWidth+"px":"210mm",h({percentage:60,status:"Capturing document..."});const b=await c(o,{scale:2,useCORS:!0,logging:!1,width:o.scrollWidth,height:o.scrollHeight});document.body.removeChild(o),h({percentage:80,status:"Generating PDF..."});const C=b.toDataURL("image/png"),S=new g({orientation:b.width>b.height?"landscape":"portrait",unit:"mm",format:"a4"}),$=S.internal.pageSize.getWidth(),Y=S.internal.pageSize.getHeight(),z=b.width,M=b.height,G=z/M;let oe=$,pe=oe/G,ge=pe,we=0;for(S.addImage(C,"PNG",0,we,oe,pe),ge-=Y;ge>0;)we-=Y,S.addPage(),S.addImage(C,"PNG",0,we,oe,pe),ge-=Y;t=S.output("blob");break}case"pdf-to-jpg":{const s=(await D(async()=>{const{default:l}=await import("./jszip.min-CG955O0i.js").then(o=>o.j);return{default:l}},__vite__mapDeps([4,2,5,6]))).default,i=await D(()=>import("./main-C7NbxmL4.js").then(l=>l.aX),__vite__mapDeps([1,2,3]));if(a.length!==1)throw new Error("Please select one PDF file.");const c=a[0],g=new s,d=await c.arrayBuffer(),u=await i.getDocument({data:d}).promise;for(let l=1;l<=u.numPages;l++){h({percentage:Math.round(l/u.numPages*100),status:`Converting page ${l}`});const o=await u.getPage(l),b=o.getViewport({scale:2}),C=document.createElement("canvas");C.width=b.width,C.height=b.height,await o.render({canvasContext:C.getContext("2d"),viewport:b});const S=C.toDataURL("image/jpeg",.9),$=await(await fetch(S)).blob();g.file(`${c.name.replace(".pdf","")}_page_${l}.jpg`,$)}t=await g.generateAsync({type:"blob"});break}case"pdf-to-png":{const s=(await D(async()=>{const{default:l}=await import("./jszip.min-CG955O0i.js").then(o=>o.j);return{default:l}},__vite__mapDeps([4,2,5,6]))).default,i=await D(()=>import("./main-C7NbxmL4.js").then(l=>l.aX),__vite__mapDeps([1,2,3]));if(a.length!==1)throw new Error("Please select one PDF file.");const c=a[0],g=new s,d=await c.arrayBuffer(),u=await i.getDocument({data:d}).promise;for(let l=1;l<=u.numPages;l++){h({percentage:Math.round(l/u.numPages*100),status:`Converting page ${l}`});const o=await u.getPage(l),b=o.getViewport({scale:2}),C=document.createElement("canvas");C.width=b.width,C.height=b.height,await o.render({canvasContext:C.getContext("2d"),viewport:b});const S=C.toDataURL("image/png"),$=await(await fetch(S)).blob();g.file(`${c.name.replace(".pdf","")}_page_${l}.png`,$)}t=await g.generateAsync({type:"blob"});break}case"pdf-to-word":{const s=await D(()=>import("./main-C7NbxmL4.js").then(z=>z.aX),__vite__mapDeps([1,2,3])),i=(await D(async()=>{const{default:z}=await import("./index-k8hGQYAT.js").then(M=>M.i);return{default:z}},__vite__mapDeps([11,2,6]))).default,{Document:c,Packer:g,Paragraph:d,TextRun:u,ImageRun:l,SectionType:o}=await D(async()=>{const{Document:z,Packer:M,Paragraph:G,TextRun:oe,ImageRun:pe,SectionType:ge}=await import("./index-3sRqm52h.js");return{Document:z,Packer:M,Paragraph:G,TextRun:oe,ImageRun:pe,SectionType:ge}},[]);if(a.length!==1)throw new Error("Please select one PDF file.");const b=a[0],C=await b.arrayBuffer(),S=await s.getDocument({data:C,password:v.password||""}).promise;let $=[];if(Le==="exact")for(let z=1;z<=S.numPages;z++){h({percentage:Math.round(z/S.numPages*100),status:`Converting page ${z}`});const M=await S.getPage(z),G=M.getViewport({scale:1.5}),oe=document.createElement("canvas");oe.width=G.width,oe.height=G.height,await M.render({canvasContext:oe.getContext("2d"),viewport:G});const pe=oe.toDataURL("image/png"),ge=await fetch(pe).then(we=>we.arrayBuffer());$.push({children:[new d({children:[new l({type:"png",data:new Uint8Array(ge),transformation:{width:G.width,height:G.height}})]})],properties:{type:z<S.numPages?o.NEXT_PAGE:o.CONTINUOUS}})}else{let z="";if(Ze){const{data:{text:M}}=await i.recognize(b,"eng",{logger:G=>h({percentage:(G.progress||0)*100,status:G.status})});z=M}else for(let M=1;M<=S.numPages;M++){h({percentage:Math.round(M/S.numPages*100),status:`Extracting text from page ${M}`});const pe=(await(await S.getPage(M)).getTextContent()).items.map(ge=>"str"in ge?ge.str:"").join(" ");z+=pe+`

`}$.push({children:z.split(`
`).map(M=>new d({children:[new u(M)]}))})}const Y=new c({sections:$});t=await g.toBlob(Y);break}case"pdf-to-excel":{const s=await D(()=>import("./main-C7NbxmL4.js").then(o=>o.aX),__vite__mapDeps([1,2,3])),i=await D(()=>import("./xlsx-DGuHH-KN.js"),[]);if(a.length!==1)throw new Error("Please select one PDF file.");const g=await a[0].arrayBuffer(),d=await s.getDocument({data:g}).promise,u=i.utils.book_new();for(let o=1;o<=d.numPages;o++){h({percentage:Math.round(o/d.numPages*100),status:`Processing page ${o}`});const S=(await(await d.getPage(o)).getTextContent()).items.map(Y=>"str"in Y?[Y.str]:[]),$=i.utils.aoa_to_sheet(S);i.utils.book_append_sheet(u,$,`Page ${o}`)}const l=i.write(u,{bookType:"xlsx",type:"array"});t=new Blob([l],{type:"application/octet-stream"});break}case"unlock-pdf":{const{PDFDocument:s}=await D(async()=>{const{PDFDocument:g}=await import("./index-Dfj1X2-d.js");return{PDFDocument:g}},__vite__mapDeps([7,2]));if(a.length!==1)throw new Error("Please select one PDF file.");const c=await a[0].arrayBuffer();try{const d=await(await s.load(c,{password:v.password||void 0,ignoreEncryption:!1})).save();t=new Blob([d],{type:"application/pdf"})}catch{throw new Error("Incorrect password or unsupported encryption.")}break}case"protect-pdf":{const{PDFDocument:s}=await D(async()=>{const{PDFDocument:l}=await import("./index-Dfj1X2-d.js");return{PDFDocument:l}},__vite__mapDeps([7,2]));if(a.length!==1)throw new Error("Please select one PDF file.");const c=await a[0].arrayBuffer(),g=await s.load(c,{ignoreEncryption:!0}),d={printing:v.allowPrinting,copying:v.allowCopying,modifying:v.allowModifying},u=await g.encrypt({userPassword:v.password,ownerPassword:v.password,permissions:d});t=new Blob([u],{type:"application/pdf"});break}case"psd-to-pdf":{const{readPsd:s}=await D(async()=>{const{readPsd:b}=await import("./index-Z1VvO2s3.js");return{readPsd:b}},__vite__mapDeps([12,10])),{jsPDF:i}=await D(async()=>{const{jsPDF:b}=await import("./jspdf.es.min-BmytgcX8.js").then(C=>C.j);return{jsPDF:b}},__vite__mapDeps([0,1,2,3]));if(a.length!==1)throw new Error("Please select one PSD file.");const g=await a[0].arrayBuffer();h({percentage:50,status:"Rendering PSD..."});const d=s(g);if(!d.canvas)throw new Error("Could not render PSD file.");const u=d.canvas,l=u.toDataURL("image/png"),o=new i({orientation:u.width>u.height?"landscape":"portrait",unit:"px",format:[u.width,u.height]});o.addImage(l,"PNG",0,0,u.width,u.height),t=o.output("blob");break}}if(t){ae(t),T("SUCCESS");const s=ve(n.id,a,v);se(s);const i={toolId:n.id,toolTitle:k(n.title),outputFilename:s,fileBlob:t};y(i),I(i),p&&_(k(n.title),s)}else E!=="ERROR"&&(["word-to-pdf","excel-to-pdf","pdf-to-word"].includes(n.id)||T("SUCCESS"))}catch(t){console.error(t),Q(t.message||"An unknown error occurred during processing."),T("ERROR")}finally{["word-to-pdf","excel-to-pdf","pdf-to-word"].includes(n.id)||h(null)}}},Tt=()=>{T("PROCESSING"),De(Date.now()),Q(""),ae(null),se(""),h({percentage:0,status:"Starting process..."})},Bt=(t,s)=>{if(ae(t),se(s),T("SUCCESS"),n){const i={toolId:n.id,toolTitle:k(n.title),outputFilename:s,fileBlob:t};y(i),I(i),p&&_(k(n.title),s)}},$t=t=>{Q(t),T("ERROR")};if(!n)return e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-xl font-semibold",children:"Loading Tool..."})})});const zt=()=>{if(E==="SUCCESS"){const t=re||ve(n.id,a,v);return e.jsxs("div",{className:"text-center w-full max-w-7xl mx-auto py-12 success-screen",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"This task has been processed successfully."}),n.id==="compress-pdf"&&qe&&e.jsx(ja,{result:qe}),e.jsxs("div",{className:"mt-8 success-actions-wrapper",children:[e.jsx("button",{onClick:ue,className:"success-back-btn","aria-label":"Go back",title:"Process another file",children:e.jsx(Jt,{className:"h-6 w-6"})}),e.jsxs("div",{className:"success-main-actions",children:[e.jsxs("button",{onClick:Ct,className:"success-download-btn",title:`Download ${t}`,children:[e.jsx(dt,{className:"h-6 w-6"}),e.jsx("span",{children:"Download"})]}),e.jsxs("div",{className:"success-secondary-actions",children:[e.jsx("button",{onClick:St,className:"success-action-btn","aria-label":"Share file",title:"Share file",children:e.jsx(qt,{className:"h-6 w-6"})}),e.jsx("button",{onClick:Et,disabled:ie.dropbox!=="idle",className:"success-action-btn","aria-label":"Save to Dropbox",title:"Save to Dropbox",children:ie.dropbox==="saving"?e.jsxs("svg",{className:"animate-spin h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):ie.dropbox==="saved"?e.jsx(Qt,{className:"h-6 w-6"}):e.jsx(Ue,{className:"h-6 w-6"})}),e.jsx("button",{onClick:ue,className:"success-action-btn","aria-label":"Delete and start over",title:"Delete and start over",children:e.jsx(Kt,{className:"h-6 w-6"})})]})]})]}),e.jsxs("div",{className:"mt-12 text-center p-6 bg-green-50 dark:bg-green-900/20 rounded-lg max-w-5xl mx-auto border border-green-200 dark:border-green-700",children:[e.jsxs("h3",{className:"text-xl font-bold text-green-800 dark:text-green-300 flex items-center justify-center gap-2",children:[e.jsx(gt,{className:"h-6 w-6"}),e.jsx("span",{children:"Secure. Private. In your control."})]}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"For your security, your processed files are automatically and permanently deleted from our servers within 2 hours. We do not view, copy, or analyze your files."})]}),e.jsxs("div",{className:"mt-16 bg-white dark:bg-black p-8 rounded-lg shadow-lg max-w-5xl mx-auto border border-gray-200 dark:border-gray-800",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-6",children:"Continue to..."}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:st.slice(0,12).map(s=>e.jsxs(Zt,{to:`/${s.id}`,className:"flex items-center gap-4 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("div",{className:`p-2 rounded-md ${s.color}`,children:e.jsx(s.Icon,{className:"h-6 w-6 text-white"})}),e.jsx("div",{children:e.jsx("p",{className:"font-semibold text-left",children:k(s.title)})})]},s.id))})]}),e.jsxs("div",{className:"mt-12 text-center p-6 bg-gray-50 dark:bg-black/50 rounded-lg max-w-5xl mx-auto border border-gray-200 dark:border-gray-800",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:"How can you thank us? Spread the word!"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Please share the tool to inspire more productive people!"}),e.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-4",children:[e.jsxs("a",{href:"https://www.trustpilot.com/review/pdfbullet.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md font-semibold text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(Yt,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{children:"Trustpilot"})]}),e.jsxs("a",{href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fpdfbullet.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md font-semibold text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(ea,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Facebook"})]}),e.jsxs("a",{href:"https://twitter.com/intent/tweet?url=https%3A%2F%2Fpdfbullet.com&text=Check%20out%20PDFBullet,%20the%20best%20free%20online%20PDF%20toolkit!",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md font-semibold text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(ta,{className:"h-5 w-5"}),e.jsx("span",{children:"Twitter"})]}),e.jsxs("a",{href:"https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fpdfbullet.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md font-semibold text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(aa,{className:"h-5 w-5 text-blue-700"}),e.jsx("span",{children:"LinkedIn"})]})]})]}),e.jsxs("div",{className:"mt-12 text-center p-6 rounded-lg max-w-5xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:"The PDF software trusted by millions of users"}),e.jsx("p",{className:"mt-4 max-w-3xl mx-auto text-lg text-gray-600 dark:text-gray-400",children:"PDFBullet helps you convert, edit, e-sign, and protect PDF files quickly and easily. Enjoy a full suite of tools to effectively manage documents â€”no matter where you're working."}),e.jsxs("div",{className:"mt-12 flex flex-wrap justify-center items-center gap-x-20 md:gap-x-32",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(ra,{className:"h-16 w-16"}),e.jsx("span",{className:"font-semibold text-lg",children:"iOS"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(sa,{className:"h-16 w-16"}),e.jsx("span",{className:"font-semibold text-lg",children:"Android"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(oa,{className:"h-16 w-16"}),e.jsx("span",{className:"font-semibold text-lg",children:"MacOS"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(na,{className:"h-14 w-14"}),e.jsx("span",{className:"font-semibold text-lg",children:"Windows"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(ia,{className:"h-16 w-16"}),e.jsx("span",{className:"font-semibold text-lg",children:"Web"})]})]})]})]})}if(E==="ERROR")return e.jsxs("div",{className:"text-center p-12 bg-red-50 dark:bg-red-900/20 rounded-lg shadow-xl border border-red-200 dark:border-red-800",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:"An Error Occurred"}),e.jsx("p",{className:"mt-2 text-red-600 dark:text-red-400",children:te}),e.jsx("button",{onClick:ue,className:"mt-6 bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg",children:"Try Again"})]});if(E==="PROCESSING"){const t=x&&Ne&&x.percentage>0;return e.jsxs("div",{className:"flex flex-col items-center justify-center text-center w-full max-w-2xl mx-auto py-12",children:[e.jsx("div",{className:"mb-12",children:e.jsx(la,{className:"h-12 w-auto"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:Ft(n)}),a.length>0&&x?e.jsxs("div",{className:"mt-8 bg-white dark:bg-black p-6 rounded-lg shadow-lg border dark:border-gray-700 w-full",children:[e.jsx("p",{className:"font-semibold truncate",children:a.length===1?a[0].name:`${a.length} files`}),e.jsx("p",{className:"text-sm text-gray-500",children:Ee(_e)}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 my.4",children:e.jsx("div",{className:"bg-brand-red h-2.5 rounded-full transition-all duration-500",style:{width:`${x.percentage||0}%`}})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:x.status||"Starting..."}),t&&e.jsxs("div",{className:"mt-4 text-xs text-gray-500 flex justify-between",children:[e.jsxs("span",{children:[Ee(Nt),"/s"]}),e.jsx("span",{children:va(Dt)})]})]}):e.jsxs("div",{className:"mt-12",children:[e.jsx("div",{className:"w-24 h-24 border-[10px] border-gray-200 dark:border-gray-700 rounded-full animate-spin",style:{borderTopColor:"#B90B06"}}),x&&e.jsx("p",{className:"mt-8 text-gray-600 dark:text-gray-400",children:x.status})]})]})}return n.id==="remove-background"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("div",{className:`inline-flex items-center justify-center p-4 rounded-full ${n.color} mb-4`,children:e.jsx(n.Icon,{className:"h-12 w-12 text-white"})}),e.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 dark:text-gray-100",children:k(n.title)}),e.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:k(n.description)})]}),e.jsx(Ve.Provider,{value:{tool:n},children:e.jsx(Ca,{tool:n})})]}):n.id==="organize-pdf"&&a.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("div",{className:`inline-flex items-center justify-center p-4 rounded-full ${n.color} mb-4`,children:e.jsx(n.Icon,{className:"h-12 w-12 text-white"})}),e.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 dark:text-gray-100",children:k(n.title)}),e.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:k(n.description)})]}),e.jsx(Ve.Provider,{value:{tool:n},children:e.jsx(Na,{files:a,onProcessStart:()=>T("PROCESSING"),onProcessSuccess:t=>{ae(t),T("SUCCESS")},onProcessError:t=>{Q(t),T("ERROR")},onReset:ue,onAddMoreFiles:Rt})})]}):n.id==="document-scanner"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("div",{className:`inline-flex items-center justify-center p-4 rounded-full ${n.color} mb-4`,children:e.jsx(n.Icon,{className:"h-12 w-12 text-white"})}),e.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 dark:text-gray-100",children:k(n.title)}),e.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:k(n.description)})]}),e.jsx(ya,{tool:n,onProcessStart:Tt,onProcessSuccess:Bt,onProcessError:$t})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("div",{className:`inline-flex items-center justify-center p-4 rounded-full ${n.color} mb-4`,children:e.jsx(n.Icon,{className:"h-12 w-12 text-white"})}),e.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 dark:text-gray-100",children:k(n.title)}),e.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:k(n.description)})]}),E==="IDLE"&&le.length===0&&e.jsx(ha,{tool:n,files:a,setFiles:L,accept:n.accept,children:n.id==="pdf-to-word"?e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-100",children:"Conversion Options"}),e.jsxs("div",{onClick:()=>Ke("editable"),className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${Le==="editable"?"border-brand-red bg-red-50 dark:bg-red-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-400"}`,children:[e.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Editable Text (Basic Layout)"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Extracts text for editing. Best for text changes, but complex layouts and colors may be altered."}),e.jsxs("div",{className:"mt-3 pl-4 border-l-2 border-gray-300 dark:border-gray-600",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Ze,onChange:t=>Pt(t.target.checked),className:"h-4 w-4 rounded text-brand-red focus:ring-brand-red"}),e.jsx("span",{className:"text-sm",children:"Use OCR"}),e.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-semibold px-2 py-0.5 rounded-full border border-yellow-400 dark:bg-yellow-900/50 dark:text-yellow-300 dark:border-yellow-600",children:"Premium"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-6",children:"For scanned documents with non-selectable text."})]})]}),e.jsxs("div",{onClick:()=>Ke("exact"),className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${Le==="exact"?"border-brand-red bg-red-50 dark:bg-red-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-400"}`,children:[e.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Exact Copy (Pages as Images)"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Preserves 100% of original formatting, colors, and images. Text within images will not be editable."})]}),a.length>0&&e.jsxs("button",{onClick:Me,disabled:tt,className:`w-full flex items-center justify-center gap-2 text-white font-bold py-4 px-6 rounded-lg text-lg transition-colors ${n.color} ${n.hoverColor} disabled:bg-gray-400`,children:["Convert to WORD ",e.jsx(Se,{className:"h-6 w-6"})]})]}):e.jsxs("div",{className:"space-y-6",children:[n.id==="compress-pdf"&&e.jsx(ka,{level:v.compressionLevel,setLevel:t=>P(s=>({...s,compressionLevel:t}))}),n.id==="rotate-pdf"&&e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx("button",{onClick:()=>P(t=>({...t,rotation:90})),className:`px-4 py-2 font-semibold rounded-md ${v.rotation===90?"bg-brand-red text-white":"bg-gray-200"}`,children:"90Â°"}),e.jsx("button",{onClick:()=>P(t=>({...t,rotation:180})),className:`px-4 py-2 font-semibold rounded-md ${v.rotation===180?"bg-brand-red text-white":"bg-gray-200"}`,children:"180Â°"}),e.jsx("button",{onClick:()=>P(t=>({...t,rotation:270})),className:`px-4 py-2 font-semibold rounded-md ${v.rotation===270?"bg-brand-red text-white":"bg-gray-200"}`,children:"270Â°"})]}),a.length>0&&e.jsxs("button",{onClick:Me,disabled:tt,className:`w-full flex items-center justify-center gap-2 text-white font-bold py-4 px-6 rounded-lg text-lg transition-colors ${n.color} ${n.hoverColor} disabled:bg-gray-400 dark:disabled:bg-gray-600`,children:[k(n.title)," ",e.jsx(Se,{className:"h-6 w-6"})]})]})}),le.length>0&&n.id==="sign-pdf"&&E==="IDLE"&&e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"flex-grow bg-gray-200 dark:bg-gray-900/50 p-4 rounded-lg",children:e.jsx("div",{ref:Re,className:"relative w-full border border-gray-300 dark:border-gray-700 rounded-lg overflow-auto max-h-[80vh] bg-white dark:bg-black",children:le.map((t,s)=>e.jsx("div",{id:`pdf-page-${s}`,className:"relative border-b dark:border-gray-700 last:border-b-0",children:e.jsx("img",{src:t,alt:`Page ${s+1}`,className:"w-full h-auto"})},s))})}),e.jsx("div",{className:"w-full md:w-80 flex-shrink-0",children:e.jsxs("div",{className:"sticky top-24 bg-white dark:bg-surface-dark p-6 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Signing options"}),e.jsxs("div",{className:"flex border border-gray-300 dark:border-gray-600 rounded-md mb-6",children:[e.jsx("button",{className:"flex-1 p-3 text-center border-r border-gray-300 dark:border-gray-600 bg-red-50 dark:bg-red-900/30 text-brand-red font-semibold rounded-l-md",children:"Simple Signature"}),e.jsx("button",{className:"flex-1 p-3 text-center text-gray-500 dark:text-gray-400 cursor-not-allowed rounded-r-md",title:"Coming soon!",children:"Digital Signature"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-600 dark:text-gray-400 mb-2 text-sm",children:"Required fields"}),f?.signature?e.jsxs("div",{onClick:()=>at("signature"),className:"p-2 border rounded-md flex items-center gap-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-200 dark:bg-gray-700 rounded text-center font-bold",children:"..."}),e.jsx("img",{src:f.signature,alt:"Signature preview",className:"h-10 flex-grow object-contain"}),e.jsx("button",{onClick:t=>{t.stopPropagation(),he(!0)},className:"p-1 text-gray-400 hover:text-brand-red",children:e.jsx(ot,{className:"h-5 w-5"})})]}):e.jsx("button",{onClick:()=>he(!0),className:"w-full p-4 border-2 border-dashed rounded text-center text-gray-500 hover:border-brand-red",children:"Create Signature"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-semibold text-gray-600 dark:text-gray-400 mb-2 text-sm",children:"Optional fields"}),f?.initials?e.jsxs("div",{onClick:()=>at("initials"),className:"p-2 border rounded-md flex items-center gap-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-200 dark:bg-gray-700 rounded text-center font-bold",children:"AC"}),e.jsx("img",{src:f.initials,alt:"Initials preview",className:"h-10 flex-grow object-contain"}),e.jsx("button",{onClick:t=>{t.stopPropagation(),he(!0)},className:"p-1 text-gray-400 hover:text-brand-red",children:e.jsx(ot,{className:"h-5 w-5"})})]}):e.jsx("p",{className:"text-xs text-gray-500 p-2",children:"Create a signature to generate initials."})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("button",{onClick:Me,disabled:At,className:`w-full flex items-center justify-center gap-2 text-white font-bold py-3 px-6 rounded-lg text-lg transition-colors ${n.color} ${n.hoverColor} disabled:bg-gray-400 dark:disabled:bg-gray-600`,children:["Sign ",e.jsx(Se,{className:"h-5 w-5"})]})})]})})]}),E==="IDLE"&&le.length===0&&a.length>0&&n.id!=="pdf-to-word"&&n.id!=="organize-pdf"&&n.id!=="repair-pdf"&&e.jsx("div",{className:"mt-12 text-center",children:e.jsx("button",{onClick:ue,className:"text-gray-600 dark:text-gray-400 hover:text-brand-red dark:hover:text-brand-red font-medium transition-colors",children:"â† Process another file"})})]})};return e.jsxs("div",{className:"py-16 md:py-20",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n&&zt()}),e.jsx(xa,{isOpen:jt,onClose:ue,onOnlyMe:Lt,onSeveralPeople:()=>alert("Inviting others to sign is a premium feature coming soon!")}),e.jsx(ma,{isOpen:kt,onClose:()=>{he(!1),f?.signature||ue()},onSave:Ot})]})};export{Ya as default};
