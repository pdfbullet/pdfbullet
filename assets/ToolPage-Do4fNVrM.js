const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jspdf.es.min-BABCkZWs.js","assets/main-DVb4ZCxP.js","assets/react-Ckhrjn13.js","assets/main-CHIx_Y27.css","assets/jszip.min-CG955O0i.js","assets/jszip.min-Dd208ANX.js","assets/_commonjs-dynamic-modules-TDtrdbi3.js","assets/index-Dfj1X2-d.js","assets/index-sypE4nM0.js","assets/index-CDEvsS2u.js","assets/index-DRz5BQNA.js","assets/index-k8hGQYAT.js","assets/index-Z1VvO2s3.js"])))=>i.map(i=>d[i]);
import{r as s,m as je,j as e,n as Ue,o as Ve,p as We,P as ct,q as Ut,s as Vt,a as Gt,d as Wt,u as Ht,c as He,t as Jt,T as st,_ as N,v as qt,D as dt,w as Xt,x as Qt,y as Kt,f as gt,L as Zt,S as Yt,F as ea,X as ta,z as aa,I as ra,A as sa,M as oa,l as na,G as ia,B as la,k as pt,R as Se,E as ot,U as ut,J as mt,K as ca,N as da,Q as ga,V as pa}from"./main-DVb4ZCxP.js";import{u as ua,S as ma}from"./useSignature-y3lsP09f.js";import{u as fa}from"./useSignedDocuments-DnW_qXF9.js";import{u as ft}from"./useLastTasks-CE2mMLGI.js";import"./react-Ckhrjn13.js";import"./html2canvas.esm-B0tyYwQk.js";const nt="AIzaSyD3MDVQ3bkz0n3Hu3ju-sGCIMCybUQGbVU",it="415789226795-0mu2ru52dcc5b649njfarn059lkjkcnk.apps.googleusercontent.com",ha=({tool:f,files:v,setFiles:k,accept:m,children:D})=>{const[x,E]=s.useState(!1),[w,X]=s.useState(!1),[V,j]=s.useState(null);s.useEffect(()=>{gapi&&gapi.load("client:picker",()=>{E(!0)})},[]);const G=s.useCallback(F=>{k([...v,...F].filter((b,$,y)=>$===y.findIndex(p=>p.name===b.name&&p.size===b.size)))},[v,k]),{getRootProps:a,getInputProps:ce,isDragActive:R,open:I}=je({onDrop:G,accept:m||{"application/pdf":[".pdf"]},noClick:!0}),ie=F=>{k(v.filter(b=>b.name!==F))},W=je({onDrop:G,accept:m||{"application/pdf":[".pdf"]}}),Q=async(F,b)=>{try{const $=await fetch(F);if(!$.ok)throw new Error(`Failed to fetch file: ${$.statusText}`);const y=await $.blob(),p=new File([y],b,{type:y.type});G([p])}catch($){console.error("Error fetching cloud file:",$)}},Z=F=>{if(F.stopPropagation(),!x||!nt||!it){alert("Google Drive Picker is not configured. Please provide API Key and Client ID.");return}gapi.load("picker",{callback:()=>X(!0)}),gapi.auth.authorize({client_id:it,scope:["https://www.googleapis.com/auth/drive.readonly"],immediate:!1},b=>{b&&!b.error&&(j(b),se(b.access_token))})},se=F=>{const b=new google.picker.View(google.picker.ViewId.DOCS);new google.picker.PickerBuilder().setApiKey(nt).setOAuthToken(F).addView(b).setCallback(oe).build().setVisible(!0)},oe=F=>{if(F[google.picker.Response.ACTION]===google.picker.Action.PICKED){const b=F[google.picker.Response.DOCUMENTS][0],$=`https://www.googleapis.com/drive/v3/files/${b.id}?alt=media`;fetch($,{headers:{Authorization:`Bearer ${V.access_token}`}}).then(y=>y.blob()).then(y=>{const p=new File([y],b.name,{type:b.mimeType});G([p])})}},i=F=>{F.stopPropagation(),Dropbox.choose({success:b=>{b.forEach($=>Q($.link,$.name))},linkType:"direct",multiselect:!0})};return e.jsx("div",{className:"w-full",children:v.length===0?e.jsxs("div",{...a(),className:`relative flex flex-col items-center justify-center p-12 rounded-lg cursor-pointer transition-colors duration-300 ${R?"bg-red-50 dark:bg-red-900/20 ring-2 ring-brand-red ring-dashed":"bg-transparent"}`,children:[e.jsx("input",{...ce()}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{type:"button",onClick:I,className:`${f.color} ${f.hoverColor} text-white font-bold py-4 px-10 rounded-lg text-xl transition-colors shadow-lg flex-grow-0`,children:["Select ",f.fileTypeDisplayName||"files"]}),e.jsx("button",{onClick:Z,"aria-label":"Select from Google Drive",title:"Select from Google Drive",className:`p-4 rounded-lg shadow-lg transition-colors ${f.color} ${f.hoverColor} text-white`,children:e.jsx(Ue,{className:"h-6 w-6"})}),e.jsx("button",{onClick:i,"aria-label":"Select from Dropbox",title:"Select from Dropbox",className:`p-4 rounded-lg shadow-lg transition-colors ${f.color} ${f.hoverColor} text-white`,children:e.jsx(Ve,{className:"h-6 w-6"})})]}),e.jsxs("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:["or drop ",f.fileTypeDisplayName||""," ",f.fileTypeNounPlural||"here"]})]}):e.jsxs("div",{className:"w-full grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[e.jsx("div",{className:"lg:col-span-8 xl:col-span-9 grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6",children:v.map(F=>e.jsxs("div",{className:"relative group bg-white dark:bg-surface-dark border border-gray-200 dark:border-gray-800 rounded-2xl p-4 flex flex-col items-center justify-center text-center shadow-md",children:[e.jsx("div",{className:"w-full bg-white dark:bg-gray-900/50 rounded-lg p-4 flex-grow flex items-center justify-center aspect-[4/3]",children:e.jsx(f.Icon,{className:`w-16 h-16 ${f.textColor}`})}),e.jsx("p",{className:"w-full text-sm font-semibold text-gray-700 dark:text-gray-300 truncate mt-3",title:F.name,children:F.name}),e.jsx("button",{onClick:()=>ie(F.name),className:"absolute top-2 right-2 p-1.5 bg-gray-800/60 hover:bg-red-600/80 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity","aria-label":`Remove ${F.name}`,children:e.jsx(We,{className:"h-4 w-4"})})]},`${F.name}-${F.lastModified}`))}),e.jsxs("div",{className:"lg:col-span-4 xl:col-span-3 lg:sticky lg:top-24",children:[e.jsxs("div",{className:"flex justify-end relative mb-8",children:[e.jsxs("div",{className:"absolute right-[80px] top-1/2 -translate-y-1/2 bg-gray-800 text-white text-sm font-semibold px-3 py-1 rounded-md shadow-lg whitespace-nowrap",children:["Add more files",e.jsx("div",{className:"absolute right-[-5px] top-1/2 -translate-y-1/2 w-3 h-3 bg-gray-800 transform rotate-45"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{...W.getRootProps(),onClick:W.open,title:"Add more files",className:"w-16 h-16 bg-brand-red rounded-full flex items-center justify-center text-white shadow-lg hover:bg-brand-red-dark transition-colors",children:[e.jsx("input",{...W.getInputProps()}),e.jsx(ct,{className:"h-8 w-8"})]}),e.jsx("span",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gray-900 text-white text-xs font-bold rounded-full flex items-center justify-center border-2 border-white dark:border-surface-dark",children:v.length})]}),e.jsx("button",{onClick:W.open,title:"Add from computer",className:"w-12 h-12 bg-brand-red rounded-full flex items-center justify-center text-white shadow-lg hover:bg-brand-red-dark transition-colors",children:e.jsx(Ut,{className:"h-6 w-6"})}),e.jsx("button",{onClick:Z,title:"Add from Google Drive",className:"w-12 h-12 bg-brand-red rounded-full flex items-center justify-center text-white shadow-lg hover:bg-brand-red-dark transition-colors",children:e.jsx(Ue,{className:"h-6 w-6"})}),e.jsx("button",{onClick:i,title:"Add from Dropbox",className:"w-12 h-12 bg-brand-red rounded-full flex items-center justify-center text-white shadow-lg hover:bg-brand-red-dark transition-colors",children:e.jsx(Ve,{className:"h-6 w-6"})})]})]}),D]})]})})},xa=({isOpen:f,onClose:v,onOnlyMe:k,onSeveralPeople:m})=>{if(!f)return null;const D=({title:x,description:E,imgSrc:w,onClick:X})=>e.jsxs("button",{onClick:X,className:"flex flex-col items-center p-6 border-2 border-gray-200 dark:border-gray-700 rounded-lg hover:border-brand-red hover:bg-red-50 dark:hover:bg-red-900/20 transition-all w-full sm:w-64 text-center",children:[e.jsx("img",{src:w,alt:x,className:"h-24 w-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:x}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:E})]});return e.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:v,role:"dialog","aria-modal":"true","aria-labelledby":"who-will-sign-title",children:e.jsxs("div",{className:"bg-white dark:bg-black w-full max-w-2xl rounded-lg shadow-xl p-8",onClick:x=>x.stopPropagation(),children:[e.jsx("h2",{id:"who-will-sign-title",className:"text-2xl font-extrabold text-center text-gray-800 dark:text-gray-100 mb-8",children:"Who will sign this document?"}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-8",children:[e.jsx(D,{title:"Only me",description:"Sign this document",imgSrc:"https://www.ilovepdf.com/img/sign/single.svg",onClick:k}),e.jsx(D,{title:"Several people",description:"Invite others to sign",imgSrc:"https://www.ilovepdf.com/img/sign/multiple.svg",onClick:m})]})]})})},ba=(f,v)=>new Promise(k=>{if(v==="original")return k(f);const m=new Image;m.crossOrigin="Anonymous",m.onload=()=>{const D=document.createElement("canvas");D.width=m.width,D.height=m.height;const x=D.getContext("2d");if(!x)return k(f);x.drawImage(m,0,0);const E=x.getImageData(0,0,D.width,D.height),w=E.data;switch(v){case"lighten":for(let j=0;j<w.length;j+=4)w[j]=Math.min(255,w[j]+20),w[j+1]=Math.min(255,w[j+1]+20),w[j+2]=Math.min(255,w[j+2]+20);break;case"magic_color":const X=30,V=259*(X+255)/(255*(259-X));for(let j=0;j<w.length;j+=4)w[j]=Math.min(255,V*(w[j]-128)+128),w[j+1]=Math.min(255,V*(w[j+1]-128)+128),w[j+2]=Math.min(255,V*(w[j+2]-128)+128);break;case"bw":for(let j=0;j<w.length;j+=4){const a=w[j]*.299+w[j+1]*.587+w[j+2]*.114>128?255:0;w[j]=w[j+1]=w[j+2]=a}break;case"bw2":for(let j=0;j<w.length;j+=4){const G=w[j]*.299+w[j+1]*.587+w[j+2]*.114;w[j]=w[j+1]=w[j+2]=G}break}x.putImageData(E,0,0),k(D.toDataURL("image/jpeg",.9))},m.src=f}),wa=({onFilterChange:f,activeFilter:v})=>{const k=[{name:"Original",id:"original"},{name:"Lighten",id:"lighten"},{name:"Magic",id:"magic_color"},{name:"B&W",id:"bw"},{name:"Grayscale",id:"bw2"}];return e.jsx("div",{className:"flex justify-center space-x-1 sm:space-x-2 overflow-x-auto p-1 no-scrollbar bg-black/30 rounded-b-md",children:k.map(m=>e.jsx("button",{onClick:D=>{D.stopPropagation(),f(m.id)},className:`px-2 py-1 rounded-md font-semibold text-xs whitespace-nowrap transition-all text-white ${v===m.id?"bg-brand-red/80":"bg-black/40 hover:bg-black/60"}`,children:m.name},m.id))})},ya=({tool:f,onProcessStart:v,onProcessSuccess:k,onProcessError:m})=>{const D=s.useRef(null);s.useRef(null);const[x,E]=s.useState(null),[w,X]=s.useState([]),[V,j]=s.useState("initializing"),[G,a]=s.useState("environment"),[ce,R]=s.useState(!1),[I,ie]=s.useState(null),[W,Q]=s.useState(null),[Z,se]=s.useState(!1);s.useEffect(()=>{Q(new ga({apiKey:"AIzaSyCuhbxmzoOTGS6UtX7OZjLwBiMfQNrOzJA"}))},[]);const oe=s.useCallback(async()=>{x&&x.getTracks().forEach(P=>P.stop()),j("initializing");try{const P=await navigator.mediaDevices.getUserMedia({video:{facingMode:G}});E(P),D.current&&(D.current.srcObject=P),j("active")}catch(P){P instanceof DOMException?P.name==="NotAllowedError"?j("denied"):P.name==="NotFoundError"?j("not-found"):j("error"):j("error"),console.error(P)}},[x,G]),i=s.useCallback(()=>{x&&(x.getTracks().forEach(P=>P.stop()),E(null))},[x]);s.useEffect(()=>(Z?i():oe(),()=>i()),[oe,i,Z]);const F=()=>{a(P=>P==="environment"?"user":"environment")},b=()=>{if(!D.current||D.current.paused||D.current.ended)return;const P=document.createElement("canvas");P.width=D.current.videoWidth,P.height=D.current.videoHeight;const B=P.getContext("2d");if(!B)return;B.drawImage(D.current,0,0,P.width,P.height);const L=P.toDataURL("image/jpeg",.95);$(L)},$=async P=>{const B=Date.now();ie(B);let L=P;W&&(L=await O(P));const Y={id:B,original:L,filtered:L,filter:"original"};X(H=>[...H,Y]),ie(null)},y=s.useCallback(P=>{if(P.length>0){const B=P[0],L=new FileReader;L.onload=Y=>$(Y.target?.result),L.readAsDataURL(B)}},[]),{getRootProps:p,getInputProps:S,isDragActive:A}=je({onDrop:y,accept:{"image/*":[".jpeg",".jpg",".png",".webp"]}}),O=async P=>P,K=async(P,B)=>{const L=w.find(H=>H.id===P);if(!L)return;const Y=await ba(L.original,B);X(H=>H.map(ae=>ae.id===P?{...ae,filtered:Y,filter:B}:ae))},T=P=>{X(B=>B.filter(L=>L.id!==P))},J=async P=>{if(w.length===0){m("Please scan or upload at least one page.");return}v(),R(!0);try{if(P==="pdf"){const{jsPDF:B}=await N(async()=>{const{jsPDF:H}=await import("./jspdf.es.min-BABCkZWs.js").then(ae=>ae.j);return{jsPDF:H}},__vite__mapDeps([0,1,2,3])),L=new B("p","mm","a4");for(let H=0;H<w.length;H++){const ae=w[H];H>0&&L.addPage();const ne=new Image;await new Promise(qe=>{ne.onload=()=>qe(),ne.src=ae.filtered});const pe=L.internal.pageSize.getWidth(),ye=L.internal.pageSize.getHeight(),ve=ne.width/ne.height,ke=pe/ye;let he,Pe;ve>ke?(he=pe,Pe=pe/ve):(Pe=ye,he=ye*ve);const Ie=(pe-he)/2,Je=(ye-Pe)/2;L.addImage(ne,"JPEG",Ie,Je,he,Pe)}const Y=L.output("blob");k(Y,"document_scan.pdf")}else{const B=(await N(async()=>{const{default:L}=await import("./jszip.min-CG955O0i.js").then(Y=>Y.j);return{default:L}},__vite__mapDeps([4,2,5,6]))).default;if(w.length===1){const Y=await(await fetch(w[0].filtered)).blob();k(Y,"scan.jpg")}else{const L=new B;for(let H=0;H<w.length;H++){const ae=w[H],pe=await(await fetch(ae.filtered)).blob();L.file(`scan_${H+1}.jpg`,pe)}const Y=await L.generateAsync({type:"blob"});k(Y,"scanned_images.zip")}}}catch(B){console.error(B),m(`Failed to generate ${P.toUpperCase()}. Please try again.`)}finally{R(!1)}},de=()=>e.jsxs("div",{className:"relative w-full aspect-[9/16] sm:aspect-video rounded-lg shadow-lg bg-black overflow-hidden",children:[e.jsx("video",{ref:D,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),V!=="active"&&e.jsxs("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center text-white text-center p-4",children:[V==="initializing"&&e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"}),V==="denied"&&e.jsxs(e.Fragment,{children:[e.jsx(gt,{className:"w-12 h-12 mb-4"}),e.jsx("h3",{className:"font-bold",children:"Camera access denied"}),e.jsx("p",{className:"text-sm",children:"Please allow camera access in your browser settings to continue."}),e.jsx("button",{onClick:oe,className:"mt-4 px-4 py-2 bg-white/20 rounded-md font-semibold hover:bg-white/30",children:"Retry"})]}),V==="not-found"&&e.jsx("p",{children:"No camera found. Please connect a camera and try again."}),V==="error"&&e.jsx("p",{children:"Could not start camera. Please try again."})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/70 to-transparent",children:e.jsxs("div",{className:"flex items-center justify-around",children:[e.jsx("button",{onClick:()=>se(!0),className:"p-3 bg-black/40 text-white rounded-full hover:bg-black/60 transition-colors","aria-label":"Upload image",children:e.jsx(pa,{className:"h-6 w-6"})}),e.jsx("button",{onClick:b,disabled:V!=="active",className:"bg-white p-2 rounded-full shadow-2xl border-4 border-gray-300 hover:bg-gray-200 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-4 focus:ring-offset-black focus:ring-brand-red disabled:opacity-50","aria-label":"Capture page",children:e.jsx("div",{className:"w-12 h-12 bg-brand-red rounded-full ring-2 ring-white ring-inset"})}),e.jsx("button",{onClick:F,className:"p-3 bg-black/40 text-white rounded-full hover:bg-black/60 transition-colors","aria-label":"Switch camera",children:e.jsx(mt,{className:"h-6 w-6"})})]})})]}),ue=()=>e.jsxs("div",{...p(),className:`relative flex flex-col items-center justify-center p-12 aspect-[9/16] sm:aspect-video rounded-lg cursor-pointer transition-all duration-300 border-2 border-dashed ${A?"border-brand-red bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-black hover:border-brand-red"}`,children:[e.jsx("input",{...S()}),e.jsx(ut,{className:"h-16 w-16 text-gray-400 mb-4"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Upload an Image"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"or drop it here"}),e.jsx("button",{onClick:P=>{P.stopPropagation(),se(!1)},className:"mt-6 text-sm text-brand-red hover:underline font-semibold",children:"Use Camera Instead"})]});return e.jsxs("div",{className:"w-full max-w-5xl mx-auto space-y-6",children:[Z?e.jsx(ue,{}):e.jsx(de,{}),w.length>0&&e.jsxs("div",{className:"bg-white dark:bg-black p-4 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800",children:[e.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Scanned Pages (",w.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:w.map(P=>e.jsxs("div",{className:"relative group rounded-md overflow-hidden border-2 border-transparent focus-within:border-brand-red",children:[e.jsx("img",{src:P.filtered,alt:"Scanned page",className:"w-full aspect-[3/4] object-cover"}),I===P.id&&e.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center text-white",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}),e.jsx("p",{className:"text-xs mt-2 font-semibold",children:"Processing..."})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end",children:e.jsx(wa,{onFilterChange:B=>K(P.id,B),activeFilter:P.filter})}),e.jsx("button",{onClick:()=>T(P.id),className:"absolute top-1 right-1 p-1 bg-black/50 rounded-full text-white hover:bg-red-600 transition-colors","aria-label":"Remove page",children:e.jsx(We,{className:"h-4 w-4"})})]},P.id))}),e.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-center gap-4",children:[e.jsx("button",{onClick:()=>J("pdf"),disabled:ce||I!==null,className:"bg-brand-red hover:bg-brand-red-dark text-white font-bold py-3 px-8 rounded-lg text-lg disabled:bg-red-300",children:ce?"Processing...":"Create PDF"}),e.jsx("button",{onClick:()=>J("jpg"),disabled:ce||I!==null,className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-8 rounded-lg text-lg disabled:bg-gray-400",children:ce?"Processing...":"Save as JPG"})]})]})]})},Ee=(f,v=2)=>{if(!f||f===0)return"0 Bytes";const k=1024,m=v<0?0:v,D=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],x=Math.floor(Math.log(f)/Math.log(k));return parseFloat((f/Math.pow(k,x)).toFixed(m))+" "+D[x]},va=f=>{if(f===null)return"--:-- remaining";if(f<60)return`${Math.round(f)}s remaining`;const v=Math.floor(f/60),k=Math.round(f%60);return`${v}m ${k}s remaining`},ja=({result:f})=>{const v=f.originalSize>0?(f.originalSize-f.newSize)/f.originalSize*100:0;return e.jsxs("div",{className:"my-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700 max-w-md mx-auto",children:[e.jsx("h3",{className:"font-bold text-lg text-blue-800 dark:text-blue-200",children:"Compression Complete!"}),e.jsxs("div",{className:"flex justify-between items-center mt-2 text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Original Size:"}),e.jsx("span",{className:"font-semibold",children:Ee(f.originalSize)})]}),e.jsxs("div",{className:"flex justify-between items-center mt-1 text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"New Size:"}),e.jsx("span",{className:"font-semibold",children:Ee(f.newSize)})]}),e.jsxs("div",{className:"mt-2 pt-2 border-t border-blue-200 dark:border-blue-600 flex justify-between items-center text-lg",children:[e.jsx("span",{className:"font-bold text-green-600 dark:text-green-400",children:"Reduction:"}),e.jsxs("span",{className:"font-extrabold text-green-600 dark:text-green-400",children:[v.toFixed(1),"%"]})]})]})},ka=({level:f,setLevel:v})=>{const k=[{id:"less",name:"Less Compression",description:"Higher quality, larger file size."},{id:"recommended",name:"Recommended Compression",description:"Good quality, good compression."},{id:"extreme",name:"Extreme Compression",description:"Lower quality, smallest file size."}];return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-100",children:"Compression Level"}),e.jsx("div",{className:"space-y-3",children:k.map(m=>e.jsxs("div",{onClick:()=>v(m.id),className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${f===m.id?"border-brand-red bg-red-50 dark:bg-red-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-400"}`,children:[e.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:m.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:m.description})]},m.id))})]})},we=(f,v,k)=>{const m=v.length>0?v[0].name.replace(/\.[^/.]+$/,""):"file",D=v.length>0?v[0]:null;switch(f){case"merge-pdf":return"merged.pdf";case"split-pdf":return"split_files.zip";case"compress-pdf":return`${m}_compressed.pdf`;case"rotate-pdf":return`${m}_rotated.pdf`;case"protect-pdf":return`${m}_protected.pdf`;case"unlock-pdf":return`${m}_unlocked.pdf`;case"watermark-pdf":return`${m}_watermarked.pdf`;case"page-numbers":return`${m}_numbered.pdf`;case"jpg-to-pdf":return`${m}.pdf`;case"document-scanner":return"scanned_document.pdf";case"pdf-to-word":return`${m}.docx`;case"pdf-to-jpg":return`${m}_images.zip`;case"ocr-pdf":return`${m}_ocr.pdf`;case"word-to-pdf":return`${m}.pdf`;case"pdf-to-excel":return`${m}.xlsx`;case"excel-to-pdf":return`${m}.pdf`;case"pdf-to-powerpoint":return`${m}.pptx`;case"powerpoint-to-pdf":return`${m}.pptx`;case"crop-pdf":return`${m}_cropped.pdf`;case"redact-pdf":return`${m}_redacted.pdf`;case"repair-pdf":return v.length>1?"repaired_files.zip":`${m}_repaired.pdf`;case"pdf-to-pdfa":return`${m}_pdfa.pdf`;case"edit-pdf":return`${m}_edited.pdf`;case"sign-pdf":return`${m}_signed.pdf`;case"organize-pdf":return"organized.pdf";case"remove-background":return`${m}_no_bg.png`;case"psd-to-pdf":return`${m}.pdf`;case"pdf-to-png":return`${m}_images.zip`;case"extract-text":return`${m}.txt`;case"zip-maker":return"archive.zip";case"resize-file":return D?`${m}_resized.${D.name.split(".").pop()}`:"resized_file";case"resize-image":return v.length>1?"resized_images.zip":D?`${m}_resized.${k.resizeFormat||"jpg"}`:"resized_image";case"crop-image":return D?`${m}_cropped.${D.name.split(".").pop()}`:"cropped_image";case"convert-to-jpg":return v.length>1?"converted_to_jpg.zip":`${m}.jpg`;case"convert-from-jpg":return v.length>1?"converted_images.zip":`${m}.${k.convertToFormat||"png"}`;case"compress-image":return v.length>1?"compressed_images.zip":`${m}_compressed.jpg`;case"watermark-image":return v.length>1?"watermarked_images.zip":`${m}_watermarked.png`;default:return"processed-file.pdf"}},lt={compressionLevel:"recommended",splitMode:"all",splitRanges:"",splitFixedSize:1,watermarkType:"text",watermarkText:"CONFIDENTIAL",watermarkImage:null,watermarkFont:"Helvetica",watermarkSize:50,watermarkColor:"#e53935",watermarkOpacity:.5,watermarkPosition:"center",watermarkTiled:!0,watermarkRotation:-45,pageNumberPosition:"bottom-center",pageNumberFormat:"n",pageNumberStart:1,pageNumberPages:"",pageNumberSize:12,pageNumberColor:"#000000",pageOrientation:"auto",pageSize:"fit",pageMargin:"none",imageQuality:1.5,ocrLanguage:"eng",password:"",allowPrinting:!0,allowCopying:!0,allowModifying:!0,top:0,bottom:0,left:0,right:0,resizeMode:"percentage",resizePercentage:50,resizePdfCompression:"recommended",resizeUnit:"percent",resizeWidth:70,resizeHeight:70,maintainAspectRatio:!0,resizeResolution:72,resizeFormat:"jpg",resizeQuality:90,resizeBackground:"#FFFFFF",cropX:0,cropY:0,cropWidth:500,cropHeight:500,convertToFormat:"png",compressionQuality:.75,rotation:90},Ge=pt.createContext({tool:null}),Pa=()=>pt.useContext(Ge),Na=({files:f,onProcessStart:v,onProcessSuccess:k,onProcessError:m,onReset:D,onAddMoreFiles:x})=>{const[E,w]=s.useState([]),[X,V]=s.useState(!0),[j,G]=s.useState("Extracting pages..."),[a,ce]=s.useState("asc"),R=s.useRef(null),I=s.useRef(null),{t:ie}=He(),{tool:W}=Pa(),Q=s.useCallback(async()=>{const y=await N(()=>import("./main-DVb4ZCxP.js").then(T=>T.aP),__vite__mapDeps([1,2,3]));V(!0),G("Extracting pages...");const p=[];let S=0;const A=f.map(T=>T.arrayBuffer().then(J=>y.getDocument({data:J}).promise)),O=await Promise.all(A);O.forEach(T=>S+=T.numPages);let K=0;for(let T=0;T<f.length;T++){const J=f[T],de=O[T];for(let ue=1;ue<=de.numPages;ue++){K++,G(`Extracting page ${K} of ${S}...`);const P=await de.getPage(ue),B=P.getViewport({scale:.4}),L=document.createElement("canvas");L.width=B.width,L.height=B.height,await P.render({canvasContext:L.getContext("2d"),viewport:B});const Y=L.toDataURL("image/png");p.push({id:Date.now()+p.length,originalIndex:ue-1,imageDataUrl:Y,rotation:0,sourceFileIndex:T,fileName:J.name})}}w(p),V(!1)},[f]);s.useEffect(()=>{Q()},[Q]);const Z=y=>{w(E.map(p=>p.id===y?{...p,rotation:(p.rotation+90)%360}:p))},se=y=>{w(E.filter(p=>p.id!==y))},oe=y=>{const p={id:Date.now(),originalIndex:-1,imageDataUrl:"",rotation:0,sourceFileIndex:-1,isBlank:!0,fileName:"Blank Page"},S=[...E];S.splice(y,0,p),w(S)},i=()=>{const y=[...E].sort((p,S)=>{if(p.isBlank||S.isBlank)return 0;const A=p.fileName.toLowerCase(),O=S.fileName.toLowerCase();return A<O?a==="asc"?-1:1:A>O?a==="asc"?1:-1:a==="asc"?p.originalIndex-S.originalIndex:S.originalIndex-p.originalIndex});w(y),ce(p=>p==="asc"?"desc":"asc")},F=(y,p)=>{R.current=p,y.dataTransfer.effectAllowed="move"},b=(y,p)=>{I.current=p;const S=[...E],A=S[R.current];S.splice(R.current,1),S.splice(I.current,0,A),R.current=I.current,I.current=null,w(S)},$=async()=>{v();try{const{PDFDocument:y,degrees:p,PageSizes:S}=await N(async()=>{const{PDFDocument:T,degrees:J,PageSizes:de}=await import("./index-Dfj1X2-d.js");return{PDFDocument:T,degrees:J,PageSizes:de}},__vite__mapDeps([7,2])),A=await Promise.all(f.map(T=>T.arrayBuffer().then(J=>y.load(J,{ignoreEncryption:!0})))),O=await y.create();for(const T of E){if(T.isBlank){O.addPage(S.A4);continue}const J=A[T.sourceFileIndex],[de]=await O.copyPages(J,[T.originalIndex]);de.setRotation(p(T.rotation)),O.addPage(de)}const K=await O.save();k(new Blob([K],{type:"application/pdf"}))}catch(y){m(y.message||"An error occurred during organization.")}};return X?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-red mx-auto"}),e.jsx("p",{className:"mt-4",children:j})]}):e.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 items-start",children:[e.jsx("main",{className:"lg:col-span-9",children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[E.map((y,p)=>e.jsxs("div",{className:"relative group text-center",draggable:!0,onDragStart:S=>F(S,p),onDragEnter:S=>b(S,p),onDragOver:S=>S.preventDefault(),children:[e.jsxs("div",{className:"relative border-2 border-pink-100 dark:border-gray-700 group-hover:border-brand-red rounded-lg transition-all p-1 bg-white dark:bg-gray-800 shadow-md",children:[y.isBlank?e.jsx("div",{className:"aspect-[3/4] bg-gray-50 dark:bg-gray-700 flex items-center justify-center rounded-md border border-dashed",children:e.jsx("span",{className:"text-gray-400",children:"Blank Page"})}):e.jsx("img",{src:y.imageDataUrl,alt:`Page ${y.originalIndex+1}`,className:"w-full rounded-md",style:{transform:`rotate(${y.rotation}deg)`}}),e.jsxs("div",{className:"absolute top-1 right-1 flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>Z(y.id),title:"Rotate Page",className:"p-1.5 bg-gray-800/70 text-white rounded-full hover:bg-brand-red",children:e.jsx(mt,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>se(y.id),title:"Delete Page",className:"p-1.5 bg-gray-800/70 text-white rounded-full hover:bg-brand-red",children:e.jsx(We,{className:"h-4 w-4"})})]})]}),e.jsx("p",{className:"text-sm mt-1",children:y.isBlank?"Blank":p+1})]},y.id)),e.jsxs("div",{onClick:()=>oe(E.length),title:"Add blank page at the end",className:"aspect-[3/4] bg-white dark:bg-gray-800 flex flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400 hover:border-brand-red hover:text-brand-red cursor-pointer transition-colors",children:[e.jsx(ca,{className:"h-8 w-8"}),e.jsx("span",{className:"text-sm mt-2",children:"Add blank page"})]})]})}),e.jsxs("aside",{className:"lg:col-span-3 lg:sticky lg:top-24 bg-white dark:bg-black p-6 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:ie(W.title)}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:x,title:"Add more files",className:"w-12 h-12 bg-brand-red rounded-full flex items-center justify-center text-white shadow-lg hover:bg-brand-red-dark transition-colors relative",children:e.jsx(ct,{className:"h-6 w-6"})}),e.jsx("span",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gray-900 text-white text-xs font-bold rounded-full flex items-center justify-center border-2 border-white dark:border-black",children:f.length})]})]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["A: ",f.map(y=>y.name).join(", ")]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-2 p-3 border rounded-lg text-sm font-semibold hover:bg-gray-100 dark:hover:bg-gray-800",children:[e.jsx(da,{className:"h-5 w-5"})," Sort files by name"]}),e.jsx("button",{onClick:()=>D(),className:"w-full text-center text-brand-red font-semibold text-sm mt-2 hover:underline",children:"Reset all"})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("button",{onClick:$,disabled:E.length===0,className:"w-full bg-brand-red text-white font-bold py-3 px-6 rounded-lg text-lg flex items-center justify-center gap-2 hover:bg-brand-red-dark disabled:bg-red-300",children:[ie(W.title)," ",e.jsx(Se,{className:"h-5 w-5"})]})})]})]})},Da=({className:f,style:v})=>e.jsx("svg",{className:f,style:v,viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M21 0L24.5258 17.4742L42 21L24.5258 24.5258L21 42L17.4742 24.5258L0 21L17.4742 17.4742L21 0Z",fill:"#FFD700",fillOpacity:"0.8"})}),_a=({imageSrc:f})=>{const v=s.useMemo(()=>Array.from({length:15}).map((k,m)=>({id:m,top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animationDuration:`${Math.random()*1.5+.8}s`,animationDelay:`${Math.random()*2}s`,size:`${Math.random()*16+8}px`})),[]);return e.jsxs("div",{className:"absolute inset-0 rounded-lg overflow-hidden",children:[f&&e.jsx("img",{src:f,alt:"Processing...",className:"absolute inset-0 w-full h-full object-contain"}),e.jsx("div",{className:"absolute inset-0 bg-black/70"}),e.jsx("div",{className:"absolute inset-0 w-full h-full",children:v.map(k=>e.jsx(Da,{className:"sparkle-effect",style:{top:k.top,left:k.left,width:k.size,height:k.size,animationDuration:k.animationDuration,animationDelay:k.animationDelay}},k.id))}),e.jsxs("div",{className:"absolute bottom-5 left-1/2 -translate-x-1/2 flex items-center gap-3 p-2 bg-gray-900/60 rounded-full backdrop-blur-sm border border-white/10",children:[e.jsx("button",{className:"w-10 h-10 bg-gray-200/20 text-white rounded-full flex items-center justify-center text-2xl font-light",children:"+"}),e.jsx("div",{className:"w-12 h-12 border-2 border-blue-400/30 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-10 h-10 border-2 border-t-transparent border-blue-400 rounded-full animate-spin"})}),f&&e.jsx("img",{src:f,alt:"thumbnail",className:"w-10 h-10 rounded-full object-cover border-2 border-white/20"})]})]})},Ca=({tool:f})=>{const[v,k]=s.useState(null),[m,D]=s.useState(null),[x,E]=s.useState(null),[w,X]=s.useState(null),[V,j]=s.useState(!1),[G,a]=s.useState(""),[ce,R]=s.useState({key:"",current:0,total:100}),[I,ie]=s.useState("transparent"),[W,Q]=s.useState("#ffffff"),{addTask:Z}=ft(),{t:se}=He(),oe=s.useCallback(p=>{if(p.length>0){const S=p[0];k(S);const A=new FileReader;A.onload=O=>D(O.target?.result),A.readAsDataURL(S),a(""),E(null),X(null)}},[]),{getRootProps:i,getInputProps:F,isDragActive:b}=je({onDrop:oe,accept:f.accept,multiple:!1});s.useEffect(()=>v?((async()=>{j(!0),R({key:"Starting...",current:0,total:100});try{const{removeBackground:S}=await N(async()=>{const{removeBackground:K}=await import("./index-sypE4nM0.js");return{removeBackground:K}},__vite__mapDeps([8,1,2,3])),A=await S(v,{progress:(K,T,J)=>{R({key:K==="download"?"Downloading AI Model":"Processing Image",current:T,total:J})}}),O=URL.createObjectURL(A);X(A),E(O)}catch(S){a("Could not process image. It might be too large, in an unsupported format, or the content could not be processed."),console.error(S)}finally{j(!1)}})(),()=>{x&&URL.revokeObjectURL(x)}):void 0,[v]);const $=()=>{k(null),D(null),E(null),X(null),a("")},y=async()=>{if(!w||!v)return;let p=w;const S=we(f.id,[v],{});if(I==="color"&&x)try{const A=new Image;await new Promise((T,J)=>{A.onload=()=>T(),A.onerror=J,A.src=x});const O=document.createElement("canvas");O.width=A.naturalWidth,O.height=A.naturalHeight;const K=O.getContext("2d");if(K){K.fillStyle=W,K.fillRect(0,0,O.width,O.height),K.drawImage(A,0,0);const T=await new Promise(J=>O.toBlob(J,"image/png"));T&&(p=T)}}catch(A){console.error("Failed to apply color background:",A)}if(p){const A=URL.createObjectURL(p),O=document.createElement("a");O.href=A,O.download=S,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(A),Z({toolId:f.id,toolTitle:se(f.title),outputFilename:S,fileBlob:p})}};return v?e.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 items-start",children:[e.jsx("main",{className:"lg:col-span-8 bg-gray-100 dark:bg-gray-900 rounded-lg p-4",children:e.jsxs("div",{className:"relative w-full h-full aspect-square lg:aspect-auto min-h-[400px]",children:[e.jsx("div",{className:`absolute inset-0 rounded-md ${I==="transparent"?"bg-[url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAC1JREFUOE9jZGBgEGHAD97/D0eMGI2MDBsMAn4yMIDxfaemAPwI+b8pIM4ADzE0IBsASx07QfA8w54AAAAASUVORK5CYII=)]":""}`,style:{backgroundColor:I==="color"?W:"transparent"}}),!V&&e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center p-2",children:[x&&e.jsx("img",{src:x,alt:"Processed with background removed",className:"max-w-full max-h-full object-contain"}),G&&e.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded-md",children:[e.jsx("p",{className:"font-bold",children:"Processing Failed"}),e.jsx("p",{className:"text-sm mt-1",children:G})]})]}),V&&e.jsx(_a,{imageSrc:m})]})}),e.jsxs("aside",{className:"lg:col-span-4 bg-white dark:bg-black p-6 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Edit & Download"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm mb-2",children:"Original"}),e.jsx("img",{src:m,alt:"Original input",className:"w-full rounded-md border"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm mb-2",children:"Background"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>ie("transparent"),className:`flex-1 p-2 border-2 rounded-md text-sm ${I==="transparent"?"border-brand-red":""}`,children:"Transparent"}),e.jsx("button",{onClick:()=>ie("color"),className:`flex-1 p-2 border-2 rounded-md text-sm ${I==="color"?"border-brand-red":""}`,children:"Color"})]}),I==="color"&&e.jsx("input",{type:"color",value:W,onChange:p=>Q(p.target.value),className:"w-full h-10 mt-2 p-1 border rounded-md"})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-700 space-y-3",children:[e.jsxs("button",{onClick:y,disabled:!x,className:"w-full bg-brand-red text-white font-bold py-3 px-6 rounded-lg text-lg flex items-center justify-center gap-2 hover:bg-brand-red-dark disabled:bg-red-300",children:[e.jsx(dt,{className:"h-5 w-5"})," Download"]}),e.jsx("button",{onClick:$,className:"w-full text-center text-gray-500 dark:text-gray-400 font-semibold text-sm hover:underline",children:"Process another image"})]})]})]})]}):e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs("div",{...i(),className:`relative flex flex-col items-center justify-center p-12 rounded-2xl cursor-pointer transition-all duration-300 border-2 border-dashed ${b?"border-brand-red bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-black hover:border-brand-red"}`,children:[e.jsx("input",{...F()}),e.jsx(ut,{className:"h-16 w-16 text-gray-400 mb-4"}),e.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Select an Image"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"or drop it here"})]})})},Sa={"merge-pdf":"Combine multiple PDF files into one single PDF document with PDFBullet's free online PDF merger. Easy to use, no installation needed.","split-pdf":"Split a large PDF file into separate pages or extract a specific range of pages into a new PDF document. Fast and secure splitting tool.","compress-pdf":"Reduce the file size of your PDF documents online for free. Optimize your PDFs for web and email sharing without losing quality.","pdf-to-word":"Convert your PDF files to editable DOCX Word documents. Our converter preserves layouts, text, and images accurately.","pdf-to-powerpoint":"Turn your PDF presentations into editable PPTX slideshows. Each PDF page becomes a slide in PowerPoint.","pdf-to-excel":"Extract data and tables from your PDF files into editable Excel spreadsheets. Convert PDF to XLSX with high accuracy.","word-to-pdf":"Convert Microsoft Word documents (DOCX) to PDF format. Preserve your formatting and share your documents securely.","powerpoint-to-pdf":"Convert Microsoft PowerPoint presentations (PPTX) to PDF. Perfect for sharing and archiving your slides.","excel-to-pdf":"Convert Microsoft Excel spreadsheets (XLSX) to PDF. Ensure your tables and data are presented perfectly every time.","edit-pdf":"Edit PDF files online. Add text, images, shapes, and annotations to your documents with our powerful and free PDF editor.","pdf-to-jpg":"Convert each page of your PDF into a high-quality JPG image. You can also extract all embedded images from a PDF.","jpg-to-pdf":"Convert JPG images to PDF files. Combine multiple images into a single PDF document, adjust orientation and margins.","sign-pdf":"Sign PDF documents yourself or request electronic signatures from others. Create legally binding signatures for free.","watermark-pdf":"Add a text or image watermark to your PDF files. Protect your documents with a custom watermark.","rotate-pdf":"Rotate PDF pages. Permanently rotate all or specific pages in your PDF document to the correct orientation.","html-to-pdf":"Convert any webpage to a high-quality PDF file by simply entering the URL.","unlock-pdf":"Remove password protection and restrictions from your PDF files. Unlock secured PDFs so you can edit and print them.","protect-pdf":"Add a password to your PDF file to protect it from unauthorized access. Encrypt your sensitive documents.","organize-pdf":"Reorder, delete, and add pages to your PDF document. Visually organize your PDF files with ease.","pdf-to-pdfa":"Convert your PDF documents to PDF/A, the ISO-standardized version of PDF for long-term archiving.","repair-pdf":"Attempt to repair and recover data from corrupted or damaged PDF files.","page-numbers":"Add page numbers to your PDF documents. Customize the position, format, and style of your page numbers.","document-scanner":"Use your device camera to scan documents and convert them to high-quality PDF files. Adjust filters for perfect scans.","ocr-pdf":"Convert scanned PDFs and images into searchable and selectable text documents using Optical Character Recognition (OCR).","compare-pdf":"Compare two PDF files side-by-side to find differences. Highlights changes in text and content.","redact-pdf":"Permanently remove sensitive information and text from your PDF documents by blacking it out.","crop-pdf":"Crop the margins of your PDF file. Select an area to crop and remove unwanted parts of your pages.","remove-background":"Automatically remove the background from any image with a single click. Get a transparent PNG output.","psd-to-pdf":"Convert Adobe Photoshop (PSD) files to PDF format.","pdf-to-png":"Convert PDF pages to high-quality PNG images.","extract-text":"Extract all text from a PDF file into a simple TXT file.","zip-maker":"Create a ZIP archive from multiple files. Compress your files for easy storage and sharing.","resize-file":"Resize PDF documents or images to reduce file size or change dimensions.","resize-image":"Resize images by pixels or percentage. Maintain aspect ratio and choose output format.","crop-image":"Crop images online. Define a crop box to cut out a part of your image.","convert-to-jpg":"Convert various image formats like PNG, GIF, WEBP, and SVG to JPG.","convert-from-jpg":"Convert JPG images to other formats like PNG or GIF.","compress-image":"Compress images to reduce their file size without significant quality loss.","watermark-image":"Add a text or image watermark to your photos and images."},Za=()=>{const{toolId:f}=Vt(),v=Gt();Wt();const{user:k,sendTaskCompletionEmail:m,logTask:D}=Ht(),{t:x}=He(),{signature:E,saveSignature:w}=ua(),{addSignedDocument:X}=fa(),{addTask:V}=ft(),j=s.useRef(null),{setShowFooter:G}=s.useContext(Jt),[a,ce]=s.useState(null),[R,I]=s.useState("IDLE"),[ie,W]=s.useState(""),[Q,Z]=s.useState(null),[se,oe]=s.useState(""),[i,F]=s.useState([]),[b,$]=s.useState(lt),[y,p]=s.useState(null),[S,A]=s.useState(!1),[O,K]=s.useState(""),[T,J]=s.useState(""),[de,ue]=s.useState(""),[P,B]=s.useState(!1),[L,Y]=s.useState(!1),[H,ae]=s.useState({google:"idle",dropbox:"idle"}),[ne,pe]=s.useState([]),[ye,ve]=s.useState([]),[ke,he]=s.useState([]),[Pe,Ie]=s.useState(!1),[Je,qe]=s.useState("signature"),[Ea,ht]=s.useState(null),Re=s.useRef(null),[Xe,xt]=s.useState([]),[Ia,bt]=s.useState(!1),[Ra,wt]=s.useState(null),[Fa,yt]=s.useState(null),[Aa,vt]=s.useState([]),[La,Fe]=s.useState(null),[Qe,Ke]=s.useState(null),[jt,Ae]=s.useState(!1),[kt,fe]=s.useState(!1),[Le,Ze]=s.useState("editable"),[Ye,Pt]=s.useState(!1),[Ne,De]=s.useState(null),[Nt,Oe]=s.useState(0),[Dt,Te]=s.useState(null),[Oa,Be]=s.useState([]),[Ta,$e]=s.useState(!1),[Ba,$a]=s.useState("asc"),[za,_t]=s.useState(!1),et=s.useRef(null),_e=s.useMemo(()=>i.reduce((t,r)=>t+r.size,0),[i]),Ct=()=>{if(Q){const t=se||we(a.id,i,b);ze(Q,t)}},St=async()=>{if(!Q)return;A(!0);const t=URL.createObjectURL(Q);K(t),B(!0),ue("");try{const n=await(await N(()=>import("./main-DVb4ZCxP.js").then(c=>c.b),__vite__mapDeps([1,2,3]))).toDataURL(t,{width:200});J(n)}catch{ue("Could not generate QR code.")}finally{B(!1)}},Et=()=>{if(!Q)return;ae(n=>({...n,dropbox:"saving"}));const t=se||we(a.id,i,b),r=URL.createObjectURL(Q);Dropbox.save(r,t,{success:()=>{ae(n=>({...n,dropbox:"saved"})),setTimeout(()=>ae(n=>({...n,dropbox:"idle"})),2e3)},error:()=>{ae(n=>({...n,dropbox:"idle"})),alert("Failed to save to Dropbox.")}})},[Ma,It]=s.useState(!1),[Ua,Va]=s.useState(null),tt=s.useCallback(t=>{F(r=>[...r,...t].filter((n,c,g)=>c===g.findIndex(d=>d.name===n.name&&d.size===n.size)))},[]),{getRootProps:Ga,getInputProps:Wa,open:Rt}=je({onDrop:tt,noClick:!0,noKeyboard:!0,accept:a?.accept||{"application/pdf":[".pdf"]}});je({onDrop:tt,accept:a?.accept||{"application/pdf":[".pdf"]}}),s.useEffect(()=>{gapi&&gapi.load("client:picker",()=>It(!0))},[]),s.useEffect(()=>{const t=r=>{et.current&&!et.current.contains(r.target)&&_t(!1)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]),s.useEffect(()=>(G(R==="SUCCESS"),()=>{G(!0)}),[R,G]),s.useEffect(()=>{if(R==="PROCESSING"&&y&&Ne&&_e>0&&y.percentage>0){const t=(Date.now()-Ne)/1e3,r=_e*(y.percentage/100),n=t>0?r/t:0;if(Oe(n),y.percentage>5){const c=t/y.percentage*100,g=Math.max(0,c-t);Te(g)}}else R!=="PROCESSING"&&(De(null),Oe(0),Te(null))},[y,R,Ne,_e]);const ze=s.useCallback((t,r)=>{const n=URL.createObjectURL(t),c=document.createElement("a");c.href=n,c.download=r,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(n)},[]);s.useEffect(()=>{if(R==="SUCCESS"&&Q){const t=se||(a?we(a.id,i,b):"download");ze(Q,t),oe("")}},[R,Q,a,i,b,ze,se]);const Ft=t=>{if(!t)return"Processing...";const r=x(t.title);if(r.toLowerCase().startsWith("convert ")){const l=r.substring(8).split(/ to /i);return e.jsxs(e.Fragment,{children:["Converting ",e.jsx("strong",{children:l[0]})," to ",e.jsx("strong",{children:l[1]}),"..."]})}if(r.includes(" to ")){const u=r.split(/ to /i);return e.jsxs(e.Fragment,{children:["Converting ",e.jsx("strong",{children:u[0]})," to ",e.jsx("strong",{children:u[1]}),"..."]})}const n=r.split(" ");let c=n[0];const g=n.slice(1).join(" ");let d=c;return c.endsWith("e")?d=c.slice(0,-1)+"ing":["split","compress","redact"].some(u=>c.toLowerCase().includes(u))?d=c+c.slice(-1)+"ing":d=c+"ing",r==="Create ZIP file"?e.jsx(e.Fragment,{children:"Creating ZIP file..."}):e.jsxs(e.Fragment,{children:[d.charAt(0).toUpperCase()+d.slice(1)," ",g,"..."]})},at=s.useMemo(()=>{if(!a||R==="PROCESSING"||i.length===0)return!0;switch(a.id){case"protect-pdf":return!b.password||b.password.length===0;case"unlock-pdf":return i.length>0&&(!b.password||b.password.length===0);case"watermark-pdf":case"watermark-image":return b.watermarkType==="text"?!b.watermarkText||b.watermarkText.trim().length===0:!b.watermarkImage;default:return!1}},[a,b,R,i]),At=s.useMemo(()=>{if(!a||R==="PROCESSING")return!0;switch(a.id){case"sign-pdf":case"edit-pdf":return ke.length===0;case"redact-pdf":return Xe.length===0;default:return!1}},[a,ke.length,Xe.length,R]),me=s.useCallback(()=>{I("IDLE"),W(""),Z(null),F([]),$(lt),p(null),K(""),A(!1),ae({google:"idle",dropbox:"idle"}),pe([]),ve([]),he([]),Ie(!1),ht(null),xt([]),bt(!1),wt(null),yt(null),vt([]),Fe(null),Ke(null),Ae(!1),fe(!1),De(null),Oe(0),Te(null),Be([]),$e(!1)},[]);s.useEffect(()=>{if(!j.current){const n=document.getElementById("meta-description"),c=document.getElementById("meta-keywords");j.current={title:document.title,desc:n?n.content:"",keywords:c?c.content:""}}const t=st.find(n=>n.id===f),r=()=>{const n=document.getElementById("tool-structured-data");n&&n.remove()};if(t){if(t.isPremium&&!k?.isPremium){v("/premium-feature",{state:{toolId:t.id}});return}ce(t),me();const n=`${x(t.title)} – PDFBullet`,c=Sa[t.id]||`Use the ${x(t.title)} tool on PDFBullet. ${x(t.description)} Fast, free, and secure.`,g=[x(t.title).toLowerCase(),`free ${x(t.title).toLowerCase()}`,`online ${x(t.title).toLowerCase()}`,t.id.replace(/-/g," "),`pdfbullet ${x(t.title).toLowerCase()}`,"pdf tools","document management"];t.category?.includes("convert")&&g.push("pdf converter","file converter"),t.category==="edit"&&g.push("pdf editor","edit pdf online"),t.category==="security"&&g.push("pdf security","secure pdf");const d=[...new Set(g)].join(", ");document.title=n;const u=document.getElementById("meta-description"),l=document.getElementById("meta-keywords");u&&(u.content=c),l&&(l.content=d);const o="tool-structured-data";let h=document.getElementById(o);h||(h=document.createElement("script"),h.id=o,h.type="application/ld+json",document.head.appendChild(h));const _={"@context":"https://schema.org","@type":"SoftwareApplication",name:x(t.title),applicationCategory:"ProductivityApplication",operatingSystem:"Web",description:x(t.description),url:`https://pdfbullet.com/#/${t.id}`,offers:{"@type":"Offer",price:t.isPremium?"5.00":"0.00",priceCurrency:"USD"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",reviewCount:"2500"},publisher:{"@type":"Organization",name:"PDFBullet"}};h.textContent=JSON.stringify(_)}else["invoice-generator","cv-generator","lesson-plan-creator","ai-question-generator","ai-image-generator"].includes(f||"")||v("/");return r},[f,v,k,me,x]);const Ce=s.useCallback(async()=>{if(!(!a||!["sign-pdf","edit-pdf","redact-pdf"].includes(a.id)||i.length===0)){I("PROCESSING"),p({percentage:0,status:"Loading document pages..."});try{const r=await N(()=>import("./main-DVb4ZCxP.js").then(g=>g.aP),__vite__mapDeps([1,2,3])),n=[],c=[];for(let g=0;g<i.length;g++){const d=i[g],u=await d.arrayBuffer(),l=await r.getDocument({data:u}).promise;for(let o=1;o<=l.numPages;o++){p({percentage:Math.round((g*l.numPages+o)/(i.length*l.numPages)*100),status:`Extracting page ${o} from ${d.name}`});const h=await l.getPage(o),C=h.getViewport({scale:1.5}),z=document.createElement("canvas");z.width=C.width,z.height=C.height,await h.render({canvasContext:z.getContext("2d"),viewport:C});const ee=z.toDataURL("image/png");n.push(ee),c.push(C)}}pe(n),ve(c),I("IDLE")}catch(r){console.error(r),W("Failed to load PDF. The file might be corrupt or protected."),I("ERROR")}finally{p(null)}}},[i,a]);s.useEffect(()=>{if(a?.id==="resize-image"&&i.length>0){const t=i[0],r=new Image;r.onload=()=>{Fe({width:r.width,height:r.height})};const n=URL.createObjectURL(t);return r.src=n,()=>{URL.revokeObjectURL(n)}}else Fe(null)},[i,a?.id]),s.useEffect(()=>{["edit-pdf","redact-pdf"].includes(a?.id||"")&&i.length>0?Ce():a?.id!=="compare-pdf"&&a?.id!=="sign-pdf"&&a?.id!=="organize-pdf"&&a?.id!=="repair-pdf"&&pe([])},[i,a?.id,Ce]),s.useEffect(()=>{a?.id==="repair-pdf"&&i.length>0?(async()=>{const r=await N(()=>import("./main-DVb4ZCxP.js").then(c=>c.aP),__vite__mapDeps([1,2,3]));$e(!0);const n=[];for(let c=0;c<i.length;c++)try{const g=i[c],d=await g.arrayBuffer(),l=await(await r.getDocument({data:d}).promise).getPage(1),o=l.getViewport({scale:.5}),h=document.createElement("canvas");h.width=o.width,h.height=o.height;const _=h.getContext("2d");_&&(await l.render({canvasContext:_,viewport:o}),n.push({fileIndex:c,fileName:g.name,dataUrl:h.toDataURL()}))}catch(g){console.error("Could not generate preview for",i[c].name,g)}Be(n),$e(!1)})():Be([])},[i,a?.id]),s.useEffect(()=>{a?.id==="sign-pdf"&&i.length>0&&ne.length===0&&Ae(!0)},[i,a,ne]);const Lt=()=>{if(Ae(!1),!k){v("/login",{state:{from:"/sign-pdf"}});return}E?.signature?Ce():fe(!0)},Ot=(t,r)=>{w(t,r),fe(!1),Ce()},rt=t=>{if(!E||t==="signature"&&!E.signature||t==="initials"&&!E.initials){fe(!0);return}if(Re.current){const r=Re.current.querySelector("#pdf-page-0");if(r){const n=t==="signature"?E.signature:E.initials,c=t==="signature",g=c?150:60,d=c?75:60,u=r.offsetLeft+r.clientWidth/2-g/2,l=r.offsetTop+r.clientHeight/2-d/2,o={id:Date.now(),type:t,dataUrl:n,width:g,height:d,x:u,y:l,pageIndex:0};he(h=>[...h,o])}}},Me=async()=>{if(!(!a||i.length===0)){I("PROCESSING"),De(Date.now()),W(""),Z(null),p({percentage:0,status:"Starting process..."});try{let t=null;switch(a.id){case"merge-pdf":{const{PDFDocument:r}=await N(async()=>{const{PDFDocument:d}=await import("./index-Dfj1X2-d.js");return{PDFDocument:d}},__vite__mapDeps([7,2]));if(i.length<2)throw new Error("Please select at least two PDF files to merge.");const n=await r.create();let c=0;for(const d of i){if(c++,p({percentage:Math.round(c/i.length*100),status:`Merging ${d.name}`}),d.type!=="application/pdf")throw new Error(`File "${d.name}" is not a PDF.`);const u=await d.arrayBuffer(),l=await r.load(u,{ignoreEncryption:!0});(await n.copyPages(l,l.getPageIndices())).forEach(h=>n.addPage(h))}const g=await n.save();t=new Blob([g],{type:"application/pdf"});break}case"split-pdf":{const{PDFDocument:r}=await N(async()=>{const{PDFDocument:o}=await import("./index-Dfj1X2-d.js");return{PDFDocument:o}},__vite__mapDeps([7,2])),n=(await N(async()=>{const{default:o}=await import("./jszip.min-CG955O0i.js").then(h=>h.j);return{default:o}},__vite__mapDeps([4,2,5,6]))).default;if(i.length!==1)throw new Error("Please select exactly one PDF file to split.");const c=i[0],g=new n,d=await c.arrayBuffer(),u=await r.load(d,{ignoreEncryption:!0}),l=u.getPageCount();for(let o=0;o<l;o++){p({percentage:Math.round((o+1)/l*100),status:`Splitting page ${o+1} of ${l}`});const h=await r.create(),[_]=await h.copyPages(u,[o]);h.addPage(_);const C=await h.save();g.file(`${c.name.replace(".pdf","")}_page_${o+1}.pdf`,C)}t=await g.generateAsync({type:"blob"});break}case"compress-pdf":{const{PDFDocument:r}=await N(async()=>{const{PDFDocument:o}=await import("./index-Dfj1X2-d.js");return{PDFDocument:o}},__vite__mapDeps([7,2])),n=await N(()=>import("./main-DVb4ZCxP.js").then(o=>o.aP),__vite__mapDeps([1,2,3]));if(i.length!==1)throw new Error("Please select one PDF file to compress.");const c=i[0],g=c.size,d=await c.arrayBuffer();let u;if(b.compressionLevel==="less")p({percentage:50,status:"Applying light compression..."}),u=await(await r.load(d,{ignoreEncryption:!0})).save({useObjectStreams:!0});else{const o=b.compressionLevel==="extreme",h=o?.6:.8,_=o?1:1.5;p({percentage:10,status:`Rasterizing PDF for ${o?"extreme":"recommended"} compression...`});const C=await n.getDocument({data:new Uint8Array(d)}).promise,z=await r.create();for(let ee=1;ee<=C.numPages;ee++){p({percentage:10+Math.round(ee/C.numPages*80),status:`Processing page ${ee}`});const M=await C.getPage(ee),U=M.getViewport({scale:_}),q=document.createElement("canvas");q.width=U.width,q.height=U.height;const re=q.getContext("2d");re.fillStyle="white",re.fillRect(0,0,q.width,q.height),await M.render({canvasContext:re,viewport:U});const ge=q.toDataURL("image/jpeg",h),le=await fetch(ge).then(be=>be.arrayBuffer()),xe=await z.embedJpg(le),te=z.addPage([M.view[2],M.view[3]]);te.drawImage(xe,{x:0,y:0,width:te.getWidth(),height:te.getHeight()})}p({percentage:95,status:"Saving compressed PDF..."}),u=await z.save()}const l=u.byteLength;Ke({originalSize:g,newSize:l}),l>=g?t=new Blob([d],{type:"application/pdf"}):t=new Blob([u],{type:"application/pdf"});break}case"rotate-pdf":{const{PDFDocument:r,degrees:n}=await N(async()=>{const{PDFDocument:l,degrees:o}=await import("./index-Dfj1X2-d.js");return{PDFDocument:l,degrees:o}},__vite__mapDeps([7,2]));if(i.length!==1)throw new Error("Please select one PDF file to rotate.");const g=await i[0].arrayBuffer(),d=await r.load(g,{ignoreEncryption:!0});d.getPages().forEach(l=>l.setRotation(n(l.getRotation().angle+b.rotation)));const u=await d.save();t=new Blob([u],{type:"application/pdf"});break}case"repair-pdf":{const{PDFDocument:r}=await N(async()=>{const{PDFDocument:d}=await import("./index-Dfj1X2-d.js");return{PDFDocument:d}},__vite__mapDeps([7,2])),n=(await N(async()=>{const{default:d}=await import("./jszip.min-CG955O0i.js").then(u=>u.j);return{default:d}},__vite__mapDeps([4,2,5,6]))).default;if(i.length===0)throw new Error("Please select at least one PDF file to repair.");const c=new n;let g=0;for(const d of i){g++,p({percentage:Math.round(g/i.length*90),status:`Attempting to repair ${d.name}...`});try{const u=await d.arrayBuffer(),o=await(await r.load(u,{ignoreEncryption:!0,updateMetadata:!1})).save();c.file(d.name.replace(/\.pdf$/i,"_repaired.pdf"),o)}catch(u){console.error(`Could not repair ${d.name}:`,u),c.file(`${d.name.replace(/\.pdf$/i,"")}_REPAIR_FAILED.txt`,"We were unable to repair this file. It might be too corrupted or in an unsupported format.")}}if(p({percentage:100,status:"Packaging files..."}),i.length>1)t=await c.generateAsync({type:"blob"});else{const d=Object.keys(c.files)[0];if(d&&d.endsWith(".pdf")){const u=await c.file(d)?.async("uint8array");if(u)t=new Blob([u],{type:"application/pdf"});else throw new Error("Failed to extract the repaired file.")}else t=await c.generateAsync({type:"blob"})}break}case"sign-pdf":{const{PDFDocument:r}=await N(async()=>{const{PDFDocument:l}=await import("./index-Dfj1X2-d.js");return{PDFDocument:l}},__vite__mapDeps([7,2]));if(i.length!==1)throw new Error("Please select one PDF file to sign.");const n=i[0],c=await n.arrayBuffer(),g=await r.load(c,{ignoreEncryption:!0}),d=g.getPages();for(const l of ke)if(l.pageIndex<d.length){const o=d[l.pageIndex],h=ye[l.pageIndex],_=o.getWidth()/h.width,C=l.dataUrl?.startsWith("data:image/png")?await g.embedPng(l.dataUrl):l.dataUrl?await g.embedJpg(l.dataUrl):null;C&&o.drawImage(C,{x:l.x*_,y:o.getHeight()-l.y*_-l.height*_,width:l.width*_,height:l.height*_})}const u=await g.save();t=new Blob([u],{type:"application/pdf"}),k&&X({originator:k.username,originalFile:n,originalFileName:n.name,signedFile:t,signedFileName:we(a.id,i,b),signers:[{name:k.username,signedAt:new Date().toISOString()}],status:"Signed",auditTrail:JSON.stringify([{event:"Created",user:k.username,timestamp:new Date().toISOString()},{event:"Signed",user:k.username,timestamp:new Date().toISOString()}])});break}case"powerpoint-to-pdf":{const r=(await N(async()=>{const{default:o}=await import("./jszip.min-CG955O0i.js").then(h=>h.j);return{default:o}},__vite__mapDeps([4,2,5,6]))).default,{jsPDF:n}=await N(async()=>{const{jsPDF:o}=await import("./jspdf.es.min-BABCkZWs.js").then(h=>h.j);return{jsPDF:o}},__vite__mapDeps([0,1,2,3]));if(i.length!==1)throw new Error("Please select one PowerPoint file.");const g=await i[0].arrayBuffer(),d=await r.loadAsync(g),u=[];for(const o in d.files)o.startsWith("ppt/slides/slide")&&u.push(o);u.sort();const l=new n("l","px","a4");for(let o=0;o<u.length;o++){o>0&&l.addPage();const h=await d.file(u[o]).async("string"),_=new DOMParser().parseFromString(h,"application/xml").getElementsByTagName("a:t");let C="";for(let z=0;z<_.length;z++)C+=_[z].textContent+`
`;l.text(C,20,20)}t=l.output("blob");break}case"extract-text":{const r=await N(()=>import("./main-DVb4ZCxP.js").then(d=>d.aP),__vite__mapDeps([1,2,3]));if(i.length!==1)throw new Error("Please select one PDF file.");const n=i[0],c=await r.getDocument({data:await n.arrayBuffer()}).promise;let g="";for(let d=1;d<=c.numPages;d++){const l=await(await c.getPage(d)).getTextContent();g+=l.items.map(o=>"str"in o?o.str:"").join(" ")+`

`}t=new Blob([g],{type:"text/plain"});break}case"zip-maker":{const r=(await N(async()=>{const{default:c}=await import("./jszip.min-CG955O0i.js").then(g=>g.j);return{default:c}},__vite__mapDeps([4,2,5,6]))).default;if(i.length===0)throw new Error("Please select files to zip.");const n=new r;for(let c=0;c<i.length;c++){const g=i[c];p({percentage:Math.round((c+1)/i.length*100),status:`Adding ${g.name}`}),n.file(g.name,g)}t=await n.generateAsync({type:"blob"});break}case"remove-background":{const{removeBackground:r}=await N(async()=>{const{removeBackground:g}=await import("./index-sypE4nM0.js");return{removeBackground:g}},__vite__mapDeps([8,1,2,3]));if(i.length!==1)throw new Error("Please select one image file.");const n=i[0];p({percentage:50,status:"Removing background..."}),t=await r(n);break}case"jpg-to-pdf":{const{PDFDocument:r}=await N(async()=>{const{PDFDocument:g}=await import("./index-Dfj1X2-d.js");return{PDFDocument:g}},__vite__mapDeps([7,2])),n=await r.create();for(let g=0;g<i.length;g++){const d=i[g];p({percentage:Math.round((g+1)/i.length*100),status:`Adding ${d.name}`});const u=await d.arrayBuffer();let l;if(d.type==="image/jpeg")l=await n.embedJpg(u);else if(d.type==="image/png")l=await n.embedPng(u);else throw new Error(`Unsupported image type: ${d.type}`);const{width:o,height:h}=l.scale(1);n.addPage([o,h]).drawImage(l,{x:0,y:0,width:o,height:h})}const c=await n.save();t=new Blob([c],{type:"application/pdf"});break}case"word-to-pdf":case"excel-to-pdf":{const r=(await N(async()=>{const{default:te}=await import("./index-CDEvsS2u.js").then(be=>be.i);return{default:te}},__vite__mapDeps([9,2,10,5,6]))).default,n=await N(()=>import("./xlsx-DGuHH-KN.js"),[]),c=(await N(async()=>{const{default:te}=await import("./html2canvas.esm-B0tyYwQk.js");return{default:te}},[])).default,{jsPDF:g}=await N(async()=>{const{jsPDF:te}=await import("./jspdf.es.min-BABCkZWs.js").then(be=>be.j);return{jsPDF:te}},__vite__mapDeps([0,1,2,3]));if(i.length!==1)throw new Error(`Please select one ${a.id==="word-to-pdf"?"Word":"Excel"} file.`);const u=await i[0].arrayBuffer();p({percentage:20,status:"Converting to HTML..."});let l="";if(a.id==="word-to-pdf"){const te=await r.convertToHtml({arrayBuffer:u});if(!te.value||te.value.trim()==="")throw new Error("The Word document appears to be empty or could not be read. Please try a different file.");l=`<div style="font-family: 'Times New Roman', Times, serif; line-height: 1.5; font-size: 12pt; color: black; background-color: white;">${te.value}</div>`}else{const te=n.read(u,{type:"array"}),be=te.SheetNames[0],Mt=te.Sheets[be];l=`
                        <style>
                            table { border-collapse: collapse; width: 100%; font-family: sans-serif; font-size: 10px; color: black; background-color: white; }
                            th, td { border: 1px solid #dddddd; text-align: left; padding: 4px; }
                            th { background-color: #f2f2f2; }
                        </style>
                        ${n.utils.sheet_to_html(Mt)}
                    `}const o=document.createElement("div");o.style.position="absolute",o.style.left="-9999px",o.style.padding="15mm",o.style.backgroundColor="white",o.innerHTML=l,document.body.appendChild(o),o.style.width=a.id==="excel-to-pdf"?o.scrollWidth+"px":"210mm",p({percentage:60,status:"Capturing document..."});const h=await c(o,{scale:2,useCORS:!0,logging:!1,width:o.scrollWidth,height:o.scrollHeight});document.body.removeChild(o),p({percentage:80,status:"Generating PDF..."});const _=h.toDataURL("image/png"),C=new g({orientation:h.width>h.height?"landscape":"portrait",unit:"mm",format:"a4"}),z=C.internal.pageSize.getWidth(),ee=C.internal.pageSize.getHeight(),M=h.width,U=h.height,q=M/U;let re=z,ge=re/q,le=ge,xe=0;for(C.addImage(_,"PNG",0,xe,re,ge),le-=ee;le>0;)xe-=ee,C.addPage(),C.addImage(_,"PNG",0,xe,re,ge),le-=ee;t=C.output("blob");break}case"pdf-to-jpg":{const r=(await N(async()=>{const{default:l}=await import("./jszip.min-CG955O0i.js").then(o=>o.j);return{default:l}},__vite__mapDeps([4,2,5,6]))).default,n=await N(()=>import("./main-DVb4ZCxP.js").then(l=>l.aP),__vite__mapDeps([1,2,3]));if(i.length!==1)throw new Error("Please select one PDF file.");const c=i[0],g=new r,d=await c.arrayBuffer(),u=await n.getDocument({data:d}).promise;for(let l=1;l<=u.numPages;l++){p({percentage:Math.round(l/u.numPages*100),status:`Converting page ${l}`});const o=await u.getPage(l),h=o.getViewport({scale:2}),_=document.createElement("canvas");_.width=h.width,_.height=h.height,await o.render({canvasContext:_.getContext("2d"),viewport:h});const C=_.toDataURL("image/jpeg",.9),z=await(await fetch(C)).blob();g.file(`${c.name.replace(".pdf","")}_page_${l}.jpg`,z)}t=await g.generateAsync({type:"blob"});break}case"pdf-to-png":{const r=(await N(async()=>{const{default:l}=await import("./jszip.min-CG955O0i.js").then(o=>o.j);return{default:l}},__vite__mapDeps([4,2,5,6]))).default,n=await N(()=>import("./main-DVb4ZCxP.js").then(l=>l.aP),__vite__mapDeps([1,2,3]));if(i.length!==1)throw new Error("Please select one PDF file.");const c=i[0],g=new r,d=await c.arrayBuffer(),u=await n.getDocument({data:d}).promise;for(let l=1;l<=u.numPages;l++){p({percentage:Math.round(l/u.numPages*100),status:`Converting page ${l}`});const o=await u.getPage(l),h=o.getViewport({scale:2}),_=document.createElement("canvas");_.width=h.width,_.height=h.height,await o.render({canvasContext:_.getContext("2d"),viewport:h});const C=_.toDataURL("image/png"),z=await(await fetch(C)).blob();g.file(`${c.name.replace(".pdf","")}_page_${l}.png`,z)}t=await g.generateAsync({type:"blob"});break}case"pdf-to-word":{const r=await N(()=>import("./main-DVb4ZCxP.js").then(M=>M.aP),__vite__mapDeps([1,2,3])),n=(await N(async()=>{const{default:M}=await import("./index-k8hGQYAT.js").then(U=>U.i);return{default:M}},__vite__mapDeps([11,2,6]))).default,{Document:c,Packer:g,Paragraph:d,TextRun:u,ImageRun:l,SectionType:o}=await N(async()=>{const{Document:M,Packer:U,Paragraph:q,TextRun:re,ImageRun:ge,SectionType:le}=await import("./index-3sRqm52h.js");return{Document:M,Packer:U,Paragraph:q,TextRun:re,ImageRun:ge,SectionType:le}},[]);if(i.length!==1)throw new Error("Please select one PDF file.");const h=i[0],_=await h.arrayBuffer(),C=await r.getDocument({data:_,password:b.password||""}).promise;let z=[];if(Le==="exact")for(let M=1;M<=C.numPages;M++){p({percentage:Math.round(M/C.numPages*100),status:`Converting page ${M}`});const U=await C.getPage(M),q=U.getViewport({scale:1.5}),re=document.createElement("canvas");re.width=q.width,re.height=q.height,await U.render({canvasContext:re.getContext("2d"),viewport:q});const ge=re.toDataURL("image/png"),le=await fetch(ge).then(xe=>xe.arrayBuffer());z.push({children:[new d({children:[new l({type:"png",data:new Uint8Array(le),transformation:{width:q.width,height:q.height}})]})],properties:{type:M<C.numPages?o.NEXT_PAGE:o.CONTINUOUS}})}else{let M="";if(Ye){const{data:{text:U}}=await n.recognize(h,"eng",{logger:q=>p({percentage:(q.progress||0)*100,status:q.status})});M=U}else for(let U=1;U<=C.numPages;U++){p({percentage:Math.round(U/C.numPages*100),status:`Extracting text from page ${U}`});const ge=(await(await C.getPage(U)).getTextContent()).items.map(le=>"str"in le?le.str:"").join(" ");M+=ge+`

`}z.push({children:M.split(`
`).map(U=>new d({children:[new u(U)]}))})}const ee=new c({sections:z});t=await g.toBlob(ee);break}case"pdf-to-excel":{const r=await N(()=>import("./main-DVb4ZCxP.js").then(o=>o.aP),__vite__mapDeps([1,2,3])),n=await N(()=>import("./xlsx-DGuHH-KN.js"),[]);if(i.length!==1)throw new Error("Please select one PDF file.");const g=await i[0].arrayBuffer(),d=await r.getDocument({data:g}).promise,u=n.utils.book_new();for(let o=1;o<=d.numPages;o++){p({percentage:Math.round(o/d.numPages*100),status:`Processing page ${o}`});const C=(await(await d.getPage(o)).getTextContent()).items.map(ee=>"str"in ee?[ee.str]:[]),z=n.utils.aoa_to_sheet(C);n.utils.book_append_sheet(u,z,`Page ${o}`)}const l=n.write(u,{bookType:"xlsx",type:"array"});t=new Blob([l],{type:"application/octet-stream"});break}case"unlock-pdf":{const{PDFDocument:r}=await N(async()=>{const{PDFDocument:g}=await import("./index-Dfj1X2-d.js");return{PDFDocument:g}},__vite__mapDeps([7,2]));if(i.length!==1)throw new Error("Please select one PDF file.");const c=await i[0].arrayBuffer();try{const d=await(await r.load(c,{password:b.password||void 0,ignoreEncryption:!1})).save();t=new Blob([d],{type:"application/pdf"})}catch{throw new Error("Incorrect password or unsupported encryption.")}break}case"protect-pdf":{const{PDFDocument:r}=await N(async()=>{const{PDFDocument:l}=await import("./index-Dfj1X2-d.js");return{PDFDocument:l}},__vite__mapDeps([7,2]));if(i.length!==1)throw new Error("Please select one PDF file.");const c=await i[0].arrayBuffer(),g=await r.load(c,{ignoreEncryption:!0}),d={printing:b.allowPrinting,copying:b.allowCopying,modifying:b.allowModifying},u=await g.encrypt({userPassword:b.password,ownerPassword:b.password,permissions:d});t=new Blob([u],{type:"application/pdf"});break}case"psd-to-pdf":{const{readPsd:r}=await N(async()=>{const{readPsd:h}=await import("./index-Z1VvO2s3.js");return{readPsd:h}},__vite__mapDeps([12,10])),{jsPDF:n}=await N(async()=>{const{jsPDF:h}=await import("./jspdf.es.min-BABCkZWs.js").then(_=>_.j);return{jsPDF:h}},__vite__mapDeps([0,1,2,3]));if(i.length!==1)throw new Error("Please select one PSD file.");const g=await i[0].arrayBuffer();p({percentage:50,status:"Rendering PSD..."});const d=r(g);if(!d.canvas)throw new Error("Could not render PSD file.");const u=d.canvas,l=u.toDataURL("image/png"),o=new n({orientation:u.width>u.height?"landscape":"portrait",unit:"px",format:[u.width,u.height]});o.addImage(l,"PNG",0,0,u.width,u.height),t=o.output("blob");break}}if(t){Z(t),I("SUCCESS");const r=we(a.id,i,b);oe(r);const n={toolId:a.id,toolTitle:x(a.title),outputFilename:r,fileBlob:t};V(n),D(n),k&&m(x(a.title),r)}else R!=="ERROR"&&(["word-to-pdf","excel-to-pdf","pdf-to-word"].includes(a.id)||I("SUCCESS"))}catch(t){console.error(t),W(t.message||"An unknown error occurred during processing."),I("ERROR")}finally{["word-to-pdf","excel-to-pdf","pdf-to-word"].includes(a.id)||p(null)}}},Tt=()=>{I("PROCESSING"),De(Date.now()),W(""),Z(null),oe(""),p({percentage:0,status:"Starting process..."})},Bt=(t,r)=>{if(Z(t),oe(r),I("SUCCESS"),a){const n={toolId:a.id,toolTitle:x(a.title),outputFilename:r,fileBlob:t};V(n),D(n),k&&m(x(a.title),r)}},$t=t=>{W(t),I("ERROR")};if(!a)return e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-xl font-semibold",children:"Loading Tool..."})})});const zt=()=>{if(R==="SUCCESS"){const t=se||we(a.id,i,b);return e.jsxs("div",{className:"text-center w-full max-w-7xl mx-auto py-12 success-screen",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"This task has been processed successfully."}),a.id==="compress-pdf"&&Qe&&e.jsx(ja,{result:Qe}),e.jsxs("div",{className:"mt-8 success-actions-wrapper",children:[e.jsx("button",{onClick:me,className:"success-back-btn","aria-label":"Go back",title:"Process another file",children:e.jsx(qt,{className:"h-6 w-6"})}),e.jsxs("div",{className:"success-main-actions",children:[e.jsxs("button",{onClick:Ct,className:"success-download-btn",children:[e.jsx(dt,{className:"h-6 w-6"}),e.jsxs("span",{children:["Download ",t]})]}),e.jsxs("div",{className:"success-secondary-actions",children:[e.jsx("button",{onClick:()=>alert("Save to Google Drive coming soon!"),className:"success-action-btn","aria-label":"Save to Google Drive",title:"Save to Google Drive",children:e.jsx(Ue,{className:"h-6 w-6"})}),e.jsx("button",{onClick:St,className:"success-action-btn","aria-label":"Share file",title:"Share file",children:e.jsx(Xt,{className:"h-6 w-6"})}),e.jsx("button",{onClick:Et,disabled:H.dropbox!=="idle",className:"success-action-btn","aria-label":"Save to Dropbox",title:"Save to Dropbox",children:H.dropbox==="saving"?e.jsxs("svg",{className:"animate-spin h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):H.dropbox==="saved"?e.jsx(Qt,{className:"h-6 w-6"}):e.jsx(Ve,{className:"h-6 w-6"})}),e.jsx("button",{onClick:me,className:"success-action-btn","aria-label":"Delete and start over",title:"Delete and start over",children:e.jsx(Kt,{className:"h-6 w-6"})})]})]})]}),e.jsxs("div",{className:"mt-12 text-center p-6 bg-green-50 dark:bg-green-900/20 rounded-lg max-w-5xl mx-auto border border-green-200 dark:border-green-700",children:[e.jsxs("h3",{className:"text-xl font-bold text-green-800 dark:text-green-300 flex items-center justify-center gap-2",children:[e.jsx(gt,{className:"h-6 w-6"}),e.jsx("span",{children:"Secure. Private. In your control."})]}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"For your security, your processed files are automatically and permanently deleted from our servers within 2 hours. We do not view, copy, or analyze your files."})]}),e.jsxs("div",{className:"mt-16 bg-white dark:bg-black p-8 rounded-lg shadow-lg max-w-5xl mx-auto border border-gray-200 dark:border-gray-800",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-6",children:"Continue to..."}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:st.slice(0,12).map(r=>e.jsxs(Zt,{to:`/${r.id}`,className:"flex items-center gap-4 p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("div",{className:`p-2 rounded-md ${r.color}`,children:e.jsx(r.Icon,{className:"h-6 w-6 text-white"})}),e.jsx("div",{children:e.jsx("p",{className:"font-semibold text-left",children:x(r.title)})})]},r.id))})]}),e.jsxs("div",{className:"mt-12 text-center p-6 bg-gray-50 dark:bg-black/50 rounded-lg max-w-5xl mx-auto border border-gray-200 dark:border-gray-800",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:"How can you thank us? Spread the word!"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Please share the tool to inspire more productive people!"}),e.jsxs("div",{className:"mt-6 flex flex-wrap justify-center gap-4",children:[e.jsxs("a",{href:"https://www.trustpilot.com/review/pdfbullet.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md font-semibold text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(Yt,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{children:"Trustpilot"})]}),e.jsxs("a",{href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fpdfbullet.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md font-semibold text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(ea,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Facebook"})]}),e.jsxs("a",{href:"https://twitter.com/intent/tweet?url=https%3A%2F%2Fpdfbullet.com&text=Check%20out%20PDFBullet,%20the%20best%20free%20online%20PDF%20toolkit!",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md font-semibold text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(ta,{className:"h-5 w-5"}),e.jsx("span",{children:"Twitter"})]}),e.jsxs("a",{href:"https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fpdfbullet.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md font-semibold text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(aa,{className:"h-5 w-5 text-blue-700"}),e.jsx("span",{children:"LinkedIn"})]})]})]}),e.jsxs("div",{className:"mt-12 text-center p-6 rounded-lg max-w-5xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:"The PDF software trusted by millions of users"}),e.jsx("p",{className:"mt-4 max-w-3xl mx-auto text-lg text-gray-600 dark:text-gray-400",children:"PDFBullet helps you convert, edit, e-sign, and protect PDF files quickly and easily. Enjoy a full suite of tools to effectively manage documents —no matter where you're working."}),e.jsxs("div",{className:"mt-12 flex flex-wrap justify-center items-center gap-x-20 md:gap-x-32",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(ra,{className:"h-16 w-16"}),e.jsx("span",{className:"font-semibold text-lg",children:"iOS"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(sa,{className:"h-16 w-16"}),e.jsx("span",{className:"font-semibold text-lg",children:"Android"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(oa,{className:"h-16 w-16"}),e.jsx("span",{className:"font-semibold text-lg",children:"MacOS"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(na,{className:"h-14 w-14"}),e.jsx("span",{className:"font-semibold text-lg",children:"Windows"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(ia,{className:"h-16 w-16"}),e.jsx("span",{className:"font-semibold text-lg",children:"Web"})]})]})]})]})}if(R==="ERROR")return e.jsxs("div",{className:"text-center p-12 bg-red-50 dark:bg-red-900/20 rounded-lg shadow-xl border border-red-200 dark:border-red-800",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:"An Error Occurred"}),e.jsx("p",{className:"mt-2 text-red-600 dark:text-red-400",children:ie}),e.jsx("button",{onClick:me,className:"mt-6 bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg",children:"Try Again"})]});if(R==="PROCESSING"){const t=y&&Ne&&y.percentage>0;return e.jsxs("div",{className:"flex flex-col items-center justify-center text-center w-full max-w-2xl mx-auto py-12",children:[e.jsx("div",{className:"mb-12",children:e.jsx(la,{className:"h-12 w-auto"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:Ft(a)}),i.length>0&&y?e.jsxs("div",{className:"mt-8 bg-white dark:bg-black p-6 rounded-lg shadow-lg border dark:border-gray-700 w-full",children:[e.jsx("p",{className:"font-semibold truncate",children:i.length===1?i[0].name:`${i.length} files`}),e.jsx("p",{className:"text-sm text-gray-500",children:Ee(_e)}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 my.4",children:e.jsx("div",{className:"bg-brand-red h-2.5 rounded-full transition-all duration-500",style:{width:`${y.percentage||0}%`}})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.status||"Starting..."}),t&&e.jsxs("div",{className:"mt-4 text-xs text-gray-500 flex justify-between",children:[e.jsxs("span",{children:[Ee(Nt),"/s"]}),e.jsx("span",{children:va(Dt)})]})]}):e.jsxs("div",{className:"mt-12",children:[e.jsx("div",{className:"w-24 h-24 border-[10px] border-gray-200 dark:border-gray-700 rounded-full animate-spin",style:{borderTopColor:"#B90B06"}}),y&&e.jsx("p",{className:"mt-8 text-gray-600 dark:text-gray-400",children:y.status})]})]})}return a.id==="remove-background"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("div",{className:`inline-flex items-center justify-center p-4 rounded-full ${a.color} mb-4`,children:e.jsx(a.Icon,{className:"h-12 w-12 text-white"})}),e.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 dark:text-gray-100",children:x(a.title)}),e.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:x(a.description)})]}),e.jsx(Ge.Provider,{value:{tool:a},children:e.jsx(Ca,{tool:a})})]}):a.id==="organize-pdf"&&i.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("div",{className:`inline-flex items-center justify-center p-4 rounded-full ${a.color} mb-4`,children:e.jsx(a.Icon,{className:"h-12 w-12 text-white"})}),e.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 dark:text-gray-100",children:x(a.title)}),e.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:x(a.description)})]}),e.jsx(Ge.Provider,{value:{tool:a},children:e.jsx(Na,{files:i,onProcessStart:()=>I("PROCESSING"),onProcessSuccess:t=>{Z(t),I("SUCCESS")},onProcessError:t=>{W(t),I("ERROR")},onReset:me,onAddMoreFiles:Rt})})]}):a.id==="document-scanner"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("div",{className:`inline-flex items-center justify-center p-4 rounded-full ${a.color} mb-4`,children:e.jsx(a.Icon,{className:"h-12 w-12 text-white"})}),e.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 dark:text-gray-100",children:x(a.title)}),e.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:x(a.description)})]}),e.jsx(ya,{tool:a,onProcessStart:Tt,onProcessSuccess:Bt,onProcessError:$t})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("div",{className:`inline-flex items-center justify-center p-4 rounded-full ${a.color} mb-4`,children:e.jsx(a.Icon,{className:"h-12 w-12 text-white"})}),e.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 dark:text-gray-100",children:x(a.title)}),e.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:x(a.description)})]}),R==="IDLE"&&ne.length===0&&e.jsx(ha,{tool:a,files:i,setFiles:F,accept:a.accept,children:a.id==="pdf-to-word"?e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-100",children:"Conversion Options"}),e.jsxs("div",{onClick:()=>Ze("editable"),className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${Le==="editable"?"border-brand-red bg-red-50 dark:bg-red-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-400"}`,children:[e.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Editable Text (Basic Layout)"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Extracts text for editing. Best for text changes, but complex layouts and colors may be altered."}),e.jsxs("div",{className:"mt-3 pl-4 border-l-2 border-gray-300 dark:border-gray-600",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Ye,onChange:t=>Pt(t.target.checked),className:"h-4 w-4 rounded text-brand-red focus:ring-brand-red"}),e.jsx("span",{className:"text-sm",children:"Use OCR"}),e.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-semibold px-2 py-0.5 rounded-full border border-yellow-400 dark:bg-yellow-900/50 dark:text-yellow-300 dark:border-yellow-600",children:"Premium"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-6",children:"For scanned documents with non-selectable text."})]})]}),e.jsxs("div",{onClick:()=>Ze("exact"),className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${Le==="exact"?"border-brand-red bg-red-50 dark:bg-red-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-400"}`,children:[e.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Exact Copy (Pages as Images)"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Preserves 100% of original formatting, colors, and images. Text within images will not be editable."})]}),i.length>0&&e.jsxs("button",{onClick:Me,disabled:at,className:`w-full flex items-center justify-center gap-2 text-white font-bold py-4 px-6 rounded-lg text-lg transition-colors ${a.color} ${a.hoverColor} disabled:bg-gray-400`,children:["Convert to WORD ",e.jsx(Se,{className:"h-6 w-6"})]})]}):e.jsxs("div",{className:"space-y-6",children:[a.id==="compress-pdf"&&e.jsx(ka,{level:b.compressionLevel,setLevel:t=>$(r=>({...r,compressionLevel:t}))}),a.id==="rotate-pdf"&&e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx("button",{onClick:()=>$(t=>({...t,rotation:90})),className:`px-4 py-2 font-semibold rounded-md ${b.rotation===90?"bg-brand-red text-white":"bg-gray-200"}`,children:"90°"}),e.jsx("button",{onClick:()=>$(t=>({...t,rotation:180})),className:`px-4 py-2 font-semibold rounded-md ${b.rotation===180?"bg-brand-red text-white":"bg-gray-200"}`,children:"180°"}),e.jsx("button",{onClick:()=>$(t=>({...t,rotation:270})),className:`px-4 py-2 font-semibold rounded-md ${b.rotation===270?"bg-brand-red text-white":"bg-gray-200"}`,children:"270°"})]}),i.length>0&&e.jsxs("button",{onClick:Me,disabled:at,className:`w-full flex items-center justify-center gap-2 text-white font-bold py-4 px-6 rounded-lg text-lg transition-colors ${a.color} ${a.hoverColor} disabled:bg-gray-400 dark:disabled:bg-gray-600`,children:[x(a.title)," ",e.jsx(Se,{className:"h-6 w-6"})]})]})}),ne.length>0&&a.id==="sign-pdf"&&R==="IDLE"&&e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"flex-grow bg-gray-200 dark:bg-gray-900/50 p-4 rounded-lg",children:e.jsx("div",{ref:Re,className:"relative w-full border border-gray-300 dark:border-gray-700 rounded-lg overflow-auto max-h-[80vh] bg-white dark:bg-black",children:ne.map((t,r)=>e.jsx("div",{id:`pdf-page-${r}`,className:"relative border-b dark:border-gray-700 last:border-b-0",children:e.jsx("img",{src:t,alt:`Page ${r+1}`,className:"w-full h-auto"})},r))})}),e.jsx("div",{className:"w-full md:w-80 flex-shrink-0",children:e.jsxs("div",{className:"sticky top-24 bg-white dark:bg-surface-dark p-6 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Signing options"}),e.jsxs("div",{className:"flex border border-gray-300 dark:border-gray-600 rounded-md mb-6",children:[e.jsx("button",{className:"flex-1 p-3 text-center border-r border-gray-300 dark:border-gray-600 bg-red-50 dark:bg-red-900/30 text-brand-red font-semibold rounded-l-md",children:"Simple Signature"}),e.jsx("button",{className:"flex-1 p-3 text-center text-gray-500 dark:text-gray-400 cursor-not-allowed rounded-r-md",title:"Coming soon!",children:"Digital Signature"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-600 dark:text-gray-400 mb-2 text-sm",children:"Required fields"}),E?.signature?e.jsxs("div",{onClick:()=>rt("signature"),className:"p-2 border rounded-md flex items-center gap-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-200 dark:bg-gray-700 rounded text-center font-bold",children:"..."}),e.jsx("img",{src:E.signature,alt:"Signature preview",className:"h-10 flex-grow object-contain"}),e.jsx("button",{onClick:t=>{t.stopPropagation(),fe(!0)},className:"p-1 text-gray-400 hover:text-brand-red",children:e.jsx(ot,{className:"h-5 w-5"})})]}):e.jsx("button",{onClick:()=>fe(!0),className:"w-full p-4 border-2 border-dashed rounded text-center text-gray-500 hover:border-brand-red",children:"Create Signature"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-semibold text-gray-600 dark:text-gray-400 mb-2 text-sm",children:"Optional fields"}),E?.initials?e.jsxs("div",{onClick:()=>rt("initials"),className:"p-2 border rounded-md flex items-center gap-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-200 dark:bg-gray-700 rounded text-center font-bold",children:"AC"}),e.jsx("img",{src:E.initials,alt:"Initials preview",className:"h-10 flex-grow object-contain"}),e.jsx("button",{onClick:t=>{t.stopPropagation(),fe(!0)},className:"p-1 text-gray-400 hover:text-brand-red",children:e.jsx(ot,{className:"h-5 w-5"})})]}):e.jsx("p",{className:"text-xs text-gray-500 p-2",children:"Create a signature to generate initials."})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("button",{onClick:Me,disabled:At,className:`w-full flex items-center justify-center gap-2 text-white font-bold py-3 px-6 rounded-lg text-lg transition-colors ${a.color} ${a.hoverColor} disabled:bg-gray-400 dark:disabled:bg-gray-600`,children:["Sign ",e.jsx(Se,{className:"h-5 w-5"})]})})]})})]}),R==="IDLE"&&ne.length===0&&i.length>0&&a.id!=="pdf-to-word"&&a.id!=="organize-pdf"&&a.id!=="repair-pdf"&&e.jsx("div",{className:"mt-12 text-center",children:e.jsx("button",{onClick:me,className:"text-gray-600 dark:text-gray-400 hover:text-brand-red dark:hover:text-brand-red font-medium transition-colors",children:"← Process another file"})})]})};return e.jsxs("div",{className:"py-16 md:py-20",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a&&zt()}),e.jsx(xa,{isOpen:jt,onClose:me,onOnlyMe:Lt,onSeveralPeople:()=>alert("Inviting others to sign is a premium feature coming soon!")}),e.jsx(ma,{isOpen:kt,onClose:()=>{fe(!1),E?.signature||me()},onSave:Ot})]})};export{Za as default};
