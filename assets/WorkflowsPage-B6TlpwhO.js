import{d as u,a as p,r as n,j as e,L as i,x as w,aj as y,k,R as j,E as N,y as v,T as S}from"./main-CYIuTqaC.js";import{u as T}from"./useWorkflows-DJJDr3nW.js";import"./react-Ckhrjn13.js";const E=({checked:s,onChange:l})=>e.jsx("button",{type:"button",className:`${s?"bg-green-500":"bg-gray-300 dark:bg-gray-600"} relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none`,onClick:l,"aria-checked":s,role:"switch",children:e.jsx("span",{className:`${s?"translate-x-6":"translate-x-1"} inline-block w-4 h-4 transform bg-white rounded-full transition-transform`})}),$=()=>{const s=u(),l=p(),[d,c]=n.useState(s.state?.workflowSaved||!1),{workflows:o,toggleWorkflowStatus:x,deleteWorkflow:g}=T();n.useEffect(()=>{if(d){const r=setTimeout(()=>{c(!1),l(s.pathname,{replace:!0,state:{}})},5e3);return()=>clearTimeout(r)}},[d,l,s.pathname]);const m=r=>{if(r.length>0){const a=r[0],t=S.find(f=>f.title===a);t?l(`/${t.id}`):alert(`Tool "${a}" not found.`)}},h=r=>{const a=o.find(t=>t.id===r);a&&l("/workflows/create",{state:{workflow:a}})},b=(r,a)=>{window.confirm(`Are you sure you want to delete the workflow "${a}"?`)&&g(r)};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-800 dark:text-gray-100",children:"Workflows"}),e.jsx(i,{to:"/pricing",className:"bg-yellow-400 hover:bg-yellow-500 text-yellow-900 font-bold py-2 px-4 rounded-md flex items-center gap-2 transition-colors text-sm sm:text-base",children:e.jsx("span",{children:"Upgrade to Premium"})})]}),d&&e.jsxs("div",{className:"bg-green-100 dark:bg-green-900/30 border border-green-200 dark:border-green-700 text-green-800 dark:text-green-200 px-4 py-3 rounded-lg relative mb-6 flex items-center gap-3 animate-fade-in-down",children:[e.jsx(w,{className:"h-5 w-5"}),e.jsx("span",{className:"block sm:inline font-semibold",children:"Workflow saved successfully!"})]}),e.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 md:p-8 rounded-lg shadow-lg border border-gray-200 dark:border-gray-800",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-200 dark:border-gray-700 pb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"My workflows"}),e.jsx(i,{to:"/workflows/create",className:"text-sm font-semibold bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 py-2 px-4 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700",children:"Create new workflow"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:"min-w-full",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-4 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase px-4 py-2",children:[e.jsx("div",{className:"col-span-3",children:"Name"}),e.jsx("div",{className:"col-span-4",children:"Tools"}),e.jsx("div",{className:"col-span-2",children:"Status"}),e.jsx("div",{className:"col-span-3 text-right",children:"Actions"})]}),e.jsx("div",{children:o.length>0?o.map(r=>e.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center px-4 py-3 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"col-span-3 font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5 text-gray-400"}),e.jsx("span",{children:r.name})]}),e.jsx("div",{className:"col-span-4 flex items-center gap-2 flex-wrap",children:r.tools.map((a,t)=>e.jsxs(k.Fragment,{children:[e.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 text-xs font-medium px-2.5 py-1 rounded-md",children:a}),t<r.tools.length-1&&e.jsx(j,{className:"h-4 w-4 text-gray-400"})]},t))}),e.jsx("div",{className:"col-span-2",children:e.jsx(E,{checked:r.status,onChange:()=>x(r.id)})}),e.jsxs("div",{className:"col-span-3 flex justify-end items-center gap-1 text-gray-500 dark:text-gray-400",children:[e.jsx("button",{onClick:()=>m(r.tools),"aria-label":"Start workflow",title:"Start workflow",className:"p-2 rounded-full font-semibold text-sm text-brand-red hover:bg-red-50 dark:hover:bg-red-900/20",children:"Start"}),e.jsx("button",{onClick:()=>h(r.id),"aria-label":"Edit workflow",title:"Edit workflow",className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(N,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>b(r.id,r.name),"aria-label":"Delete workflow",title:"Delete workflow",className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:e.jsx(v,{className:"h-5 w-5"})})]})]},r.id)):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No workflows created yet."})})]})}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[o.length," of ",o.length]})]})]})};export{$ as default};
