import{r as s,u as j,a2 as N,d as v,j as e,B as S,a3 as F,a4 as B,a0 as E,a6 as L,Y as I,L as P}from"./main-ByXV5ciP.js";import{F as A}from"./FaceLoginModal-s7c96OLy.js";import"./react-Ckhrjn13.js";const C=t=>"Sign up with Passkey",Y=()=>{const[t,m]=s.useState(""),[i,a]=s.useState(""),[l,c]=s.useState(""),[p,o]=s.useState(!1),[x,d]=s.useState(!1),{loginOrSignupWithGoogle:b,loginOrSignupWithGithub:h}=j(),{register:y,isWebAuthnSupported:f}=N(),g=v(),u=async r=>{a(""),o(!0);try{const n={from:g.state?.from,plan:g.state?.plan};sessionStorage.setItem("postLoginRedirect",JSON.stringify(n)),r==="google"&&await b(),r==="github"&&await h()}catch(n){n.code!=="auth/popup-closed-by-user"&&a(n.message||`Failed to sign up with ${r}.`)}finally{o(!1)}},k=async()=>{if(!t){a("Please enter your email address to register a passkey.");return}if(!/^\S+@\S+\.\S+$/.test(t)){a("Please enter a valid email address.");return}a(""),c(""),o(!0);try{await y(t),c("Passkey registered! You can now log in using your email and passkey.")}catch(r){a(r.message||"Failed to register passkey. Your device might not have a screen lock (PIN, fingerprint, face) set up, or you may have cancelled the request.")}finally{o(!1)}},w=C();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-red-50 via-gray-50 to-blue-50 dark:from-gray-900 dark:via-black dark:to-gray-800 p-4",children:e.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(S,{className:"h-12 w-auto mx-auto mb-4"}),e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white",children:"Create an Account"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Join us to streamline your document workflow."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>u("google"),className:"social-btn",children:[e.jsx(F,{className:"h-5 w-5"})," Continue with Google"]}),e.jsxs("button",{onClick:()=>u("github"),className:"social-btn bg-gray-800 text-white hover:bg-gray-900 dark:bg-gray-700 dark:hover:bg-gray-600",children:[e.jsx(B,{className:"h-5 w-5"})," Continue with GitHub"]})]}),e.jsx("div",{className:"separator",children:"OR"}),i&&e.jsx("p",{className:"text-center text-sm text-red-500 font-semibold bg-red-100 dark:bg-red-900/20 p-3 rounded-md",children:i}),l&&e.jsx("p",{className:"text-center text-sm text-green-600 font-semibold bg-green-100 dark:bg-green-900/20 p-3 rounded-md",children:l}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:"Sign up password-free with a Passkey or Face ID. Enter your email to begin."}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"input-icon"}),e.jsx("input",{type:"email",value:t,onChange:r=>m(r.target.value),required:!0,placeholder:"Enter your email",className:"input-field"})]}),f&&e.jsxs("button",{onClick:k,disabled:p,className:"secondary-btn",children:[e.jsx(L,{className:"h-5 w-5"})," ",w]}),e.jsxs("button",{onClick:()=>d(!0),className:"secondary-btn",children:[e.jsx(I,{className:"h-5 w-5"})," Set up Face Login"]})]}),e.jsxs("p",{className:"mt-6 text-center text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",e.jsx(P,{to:"/login",className:"font-medium text-brand-red hover:underline",children:"Log in"})]})]})}),e.jsx(A,{mode:"register",isOpen:x,onClose:()=>d(!1)}),e.jsx("style",{children:`
        .social-btn { display: flex; justify-content: center; align-items: center; gap: 0.75rem; border-radius: 0.5rem; border: 1px solid #D1D5DB; background-color: white; padding: 0.75rem 1rem; font-semibold; transition: all 0.2s; box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05); width: 100%; }
        .dark .social-btn { border-color: #4B5563; background-color: #1F2937; color: #E5E7EB; }
        .social-btn:hover { background-color: #F9FAFB; transform: translateY(-1px); box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); }
        .dark .social-btn:hover { background-color: #374151; }
        .separator { position: relative; text-align: center; color: #6B7280; font-size: 0.875rem; margin: 1.5rem 0; }
        .separator::before, .separator::after { content: ''; position: absolute; top: 50%; width: calc(50% - 20px); border-top: 1px solid #E5E7EB; }
        .dark .separator::before, .dark .separator::after { border-color: #374151; }
        .separator::before { left: 0; }
        .separator::after { right: 0; }
        .input-icon { position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); color: #9CA3AF; }
        .input-field { width: 100%; border-radius: 0.5rem; border: 1px solid #D1D5DB; background-color: white; padding: 0.75rem 0.75rem 0.75rem 2.5rem; transition: border-color 0.2s, box-shadow 0.2s; }
        .dark .input-field { border-color: #4B5563; background-color: #1F2937; }
        .input-field:focus { outline: none; border-color: #B90B06; box-shadow: 0 0 0 1px #B90B06; }
        .secondary-btn { width: 100%; display: flex; justify-content: center; align-items: center; gap: 0.75rem; border-radius: 0.5rem; border: 1px solid #D1D5DB; background-color: white; padding: 0.75rem 1rem; font-semibold; transition: all 0.2s; box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05); }
        .dark .secondary-btn { border-color: #4B5563; background-color: #1F2937; color: #E5E7EB; }
        .secondary-btn:hover { background-color: #F9FAFB; transform: translateY(-1px); box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); }
        .dark .secondary-btn:hover { background-color: #374151; }
        .secondary-btn:disabled { opacity: 0.5; cursor: not-allowed; }
      `})]})};export{Y as default};
