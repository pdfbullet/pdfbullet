import{T as k,r as i,j as e,Z as N,aa as v,L as T,Q as C,ag as o}from"./main-DYed1JvU.js";import"./react-Ckhrjn13.js";const S=()=>{const n=k.find(t=>t.id==="ai-question-generator"),[l,g]=i.useState(""),[d,x]=i.useState([]),[p,m]=i.useState(!1),[u,c]=i.useState(""),[y,h]=i.useState(!1);i.useEffect(()=>{document.title="AI Question Generator | Create Questions from Text - PDFBullet";const t=document.querySelector('meta[name="description"]');t&&t.setAttribute("content","Automatically create questions from any text using AI. Perfect for generating study guides, quizzes, and learning materials quickly and easily.")},[]);const f=async()=>{if(!l.trim()){c("Please enter some text to generate questions from.");return}const t="AIzaSyCuhbxmzoOTGS6UtX7OZjLwBiMfQNrOzJA";m(!0),c(""),x([]);try{const a=await new C({apiKey:t}).models.generateContent({model:"gemini-2.5-flash",contents:`Generate a set of 5 diverse questions based on the following text. The questions should include a mix of multiple choice, true/false, and short answer types. For multiple choice, provide 4 options and indicate the correct answer. For true/false, provide the correct answer. For short answer, provide a concise correct answer.

                Text: "${l}"`,config:{responseMimeType:"application/json",responseSchema:{type:o.OBJECT,properties:{questions:{type:o.ARRAY,description:"An array of 5 generated questions.",items:{type:o.OBJECT,properties:{question:{type:o.STRING,description:"The question text."},type:{type:o.STRING,enum:["multiple_choice","short_answer","true_false"],description:"The type of question."},options:{type:o.ARRAY,description:"An array of 4 options for multiple_choice questions.",items:{type:o.STRING}},answer:{type:o.STRING,description:"The correct answer."}},required:["question","type","answer"]}}},required:["questions"]}}}),r=JSON.parse(a.text);if(r.questions)x(r.questions);else throw new Error("Received an unexpected format from the AI. Please try again.")}catch(s){console.error("AI Question Gen Error:",s);const a=s.message||"";let r="An error occurred. Please try again with different text.";a.toLowerCase().includes("api key")?r="The AI service is currently unavailable. Please check your API key configuration.":a.toLowerCase().includes("safety")?r="The provided text may have violated our safety policy. Please modify the text and try again.":a.toLowerCase().includes("parse")?r="The AI returned an unexpected response. Please try modifying your text or try again later.":r=`Failed to generate questions. ${a}`,c(r)}finally{m(!1)}},b=()=>{const t=d.map((s,a)=>{let r=`${a+1}. ${s.question}
`;return s.type==="multiple_choice"&&s.options&&(r+=s.options.map((w,j)=>`   ${String.fromCharCode(97+j)}) ${w}`).join(`
`)+`
`),r+=`Answer: ${s.answer}

`,r}).join("");navigator.clipboard.writeText(t).then(()=>{h(!0),setTimeout(()=>h(!1),2e3)})};return n?e.jsxs("div",{className:"min-h-[calc(100vh-200px)] flex flex-col items-center py-12 px-4 sm:px-6 bg-gray-50 dark:bg-black",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h1",{className:`text-4xl font-extrabold ${n.textColor}`,children:n.title}),e.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-300 max-w-2xl",children:n.description})]}),e.jsxs("div",{className:"w-full max-w-4xl space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-black border border-gray-200 dark:border-gray-800 rounded-lg p-6 shadow-lg",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"input-text",className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Paste your text here"}),e.jsx("textarea",{id:"input-text",rows:10,value:l,onChange:t=>g(t.target.value),className:"w-full px-4 py-2 bg-white dark:bg-black border border-gray-300 dark:border-gray-600 rounded-md focus:ring-brand-red focus:border-brand-red text-gray-800 dark:text-gray-200",placeholder:"Paste any article, paragraph, or study material..."})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:f,disabled:p,className:`w-full ${n.color} ${n.hoverColor} text-white font-bold py-3 px-8 rounded-lg text-lg transition-colors flex items-center justify-center disabled:bg-purple-300 dark:disabled:bg-purple-800`,children:p?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"h-6 w-6 mr-2"})," Generate Questions"]})})})]}),u&&e.jsx("p",{className:"text-center text-sm text-red-500 bg-red-100 dark:bg-red-900/30 p-3 rounded-md",children:u}),d.length>0&&e.jsxs("div",{className:"bg-white dark:bg-black border border-gray-200 dark:border-gray-800 rounded-lg p-6 shadow-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Generated Questions"}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:b,className:"flex items-center gap-2 text-sm font-semibold text-gray-600 dark:text-gray-300 hover:text-brand-red transition-colors",children:[e.jsx(v,{className:"h-5 w-5"})," Copy All"]}),y&&e.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 text-xs bg-black text-white px-2 py-1 rounded shadow-lg z-10",children:"Copied!"})]})]}),e.jsx("div",{className:"space-y-6",children:d.map((t,s)=>e.jsxs("div",{className:"p-4 border-l-4 border-brand-red bg-gray-50 dark:bg-black rounded-r-lg",children:[e.jsxs("p",{className:"font-bold text-gray-800 dark:text-gray-100",children:[s+1,". ",t.question]}),t.type==="multiple_choice"&&t.options&&e.jsx("div",{className:"mt-2 space-y-1 pl-4",children:t.options.map((a,r)=>e.jsxs("p",{className:`text-sm ${a===t.answer?"text-green-600 font-semibold":"text-gray-600 dark:text-gray-300"}`,children:[String.fromCharCode(97+r),") ",a]},r))}),e.jsxs("p",{className:"mt-2 text-sm text-green-700 dark:text-green-400 font-semibold",children:["Answer: ",t.answer]})]},s))})]})]}),e.jsx("div",{className:"mt-12 text-center",children:e.jsx(T,{to:"/",className:"text-gray-600 dark:text-gray-400 hover:text-brand-red dark:hover:text-brand-red font-medium transition-colors",children:"‚Üê Back to all tools"})})]}):null};export{S as default};
