import{r,u as w,a2 as N,d as v,j as e,B as S,a3 as F,a4 as B,a0 as D,a6 as E,Y as L,L as I}from"./main-DebOd4xP.js";import{F as P}from"./FaceLoginModal-CZS-QPid.js";import"./react-Ckhrjn13.js";const A=s=>"Sign up with Passkey",R=()=>{const[s,m]=r.useState(""),[i,a]=r.useState(""),[c,l]=r.useState(""),[p,o]=r.useState(!1),[b,d]=r.useState(!1),{loginOrSignupWithGoogle:h,loginOrSignupWithGithub:x}=w(),{register:y,isWebAuthnSupported:f}=N(),u=v(),g=async t=>{a(""),o(!0);try{const n={from:u.state?.from,plan:u.state?.plan};sessionStorage.setItem("postLoginRedirect",JSON.stringify(n)),t==="google"&&await h(),t==="github"&&await x()}catch(n){n.code!=="auth/popup-closed-by-user"&&a(n.message||`Failed to sign up with ${t}.`)}finally{o(!1)}},k=async()=>{if(!s){a("Please enter your email address to register a passkey.");return}if(!/^\S+@\S+\.\S+$/.test(s)){a("Please enter a valid email address.");return}a(""),l(""),o(!0);try{await y(s),l("Passkey registered! You can now log in using your email and passkey.")}catch(t){a(t.message||"Failed to register passkey. Your device might not have a screen lock (PIN, fingerprint, face) set up, or you may have cancelled the request.")}finally{o(!1)}},j=A();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 dark:bg-black p-4",children:e.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(S,{className:"h-12 w-auto mx-auto mb-4"}),e.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white",children:"Create an Account"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Join us to streamline your document workflow."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>g("google"),className:"social-btn",children:[e.jsx(F,{className:"h-5 w-5"})," Continue with Google"]}),e.jsxs("button",{onClick:()=>g("github"),className:"social-btn bg-gray-800 text-white hover:bg-gray-900 dark:bg-gray-700 dark:hover:bg-gray-600",children:[e.jsx(B,{className:"h-5 w-5"})," Continue with GitHub"]})]}),e.jsx("div",{className:"separator",children:"OR"}),i&&e.jsx("p",{className:"text-center text-sm text-red-500 font-semibold",children:i}),c&&e.jsx("p",{className:"text-center text-sm text-green-600 font-semibold",children:c}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:"Sign up password-free with a Passkey or Face ID. Enter your email to begin."}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"input-icon"}),e.jsx("input",{type:"email",value:s,onChange:t=>m(t.target.value),required:!0,placeholder:"Enter your email",className:"input-field"})]}),f&&e.jsxs("button",{onClick:k,disabled:p,className:"secondary-btn",children:[e.jsx(E,{className:"h-5 w-5"})," ",j]}),e.jsxs("button",{onClick:()=>d(!0),className:"secondary-btn",children:[e.jsx(L,{className:"h-5 w-5"})," Set up Face Login"]})]}),e.jsxs("p",{className:"mt-6 text-center text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",e.jsx(I,{to:"/login",className:"font-medium text-brand-red hover:underline",children:"Log in"})]})]})}),e.jsx(P,{mode:"signup_redirect",isOpen:b,onClose:()=>d(!1)}),e.jsx("style",{children:`
        .social-btn { display: flex; justify-content: center; align-items: center; gap: 0.5rem; border-radius: 0.5rem; border: 1px solid #D1D5DB; background-color: white; padding: 0.625rem 1rem; font-semibold; transition: background-color 0.2s; width: 100%; }
        .dark .social-btn { border-color: #4B5563; background-color: #1F2937; color: #E5E7EB; }
        .social-btn:hover { background-color: #F9FAFB; }
        .dark .social-btn:hover { background-color: #374151; }
        .separator { position: relative; text-align: center; color: #6B7280; font-size: 0.875rem; margin: 1.5rem 0; }
        .separator::before, .separator::after { content: ''; position: absolute; top: 50%; width: calc(50% - 20px); border-top: 1px solid #D1D5DB; }
        .dark .separator::before, .dark .separator::after { border-color: #4B5563; }
        .separator::before { left: 0; }
        .separator::after { right: 0; }
        .input-icon { position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); color: #9CA3AF; }
        .input-field { width: 100%; border-radius: 0.5rem; border: 1px solid #D1D5DB; background-color: white; padding: 0.625rem 0.75rem 0.625rem 2.5rem; }
        .dark .input-field { border-color: #4B5563; background-color: #1F2937; }
        .secondary-btn { width: 100%; display: flex; justify-content: center; align-items: center; gap: 0.5rem; border-radius: 0.5rem; border: 1px solid #D1D5DB; background-color: white; padding: 0.625rem 1rem; font-semibold; transition: background-color 0.2s; }
        .dark .secondary-btn { border-color: #4B5563; background-color: #1F2937; color: #E5E7EB; }
        .secondary-btn:hover { background-color: #F9FAFB; }
        .dark .secondary-btn:hover { background-color: #374151; }
        .secondary-btn:disabled { opacity: 0.5; }
      `})]})};export{R as default};
