import{T as I,r as s,j as e,a7 as O,aa as z,D as L,L as $,Q as G}from"./main-DVb4ZCxP.js";import{Paragraph as F,TextRun as D,Document as Q,Packer as B}from"./index-3sRqm52h.js";import{E}from"./jspdf.es.min-BABCkZWs.js";import"./react-Ckhrjn13.js";const q=({lessonPlan:l})=>{const[c,f]=s.useState(""),[d,u]=s.useState(!1),[o,h]=s.useState(""),[g,b]=s.useState(!1),m=async()=>{u(!0),h("");const i="AIzaSyCuhbxmzoOTGS6UtX7OZjLwBiMfQNrOzJA";try{const x=new G({apiKey:i}),p=`Based on the following lesson plan, generate a 5-question multiple-choice quiz with an answer key at the end.

Lesson Plan:
${l}`,y=await x.models.generateContent({model:"gemini-2.5-flash",contents:p});f(y.text)}catch(x){h(`Failed to generate quiz. ${x.message}`)}finally{u(!1)}},j=()=>{navigator.clipboard.writeText(c).then(()=>{b(!0),setTimeout(()=>b(!1),2e3)})};return e.jsxs("div",{className:"mt-6 p-4 border-2 border-dashed border-purple-300 dark:border-purple-700 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:"Need a Quiz?"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Generate a quick quiz based on the lesson plan above."}),e.jsx("button",{onClick:m,disabled:d,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors disabled:bg-purple-300",children:d?"Generating Quiz...":"Generate Quiz"}),o&&e.jsx("p",{className:"mt-2 text-sm text-red-500",children:o}),c&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-black rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h4",{className:"font-semibold",children:"Generated Quiz:"}),e.jsxs("button",{onClick:j,className:"flex items-center gap-1 text-sm text-gray-500 hover:text-brand-red",children:[e.jsx(z,{className:"h-4 w-4"})," ",g?"Copied!":"Copy"]})]}),e.jsx("pre",{className:"whitespace-pre-wrap text-sm font-sans",children:c})]})]})},W=()=>{const l=I.find(t=>t.id==="lesson-plan-creator"),[c,f]=s.useState(""),[d,u]=s.useState(""),[o,h]=s.useState(""),[g,b]=s.useState("45"),[m,j]=s.useState(""),[i,x]=s.useState(""),[p,y]=s.useState(!1),[k,w]=s.useState(""),[A,N]=s.useState(!1);s.useEffect(()=>{document.title="AI Lesson Plan Creator | PDFBullet";const t=document.querySelector('meta[name="description"]');t&&t.setAttribute("content","Generate detailed, engaging lesson plans for any subject in seconds. Let AI build a plan with activities, assessments, and homework, saving you valuable time.")},[]);const P=async()=>{if(!c||!d||!o){w("Please fill in Grade, Subject, and Topic.");return}const t="AIzaSyCuhbxmzoOTGS6UtX7OZjLwBiMfQNrOzJA";y(!0),w(""),x("");try{const a=new G({apiKey:t}),n=`Create a detailed lesson plan for a ${g}-minute class.
            - Grade Level: ${c}
            - Subject: ${d}
            - Topic: ${o}
            ${m?`- Teaching Style/Notes: ${m}`:""}
            
            Please structure the output with clear headings for:
            1.  **Lesson Objectives:** What students should be able to do by the end of the lesson.
            2.  **Materials:** A list of required materials.
            3.  **Introduction (Hook):** An engaging opening activity (~5-10 mins).
            4.  **Main Activities:** Step-by-step teaching and student activities (~20-25 mins).
            5.  **Assessment/Check for Understanding:** How to gauge student comprehension (~5-10 mins).
            6.  **Conclusion & Homework:** A wrap-up and homework assignment.`,r=await a.models.generateContent({model:"gemini-2.5-flash",contents:n});x(r.text)}catch(a){console.error("AI Lesson Plan Error:",a);const n=a.message||"";let r="An error occurred while generating the lesson plan. Please try again.";n.toLowerCase().includes("api key")?r="The AI service is currently unavailable. Please check your API key configuration.":n.toLowerCase().includes("safety")?r="Your input may have violated our safety policy. Please modify your input and try again.":r=`Failed to generate lesson plan. ${n}`,w(r)}finally{y(!1)}},T=()=>{navigator.clipboard.writeText(i).then(()=>{N(!0),setTimeout(()=>N(!1),2e3)})},C=t=>{if(t==="pdf"){const a=new E,n=a.splitTextToSize(i,180);a.text(n,10,10),a.save(`lesson-plan-${o.replace(/\s/g,"_")}.pdf`)}else{const a=i.split(`
`).map(r=>new F({children:[new D(r)]})),n=new Q({sections:[{children:a}]});B.toBlob(n).then(r=>{const S=URL.createObjectURL(r),v=document.createElement("a");v.href=S,v.download=`lesson-plan-${o.replace(/\s/g,"_")}.docx`,v.click(),URL.revokeObjectURL(S)})}};return l?e.jsxs("div",{className:"min-h-[calc(100vh-200px)] flex flex-col py-12 px-4 sm:px-6 bg-gray-50 dark:bg-black",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h1",{className:`text-4xl font-extrabold ${l.textColor}`,children:l.title}),e.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:l.description})]}),e.jsxs("div",{className:"w-full max-w-6xl mx-auto grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-black border border-gray-200 dark:border-gray-800 rounded-lg p-6 shadow-lg h-fit lg:sticky lg:top-24",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Lesson Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"grade",className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Grade Level*"}),e.jsx("input",{type:"text",id:"grade",value:c,onChange:t=>f(t.target.value),className:"w-full mt-1 p-2 border rounded-md",placeholder:"e.g., Grade 10"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Subject*"}),e.jsx("input",{type:"text",id:"subject",value:d,onChange:t=>u(t.target.value),className:"w-full mt-1 p-2 border rounded-md",placeholder:"e.g., Science"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"topic",className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Topic*"}),e.jsx("input",{type:"text",id:"topic",value:o,onChange:t=>h(t.target.value),className:"w-full mt-1 p-2 border rounded-md",placeholder:"e.g., Photosynthesis"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"duration",className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Duration (minutes)"}),e.jsx("input",{type:"number",id:"duration",value:g,onChange:t=>b(t.target.value),className:"w-full mt-1 p-2 border rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"style",className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Teaching Style / Notes (Optional)"}),e.jsx("textarea",{id:"style",rows:3,value:m,onChange:t=>j(t.target.value),className:"w-full mt-1 p-2 border rounded-md",placeholder:"e.g., Interactive, hands-on activities"})]}),k&&e.jsx("p",{className:"text-sm text-red-500",children:k}),e.jsx("button",{onClick:P,disabled:p,className:`w-full ${l.color} ${l.hoverColor} text-white font-bold py-3 px-8 rounded-lg text-lg transition-colors flex items-center justify-center disabled:bg-indigo-300`,children:p?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"h-6 w-6 mr-2"})," Generate Plan"]})})]})]}),e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-black border border-gray-200 dark:border-gray-800 rounded-lg p-6 shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Generated Lesson Plan"}),i?e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-end items-center gap-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:T,className:"flex items-center gap-1 text-sm font-semibold text-gray-600 dark:text-gray-300 hover:text-brand-red",children:[e.jsx(z,{className:"h-5 w-5"})," Copy"]}),A&&e.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 text-xs bg-black text-white px-2 py-1 rounded shadow-lg z-10",children:"Copied!"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>C("pdf"),className:"flex items-center gap-1 text-sm font-semibold text-gray-600 dark:text-gray-300 hover:text-brand-red",children:[e.jsx(L,{className:"h-5 w-5"})," PDF"]}),e.jsxs("button",{onClick:()=>C("docx"),className:"flex items-center gap-1 text-sm font-semibold text-gray-600 dark:text-gray-300 hover:text-brand-red",children:[e.jsx(L,{className:"h-5 w-5"})," DOCX"]})]})]}),e.jsx("div",{className:"prose dark:prose-invert max-w-none text-sm whitespace-pre-wrap font-sans p-4 bg-gray-50 dark:bg-black rounded-md border",children:i}),e.jsx(q,{lessonPlan:i})]}):e.jsx("div",{className:"text-center text-gray-500 py-20",children:p?e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"flex items-center justify-center gap-3 text-xl font-bold text-gray-800 dark:text-gray-200",children:[e.jsxs("svg",{className:"animate-spin h-8 w-8 text-brand-red",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Generating your lesson plan..."})]})}):e.jsx("p",{children:"Your generated lesson plan will appear here."})})]})]}),e.jsx("div",{className:"mt-12 text-center",children:e.jsx($,{to:"/",className:"text-gray-600 dark:text-gray-400 hover:text-brand-red dark:hover:text-brand-red font-medium transition-colors",children:"← Back to all tools"})})]}):null};export{W as default};
