import{r as l,a as b,j as e,aG as c,I as p,A as y}from"./main-D1eF1e74.js";import"./react-Ckhrjn13.js";const v=()=>{const[i,n]=l.useState("other"),a=l.useRef(null),d=b();l.useEffect(()=>{const o=navigator.userAgent||navigator.vendor||window.opera;/iPad|iPhone|iPod/.test(o)&&!window.MSStream?n("ios"):/android/i.test(o)&&n("android")},[]);const g=()=>{a.current?.click()},x=o=>{if(o.target.files&&o.target.files.length>0){const s=Array.from(o.target.files);d("/tools",{state:{files:s}}),a.current&&(a.current.value="")}},h=async(o,s)=>{try{const r=await fetch(o);if(!r.ok)throw new Error(`Failed to fetch file: ${r.statusText}`);const t=await r.blob();return new File([t],s,{type:t.type})}catch(r){return console.error(`Error fetching cloud file "${s}":`,r),alert(`Could not download "${s}" from cloud storage.`),null}},m=()=>{if(typeof Dropbox>"u"||!Dropbox){alert("Dropbox SDK is not available. Please check your internet connection and try again.");return}Dropbox.choose({success:async o=>{const s=o.map(t=>h(t.link,t.name)),r=(await Promise.all(s)).filter(t=>t!==null);r.length>0&&d("/tools",{state:{files:r}})},linkType:"direct",multiselect:!0})},f=()=>{alert("Google Drive integration is coming soon!")},u=()=>{const o=i==="ios",s=i==="android";let r,t;return o?(r=p,t="Apple Storage"):s?(r=y,t="Android Storage"):(r=c,t="My Device"),e.jsxs("div",{className:"bg-white dark:bg-black p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(r,{className:"h-8 w-8 text-gray-600 dark:text-gray-300"}),e.jsx("h3",{className:"font-bold text-lg",children:t})]}),e.jsxs("button",{onClick:g,className:"w-full flex items-center justify-center gap-2 p-3 bg-gray-100 dark:bg-gray-800 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 font-semibold text-gray-700 dark:text-gray-200 transition-colors",children:[e.jsx(c,{className:"h-5 w-5"}),e.jsx("span",{children:"Browse Files"})]})]})};return e.jsxs("div",{className:"p-4 sm:p-6 space-y-8",children:[e.jsx("h1",{className:"text-3xl font-extrabold text-gray-800 dark:text-gray-100",children:"Storage"}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-700 dark:text-gray-300 mb-4",children:"Device Storage"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.jsx(u,{})}),e.jsx("input",{type:"file",ref:a,onChange:x,className:"hidden",multiple:!0})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-700 dark:text-gray-300 mb-4",children:"Cloud Storage"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("button",{onClick:m,className:"bg-white dark:bg-black p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-800 text-left hover:border-blue-500 dark:hover:border-blue-400 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-400",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:"https://ik.imagekit.io/fonepay/dropbox.png?updatedAt=1759165408895",alt:"Dropbox",className:"h-10 w-10"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Dropbox"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Import files from Dropbox"})]})]})}),e.jsx("button",{onClick:f,className:"bg-white dark:bg-black p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-800 text-left hover:border-yellow-500 dark:hover:border-yellow-400 transition-colors focus:outline-none focus:ring-2 focus:ring-yellow-400",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:"https://ik.imagekit.io/fonepay/google-drive-logo.png?updatedAt=1759166133225",alt:"Google Drive",className:"h-10 w-10"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Google Drive"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Coming soon!"})]})]})})]})]})]})};export{v as default};
