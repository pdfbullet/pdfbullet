import{d as v,a as j,r as d,c as k,T as p,j as t}from"./main-zKcpfhDb.js";import{u as N,T}from"./useFavorites-CEqtUy_J.js";import"./react-Ckhrjn13.js";const w=(o,n)=>{if(!n||n.length===0)return!0;if(o.id==="document-scanner"||o.category==="business")return!1;const a=o.accept;if(a&&Object.keys(a).length===0)return!0;const s=a||(o.fileTypeDisplayName==="PDF"?{"application/pdf":[".pdf"]}:null);return s?n.every(i=>{const l=`.${i.name.split(".").pop()?.toLowerCase()}`;for(const c in s){const g=s[c];if(c.includes("*")){const m=c.split("/")[0];if(i.type.startsWith(m+"/"))return!0}if(i.type&&i.type===c||g.includes(l))return!0}return!1}):!1},S=()=>{const o=v(),n=j(),a=o.state?.files||null,[s,i]=d.useState("All"),{isFavorite:l,toggleFavorite:c}=N(),{t:g}=k(),m=d.useMemo(()=>p.filter(e=>l(e.id)),[l]),u=d.useMemo(()=>p.filter(e=>!l(e.id)),[l]),f=d.useMemo(()=>new Set(p.filter(e=>e.api?.category==="image"||["jpg-to-pdf","psd-to-pdf","pdf-to-jpg","pdf-to-png","scan-to-pdf"].includes(e.id)).map(e=>e.id)),[]),b=[{labelKey:"homepage.filter_all",category:"All"},{labelKey:"homepage.filter_organize",category:"organize"},{labelKey:"homepage.filter_optimize",category:"optimize"},{labelKey:"homepage.filter_convert",category:"convert"},{labelKey:"homepage.filter_edit",category:"edit"},{labelKey:"homepage.filter_security",category:"security"},{labelKey:"image Tools",category:"image"}],y=e=>{i(e)},x=d.useMemo(()=>{let e=[...m,...u];return s!=="All"&&(s==="image"?e=e.filter(r=>f.has(r.id)):s==="convert"?e=e.filter(r=>r.category==="convert-to"||r.category==="convert-from"):e=e.filter(r=>r.category===s)),a&&(e=e.filter(r=>w(r,a))),e},[s,m,u,f,a]),h=()=>{n(o.pathname,{replace:!0,state:{}})};return t.jsxs("div",{className:"p-4 sm:p-6",children:[t.jsx("h1",{className:"text-3xl font-extrabold text-gray-800 dark:text-gray-100 mb-6",children:"All Tools"}),a&&t.jsxs("div",{className:"my-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("h3",{className:"font-bold text-lg text-blue-800 dark:text-blue-200",children:[a.length," File(s) Selected"]}),t.jsx("button",{onClick:h,className:"text-blue-600 dark:text-blue-400 hover:underline font-semibold text-sm",children:"Clear"})]}),t.jsx("ul",{className:"mt-2 text-sm text-gray-700 dark:text-gray-300 list-disc list-inside max-h-24 overflow-y-auto",children:a.map((e,r)=>t.jsx("li",{className:"truncate",children:e.name},r))}),t.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 mt-2 font-semibold",children:"Showing compatible tools below. Select a tool to continue."})]}),t.jsx("div",{className:"pb-4 sticky top-[60px] bg-gray-50/80 dark:bg-soft-dark/80 backdrop-blur-sm z-10 -mx-4 px-4",children:t.jsx("div",{className:"overflow-x-auto no-scrollbar",children:t.jsx("div",{className:"flex items-center justify-start gap-3 w-max",children:b.map(({labelKey:e,category:r})=>t.jsx("button",{onClick:()=>y(r),title:`Filter by ${g(e)}`,className:`px-4 py-2 text-sm font-semibold rounded-full transition-colors whitespace-nowrap ${s===r?"bg-gray-900 dark:bg-gray-200 text-white dark:text-black shadow-md":"bg-white dark:bg-surface-dark text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 border border-gray-300 dark:border-gray-700"}`,children:g(e)},e))})})}),t.jsx("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 gap-4",children:x.length>0?x.map(e=>t.jsx("div",{children:t.jsx(T,{tool:e,isFavorite:l(e.id),onToggleFavorite:c,filesToPass:a||void 0})},e.id)):t.jsx("p",{className:"col-span-full text-center text-gray-500 py-10",children:"No compatible tools found for the selected files."})})]})};export{S as default};
