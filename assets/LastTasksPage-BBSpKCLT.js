import{j as e,T as i,D as c,y as x}from"./main-CKW2rO7s.js";import{u as h}from"./useLastTasks-Bww7hQKr.js";import"./react-Ckhrjn13.js";const g=({task:a,onDelete:d})=>{const s=i.find(o=>o.id===a.toolId),l=()=>{const o=URL.createObjectURL(a.fileBlob),t=document.createElement("a");t.href=o,t.download=a.outputFilename,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(o)},n=o=>{const t=Math.floor((new Date().getTime()-o)/1e3);let r=t/31536e3;return r>1?Math.floor(r)+" years ago":(r=t/2592e3,r>1?Math.floor(r)+" months ago":(r=t/86400,r>1?Math.floor(r)+" days ago":(r=t/3600,r>1?Math.floor(r)+" hours ago":(r=t/60,r>1?Math.floor(r)+" minutes ago":Math.floor(t)+" seconds ago"))))};return e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center gap-4 overflow-hidden",children:[s&&e.jsx("div",{className:`p-3 rounded-lg ${s.color} flex-shrink-0`,children:e.jsx(s.Icon,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-100 truncate",children:a.outputFilename}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[s?.title?s.title.replace("tool.","").replace(".title","").replace(/-/g," "):a.toolTitle," Â· ",n(a.timestamp)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx("button",{onClick:l,className:"p-2 text-gray-500 hover:text-brand-red rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",title:"Download",children:e.jsx(c,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>d(a.id),className:"p-2 text-gray-500 hover:text-brand-red rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",title:"Delete",children:e.jsx(x,{className:"h-5 w-5"})})]})]})},f=()=>{const{tasks:a,loading:d,deleteTask:s}=h();return e.jsxs("div",{className:"w-full",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-800 dark:text-gray-100 mb-4",children:"Last tasks"}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 p-4 rounded-lg mb-8 border border-blue-200 dark:border-blue-800",children:"All your files will be automatically deleted 2 hours after being processed."}),e.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-lg shadow-lg border border-gray-200 dark:border-gray-800",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Processed files"})}),e.jsx("div",{children:d?e.jsx("p",{className:"p-8 text-center text-gray-500",children:"Loading tasks..."}):a.length===0?e.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:e.jsx("p",{children:"There are no processed files yet. We invite you to use our services, you'll love it for sure!"})}):a.map(l=>e.jsx(g,{task:l,onDelete:s},l.id))})]})]})};export{f as default};
