import{r as c,j as a,L as A}from"./main-CoKUDNu-.js";const R=()=>{const f=c.useRef(null),[y,g]=c.useState(0),[w,p]=c.useState(!1);c.useEffect(()=>{const r=f.current;if(!r)return;const s=r.getContext("2d");if(!s)return;let l;const d={},t={x:r.width/2-25,y:r.height-60,width:50,height:20,speed:5},o=[],h=[];let x=2e3;const N=()=>{h.push({x:Math.random()*(r.width-30),y:-30,width:30,height:30,speed:1+Math.random()*2})};let u=0;const k=n=>{w||(s.clearRect(0,0,r.width,r.height),d.ArrowLeft&&t.x>0&&(t.x-=t.speed),d.ArrowRight&&t.x<r.width-t.width&&(t.x+=t.speed),s.fillStyle="#e53935",s.fillRect(t.x,t.y,t.width,t.height),s.fillRect(t.x+20,t.y-10,10,10),o.forEach((e,m)=>{e.y-=e.speed,s.fillStyle="#fdd835",s.fillRect(e.x,e.y,e.width,e.height),e.y<0&&o.splice(m,1)}),n-u>x&&(N(),u=n,x>500&&(x*=.98)),h.forEach((e,m)=>{e.y+=e.speed,s.fillStyle="#424242",s.font="24px sans-serif",s.fillText("üìÑ",e.x,e.y+25),e.y>r.height&&p(!0),o.forEach((i,S)=>{i.x<e.x+e.width&&i.x+i.width>e.x&&i.y<e.y+e.height&&i.y+i.height>e.y&&(h.splice(m,1),o.splice(S,1),g(E=>E+10))})}),l=requestAnimationFrame(k))},v=n=>{d[n.key]=!0,n.key===" "&&(n.preventDefault(),o.push({x:t.x+t.width/2-2.5,y:t.y,width:5,height:10,speed:7}))},j=n=>{d[n.key]=!1};return window.addEventListener("keydown",v),window.addEventListener("keyup",j),l=requestAnimationFrame(k),()=>{cancelAnimationFrame(l),window.removeEventListener("keydown",v),window.removeEventListener("keyup",j)}},[]);const b=()=>{g(0),p(!1)};return a.jsx("div",{className:"py-16 bg-gray-50 dark:bg-black min-h-[calc(100vh-130px)]",children:a.jsxs("div",{className:"container mx-auto px-6 text-center",children:[a.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 dark:text-gray-100",children:"PDF Invaders"}),a.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-300",children:"Use Arrow Keys to move, Spacebar to shoot."}),a.jsxs("div",{className:"text-2xl font-bold my-4",children:["Score: ",a.jsx("span",{className:"text-brand-red",children:y})]}),a.jsxs("div",{className:"relative max-w-2xl mx-auto bg-gray-200 dark:bg-black rounded-lg shadow-lg overflow-hidden",children:[a.jsx("canvas",{ref:f,width:"600",height:"400",className:"w-full h-auto"}),w&&a.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center rounded-lg animate-fade-in-down",children:[a.jsx("h2",{className:"text-4xl font-bold text-white",children:"Game Over"}),a.jsxs("p",{className:"text-2xl text-gray-200 mt-2",children:["Final Score: ",y]}),a.jsx("button",{onClick:b,className:"mt-6 bg-brand-red hover:bg-brand-red-dark text-white font-bold py-3 px-8 rounded-lg transition-colors",children:"Play Again"})]})]}),a.jsx(A,{to:"/play-game",className:"inline-block mt-8 text-gray-600 dark:text-gray-400 hover:text-brand-red dark:hover:text-brand-red font-medium transition-colors",children:"‚Üê Back to Arcade"})]})})};export{R as default};
