import{T as A,r as s,j as e,B as I,C as G,D as L,L as $}from"./main-CoKUDNu-.js";import{G as z}from"./index-CJde6Wtp.js";import{P as E,T as D,F as B,a as Q}from"./index-Di956lct.js";import{E as q}from"./jspdf.es.min-BzNzxxUS.js";const O=({lessonPlan:r})=>{const[n,b]=s.useState(""),[i,m]=s.useState(!1),[l,p]=s.useState(""),[h,g]=s.useState(!1),d=async()=>{m(!0),p("");try{const a=new z({apiKey:"AIzaSyB_6nw3l4mfxkE1lv0a1ZsEQoMgpwYF7u4"}),u=`Based on the following lesson plan, generate a 5-question multiple-choice quiz with an answer key at the end.

Lesson Plan:
${r}`,c=await a.models.generateContent({model:"gemini-2.5-flash",contents:u});b(c.text)}catch(a){p(`Failed to generate quiz. ${a.message}`)}finally{m(!1)}},f=()=>{navigator.clipboard.writeText(n).then(()=>{g(!0),setTimeout(()=>g(!1),2e3)})};return e.jsxs("div",{className:"mt-6 p-4 border-2 border-dashed border-purple-300 dark:border-purple-700 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:"Need a Quiz?"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Generate a quick quiz based on the lesson plan above."}),e.jsx("button",{onClick:d,disabled:i,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors disabled:bg-purple-300",children:i?"Generating Quiz...":"Generate Quiz"}),l&&e.jsx("p",{className:"mt-2 text-sm text-red-500",children:l}),n&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-black rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h4",{className:"font-semibold",children:"Generated Quiz:"}),e.jsxs("button",{onClick:f,className:"flex items-center gap-1 text-sm text-gray-500 hover:text-brand-red",children:[e.jsx(G,{className:"h-4 w-4"})," ",h?"Copied!":"Copy"]})]}),e.jsx("pre",{className:"whitespace-pre-wrap text-sm font-sans",children:n})]})]})},Y=()=>{const r=A.find(t=>t.id==="lesson-plan-creator"),[n,b]=s.useState(""),[i,m]=s.useState(""),[l,p]=s.useState(""),[h,g]=s.useState("45"),[d,f]=s.useState(""),[a,u]=s.useState(""),[c,v]=s.useState(!1),[k,y]=s.useState(""),[T,N]=s.useState(!1);s.useEffect(()=>{document.title="AI Lesson Plan Creator | I Love PDFLY";const t=document.querySelector('meta[name="description"]');t&&t.setAttribute("content","Generate detailed, engaging lesson plans for any subject in seconds. Let AI build a plan with activities, assessments, and homework, saving you valuable time.")},[]);const P=async()=>{if(!n||!i||!l){y("Please fill in Grade, Subject, and Topic.");return}v(!0),y(""),u("");try{const t=new z({apiKey:"AIzaSyB_6nw3l4mfxkE1lv0a1ZsEQoMgpwYF7u4"}),o=`Create a detailed lesson plan for a ${h}-minute class.
            - Grade Level: ${n}
            - Subject: ${i}
            - Topic: ${l}
            ${d?`- Teaching Style/Notes: ${d}`:""}
            
            Please structure the output with clear headings for:
            1.  **Lesson Objectives:** What students should be able to do by the end of the lesson.
            2.  **Materials:** A list of required materials.
            3.  **Introduction (Hook):** An engaging opening activity (~5-10 mins).
            4.  **Main Activities:** Step-by-step teaching and student activities (~20-25 mins).
            5.  **Assessment/Check for Understanding:** How to gauge student comprehension (~5-10 mins).
            6.  **Conclusion & Homework:** A wrap-up and homework assignment.`,x=await t.models.generateContent({model:"gemini-2.5-flash",contents:o});u(x.text)}catch(t){y(`Failed to generate lesson plan. ${t.message}`)}finally{v(!1)}},F=()=>{navigator.clipboard.writeText(a).then(()=>{N(!0),setTimeout(()=>N(!1),2e3)})},C=t=>{if(t==="pdf"){const o=new q,x=o.splitTextToSize(a,180);o.text(x,10,10),o.save(`lesson-plan-${l.replace(/\s/g,"_")}.pdf`)}else{const o=a.split(`
`).map(j=>new E({children:[new D(j)]})),x=new B({sections:[{children:o}]});Q.toBlob(x).then(j=>{const S=URL.createObjectURL(j),w=document.createElement("a");w.href=S,w.download=`lesson-plan-${l.replace(/\s/g,"_")}.docx`,w.click(),URL.revokeObjectURL(S)})}};return r?e.jsxs("div",{className:"min-h-[calc(100vh-200px)] flex flex-col py-12 px-4 sm:px-6 bg-gray-50 dark:bg-black",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h1",{className:`text-4xl font-extrabold ${r.textColor}`,children:r.title}),e.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:r.description})]}),e.jsxs("div",{className:"w-full max-w-6xl mx-auto grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-black border border-gray-200 dark:border-gray-800 rounded-lg p-6 shadow-lg h-fit lg:sticky lg:top-24",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Lesson Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"grade",className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Grade Level*"}),e.jsx("input",{type:"text",id:"grade",value:n,onChange:t=>b(t.target.value),className:"w-full mt-1 p-2 border rounded-md",placeholder:"e.g., Grade 10"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Subject*"}),e.jsx("input",{type:"text",id:"subject",value:i,onChange:t=>m(t.target.value),className:"w-full mt-1 p-2 border rounded-md",placeholder:"e.g., Science"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"topic",className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Topic*"}),e.jsx("input",{type:"text",id:"topic",value:l,onChange:t=>p(t.target.value),className:"w-full mt-1 p-2 border rounded-md",placeholder:"e.g., Photosynthesis"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"duration",className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Duration (minutes)"}),e.jsx("input",{type:"number",id:"duration",value:h,onChange:t=>g(t.target.value),className:"w-full mt-1 p-2 border rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"style",className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Teaching Style / Notes (Optional)"}),e.jsx("textarea",{id:"style",rows:3,value:d,onChange:t=>f(t.target.value),className:"w-full mt-1 p-2 border rounded-md",placeholder:"e.g., Interactive, hands-on activities"})]}),k&&e.jsx("p",{className:"text-sm text-red-500",children:k}),e.jsx("button",{onClick:P,disabled:c,className:`w-full ${r.color} ${r.hoverColor} text-white font-bold py-3 px-8 rounded-lg text-lg transition-colors flex items-center justify-center disabled:bg-indigo-300`,children:c?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"h-6 w-6 mr-2"})," Generate Plan"]})})]})]}),e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-black border border-gray-200 dark:border-gray-800 rounded-lg p-6 shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Generated Lesson Plan"}),a?e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-end items-center gap-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:F,className:"flex items-center gap-1 text-sm font-semibold text-gray-600 dark:text-gray-300 hover:text-brand-red",children:[e.jsx(G,{className:"h-5 w-5"})," Copy"]}),T&&e.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 text-xs bg-black text-white px-2 py-1 rounded shadow-lg z-10",children:"Copied!"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>C("pdf"),className:"flex items-center gap-1 text-sm font-semibold text-gray-600 dark:text-gray-300 hover:text-brand-red",children:[e.jsx(L,{className:"h-5 w-5"})," PDF"]}),e.jsxs("button",{onClick:()=>C("docx"),className:"flex items-center gap-1 text-sm font-semibold text-gray-600 dark:text-gray-300 hover:text-brand-red",children:[e.jsx(L,{className:"h-5 w-5"})," DOCX"]})]})]}),e.jsx("div",{className:"prose dark:prose-invert max-w-none text-sm whitespace-pre-wrap font-sans p-4 bg-gray-50 dark:bg-black rounded-md border",children:a}),e.jsx(O,{lessonPlan:a})]}):e.jsx("div",{className:"text-center text-gray-500 py-20",children:c?e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"flex items-center justify-center gap-3 text-xl font-bold text-gray-800 dark:text-gray-200",children:[e.jsxs("svg",{className:"animate-spin h-8 w-8 text-brand-red",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Generating your lesson plan..."})]})}):e.jsx("p",{children:"Your generated lesson plan will appear here."})})]})]}),e.jsx("div",{className:"mt-12 text-center",children:e.jsx($,{to:"/",className:"text-gray-600 dark:text-gray-400 hover:text-brand-red dark:hover:text-brand-red font-medium transition-colors",children:"‚Üê Back to all tools"})})]}):null};export{Y as default};
