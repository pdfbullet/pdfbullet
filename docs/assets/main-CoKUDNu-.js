const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-DrKxX7_5.js","assets/index-CJde6Wtp.js","assets/pdf-DJbXi9C8.js","assets/ToolPage-DBjCXgY8.js","assets/index-Di956lct.js","assets/html2canvas.esm-BfxBtG_O.js","assets/jspdf.es.min-BzNzxxUS.js","assets/InvoiceGeneratorPage-DyhW8slZ.js","assets/CVGeneratorPage-JFt2NlCD.js","assets/LessonPlanCreatorPage-BZJrH9ru.js","assets/AIQuestionGeneratorPage-CQvQtPbM.js","assets/ImageGeneratorPage-CHDU1zU0.js"])))=>i.map(i=>d[i]);
function LA(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var Iz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function bz(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Bg={exports:{}},xu={},qg={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fx;function FA(){if(Fx)return je;Fx=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function I(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,z={};function C(j,Y,X){this.props=j,this.context=Y,this.refs=z,this.updater=X||P}C.prototype.isReactComponent={},C.prototype.setState=function(j,Y){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Y,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function K(){}K.prototype=C.prototype;function J(j,Y,X){this.props=j,this.context=Y,this.refs=z,this.updater=X||P}var Q=J.prototype=new K;Q.constructor=J,O(Q,C.prototype),Q.isPureReactComponent=!0;var se=Array.isArray,ve=Object.prototype.hasOwnProperty,_e={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function T(j,Y,X){var ue,Ce={},Oe=null,$e=null;if(Y!=null)for(ue in Y.ref!==void 0&&($e=Y.ref),Y.key!==void 0&&(Oe=""+Y.key),Y)ve.call(Y,ue)&&!R.hasOwnProperty(ue)&&(Ce[ue]=Y[ue]);var We=arguments.length-2;if(We===1)Ce.children=X;else if(1<We){for(var tt=Array(We),xt=0;xt<We;xt++)tt[xt]=arguments[xt+2];Ce.children=tt}if(j&&j.defaultProps)for(ue in We=j.defaultProps,We)Ce[ue]===void 0&&(Ce[ue]=We[ue]);return{$$typeof:n,type:j,key:Oe,ref:$e,props:Ce,_owner:_e.current}}function A(j,Y){return{$$typeof:n,type:j.type,key:Y,ref:j.ref,props:j.props,_owner:j._owner}}function N(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function F(j){var Y={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(X){return Y[X]})}var V=/\/+/g;function S(j,Y){return typeof j=="object"&&j!==null&&j.key!=null?F(""+j.key):Y.toString(36)}function Me(j,Y,X,ue,Ce){var Oe=typeof j;(Oe==="undefined"||Oe==="boolean")&&(j=null);var $e=!1;if(j===null)$e=!0;else switch(Oe){case"string":case"number":$e=!0;break;case"object":switch(j.$$typeof){case n:case e:$e=!0}}if($e)return $e=j,Ce=Ce($e),j=ue===""?"."+S($e,0):ue,se(Ce)?(X="",j!=null&&(X=j.replace(V,"$&/")+"/"),Me(Ce,Y,X,"",function(xt){return xt})):Ce!=null&&(N(Ce)&&(Ce=A(Ce,X+(!Ce.key||$e&&$e.key===Ce.key?"":(""+Ce.key).replace(V,"$&/")+"/")+j)),Y.push(Ce)),1;if($e=0,ue=ue===""?".":ue+":",se(j))for(var We=0;We<j.length;We++){Oe=j[We];var tt=ue+S(Oe,We);$e+=Me(Oe,Y,X,tt,Ce)}else if(tt=I(j),typeof tt=="function")for(j=tt.call(j),We=0;!(Oe=j.next()).done;)Oe=Oe.value,tt=ue+S(Oe,We++),$e+=Me(Oe,Y,X,tt,Ce);else if(Oe==="object")throw Y=String(j),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return $e}function Xe(j,Y,X){if(j==null)return j;var ue=[],Ce=0;return Me(j,ue,"","",function(Oe){return Y.call(X,Oe,Ce++)}),ue}function jt(j){if(j._status===-1){var Y=j._result;Y=Y(),Y.then(function(X){(j._status===0||j._status===-1)&&(j._status=1,j._result=X)},function(X){(j._status===0||j._status===-1)&&(j._status=2,j._result=X)}),j._status===-1&&(j._status=0,j._result=Y)}if(j._status===1)return j._result.default;throw j._result}var He={current:null},ae={transition:null},ge={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:ae,ReactCurrentOwner:_e};function pe(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:Xe,forEach:function(j,Y,X){Xe(j,function(){Y.apply(this,arguments)},X)},count:function(j){var Y=0;return Xe(j,function(){Y++}),Y},toArray:function(j){return Xe(j,function(Y){return Y})||[]},only:function(j){if(!N(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},je.Component=C,je.Fragment=t,je.Profiler=i,je.PureComponent=J,je.StrictMode=r,je.Suspense=p,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,je.act=pe,je.cloneElement=function(j,Y,X){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ue=O({},j.props),Ce=j.key,Oe=j.ref,$e=j._owner;if(Y!=null){if(Y.ref!==void 0&&(Oe=Y.ref,$e=_e.current),Y.key!==void 0&&(Ce=""+Y.key),j.type&&j.type.defaultProps)var We=j.type.defaultProps;for(tt in Y)ve.call(Y,tt)&&!R.hasOwnProperty(tt)&&(ue[tt]=Y[tt]===void 0&&We!==void 0?We[tt]:Y[tt])}var tt=arguments.length-2;if(tt===1)ue.children=X;else if(1<tt){We=Array(tt);for(var xt=0;xt<tt;xt++)We[xt]=arguments[xt+2];ue.children=We}return{$$typeof:n,type:j.type,key:Ce,ref:Oe,props:ue,_owner:$e}},je.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},je.createElement=T,je.createFactory=function(j){var Y=T.bind(null,j);return Y.type=j,Y},je.createRef=function(){return{current:null}},je.forwardRef=function(j){return{$$typeof:u,render:j}},je.isValidElement=N,je.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:jt}},je.memo=function(j,Y){return{$$typeof:f,type:j,compare:Y===void 0?null:Y}},je.startTransition=function(j){var Y=ae.transition;ae.transition={};try{j()}finally{ae.transition=Y}},je.unstable_act=pe,je.useCallback=function(j,Y){return He.current.useCallback(j,Y)},je.useContext=function(j){return He.current.useContext(j)},je.useDebugValue=function(){},je.useDeferredValue=function(j){return He.current.useDeferredValue(j)},je.useEffect=function(j,Y){return He.current.useEffect(j,Y)},je.useId=function(){return He.current.useId()},je.useImperativeHandle=function(j,Y,X){return He.current.useImperativeHandle(j,Y,X)},je.useInsertionEffect=function(j,Y){return He.current.useInsertionEffect(j,Y)},je.useLayoutEffect=function(j,Y){return He.current.useLayoutEffect(j,Y)},je.useMemo=function(j,Y){return He.current.useMemo(j,Y)},je.useReducer=function(j,Y,X){return He.current.useReducer(j,Y,X)},je.useRef=function(j){return He.current.useRef(j)},je.useState=function(j){return He.current.useState(j)},je.useSyncExternalStore=function(j,Y,X){return He.current.useSyncExternalStore(j,Y,X)},je.useTransition=function(){return He.current.useTransition()},je.version="18.3.1",je}var jx;function kv(){return jx||(jx=1,qg.exports=FA()),qg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx;function jA(){if(zx)return xu;zx=1;var n=kv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,p,f){var v,_={},I=null,P=null;f!==void 0&&(I=""+f),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(P=p.ref);for(v in p)r.call(p,v)&&!a.hasOwnProperty(v)&&(_[v]=p[v]);if(u&&u.defaultProps)for(v in p=u.defaultProps,p)_[v]===void 0&&(_[v]=p[v]);return{$$typeof:e,type:u,key:I,ref:P,props:_,_owner:i.current}}return xu.Fragment=t,xu.jsx=l,xu.jsxs=l,xu}var Ux;function zA(){return Ux||(Ux=1,Bg.exports=jA()),Bg.exports}var w=zA(),L=kv();const Xi=xf(L),UA=LA({__proto__:null,default:Xi},[L]);var dp={},Hg={exports:{}},Gn={},$g={exports:{}},Wg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx;function BA(){return Bx||(Bx=1,function(n){function e(ae,ge){var pe=ae.length;ae.push(ge);e:for(;0<pe;){var j=pe-1>>>1,Y=ae[j];if(0<i(Y,ge))ae[j]=ge,ae[pe]=Y,pe=j;else break e}}function t(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var ge=ae[0],pe=ae.pop();if(pe!==ge){ae[0]=pe;e:for(var j=0,Y=ae.length,X=Y>>>1;j<X;){var ue=2*(j+1)-1,Ce=ae[ue],Oe=ue+1,$e=ae[Oe];if(0>i(Ce,pe))Oe<Y&&0>i($e,Ce)?(ae[j]=$e,ae[Oe]=pe,j=Oe):(ae[j]=Ce,ae[ue]=pe,j=ue);else if(Oe<Y&&0>i($e,pe))ae[j]=$e,ae[Oe]=pe,j=Oe;else break e}}return ge}function i(ae,ge){var pe=ae.sortIndex-ge.sortIndex;return pe!==0?pe:ae.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var p=[],f=[],v=1,_=null,I=3,P=!1,O=!1,z=!1,C=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(ae){for(var ge=t(f);ge!==null;){if(ge.callback===null)r(f);else if(ge.startTime<=ae)r(f),ge.sortIndex=ge.expirationTime,e(p,ge);else break;ge=t(f)}}function se(ae){if(z=!1,Q(ae),!O)if(t(p)!==null)O=!0,jt(ve);else{var ge=t(f);ge!==null&&He(se,ge.startTime-ae)}}function ve(ae,ge){O=!1,z&&(z=!1,K(T),T=-1),P=!0;var pe=I;try{for(Q(ge),_=t(p);_!==null&&(!(_.expirationTime>ge)||ae&&!F());){var j=_.callback;if(typeof j=="function"){_.callback=null,I=_.priorityLevel;var Y=j(_.expirationTime<=ge);ge=n.unstable_now(),typeof Y=="function"?_.callback=Y:_===t(p)&&r(p),Q(ge)}else r(p);_=t(p)}if(_!==null)var X=!0;else{var ue=t(f);ue!==null&&He(se,ue.startTime-ge),X=!1}return X}finally{_=null,I=pe,P=!1}}var _e=!1,R=null,T=-1,A=5,N=-1;function F(){return!(n.unstable_now()-N<A)}function V(){if(R!==null){var ae=n.unstable_now();N=ae;var ge=!0;try{ge=R(!0,ae)}finally{ge?S():(_e=!1,R=null)}}else _e=!1}var S;if(typeof J=="function")S=function(){J(V)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,Xe=Me.port2;Me.port1.onmessage=V,S=function(){Xe.postMessage(null)}}else S=function(){C(V,0)};function jt(ae){R=ae,_e||(_e=!0,S())}function He(ae,ge){T=C(function(){ae(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){O||P||(O=!0,jt(ve))},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ae){switch(I){case 1:case 2:case 3:var ge=3;break;default:ge=I}var pe=I;I=ge;try{return ae()}finally{I=pe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,ge){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var pe=I;I=ae;try{return ge()}finally{I=pe}},n.unstable_scheduleCallback=function(ae,ge,pe){var j=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?j+pe:j):pe=j,ae){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=pe+Y,ae={id:v++,callback:ge,priorityLevel:ae,startTime:pe,expirationTime:Y,sortIndex:-1},pe>j?(ae.sortIndex=pe,e(f,ae),t(p)===null&&ae===t(f)&&(z?(K(T),T=-1):z=!0,He(se,pe-j))):(ae.sortIndex=Y,e(p,ae),O||P||(O=!0,jt(ve))),ae},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(ae){var ge=I;return function(){var pe=I;I=ge;try{return ae.apply(this,arguments)}finally{I=pe}}}}(Wg)),Wg}var qx;function qA(){return qx||(qx=1,$g.exports=BA()),$g.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx;function HA(){if(Hx)return Gn;Hx=1;var n=kv(),e=qA();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},_={};function I(s){return p.call(_,s)?!0:p.call(v,s)?!1:f.test(s)?_[s]=!0:(v[s]=!0,!1)}function P(s,o,c,h){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function O(s,o,c,h){if(o===null||typeof o>"u"||P(s,o,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function z(s,o,c,h,m,y,b){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=y,this.removeEmptyString=b}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new z(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];C[o]=new z(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new z(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new z(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new z(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new z(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new z(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new z(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new z(s,5,!1,s.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function J(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(K,J);C[o]=new z(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(K,J);C[o]=new z(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(K,J);C[o]=new z(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new z(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new z(s,1,!1,s.toLowerCase(),null,!0,!0)});function Q(s,o,c,h){var m=C.hasOwnProperty(o)?C[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(O(o,c,m,h)&&(c=null),h||m===null?I(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):m.mustUseProperty?s[m.propertyName]=c===null?m.type===3?!1:"":c:(o=m.attributeName,h=m.attributeNamespace,c===null?s.removeAttribute(o):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,h?s.setAttributeNS(h,o,c):s.setAttribute(o,c))))}var se=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ve=Symbol.for("react.element"),_e=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),F=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),Xe=Symbol.for("react.memo"),jt=Symbol.for("react.lazy"),He=Symbol.for("react.offscreen"),ae=Symbol.iterator;function ge(s){return s===null||typeof s!="object"?null:(s=ae&&s[ae]||s["@@iterator"],typeof s=="function"?s:null)}var pe=Object.assign,j;function Y(s){if(j===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);j=o&&o[1]||""}return`
`+j+s}var X=!1;function ue(s,o){if(!s||X)return"";X=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch($){var h=$}Reflect.construct(s,[],o)}else{try{o.call()}catch($){h=$}s.call(o.prototype)}else{try{throw Error()}catch($){h=$}s()}}catch($){if($&&h&&typeof $.stack=="string"){for(var m=$.stack.split(`
`),y=h.stack.split(`
`),b=m.length-1,k=y.length-1;1<=b&&0<=k&&m[b]!==y[k];)k--;for(;1<=b&&0<=k;b--,k--)if(m[b]!==y[k]){if(b!==1||k!==1)do if(b--,k--,0>k||m[b]!==y[k]){var D=`
`+m[b].replace(" at new "," at ");return s.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",s.displayName)),D}while(1<=b&&0<=k);break}}}finally{X=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Y(s):""}function Ce(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=ue(s.type,!1),s;case 11:return s=ue(s.type.render,!1),s;case 1:return s=ue(s.type,!0),s;default:return""}}function Oe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case _e:return"Portal";case A:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case Me:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case F:return(s.displayName||"Context")+".Consumer";case N:return(s._context.displayName||"Context")+".Provider";case V:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Xe:return o=s.displayName||null,o!==null?o:Oe(s.type)||"Memo";case jt:o=s._payload,s=s._init;try{return Oe(s(o))}catch{}}return null}function $e(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(o);case 8:return o===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function We(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function tt(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function xt(s){var o=tt(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(b){h=""+b,y.call(this,b)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(b){h=""+b},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Fn(s){s._valueTracker||(s._valueTracker=xt(s))}function Xn(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return s&&(h=tt(s)?s.checked?"true":"false":s.value),s=h,s!==c?(o.setValue(s),!0):!1}function Sr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ti(s,o){var c=o.checked;return pe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Ni(s,o){var c=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;c=We(o.value!=null?o.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function vs(s,o){o=o.checked,o!=null&&Q(s,"checked",o,!1)}function pr(s,o){vs(s,o);var c=We(o.value),h=o.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Ar(s,o.type,c):o.hasOwnProperty("defaultValue")&&Ar(s,o.type,We(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function ws(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Ar(s,o,c){(o!=="number"||Sr(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var jn=Array.isArray;function Cr(s,o,c,h){if(s=s.options,o){o={};for(var m=0;m<c.length;m++)o["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=o.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&h&&(s[c].defaultSelected=!0)}else{for(c=""+We(c),o=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Ao(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return pe({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function _s(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(jn(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:We(c)}}function de(s,o){var c=We(o.value),h=We(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function ke(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Le(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Le(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var It,Rr=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,h,m){MSApp.execUnsafeLocalFunction(function(){return s(o,c,h,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(It=It||document.createElement("div"),It.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=It.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Pn(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Dr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nr=["Webkit","ms","Moz","O"];Object.keys(Dr).forEach(function(s){Nr.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Dr[o]=Dr[s]})});function Oi(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Dr.hasOwnProperty(s)&&Dr[s]?(""+o).trim():o+"px"}function ni(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var h=c.indexOf("--")===0,m=Oi(c,o[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,m):s[c]=m}}var Vi=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mi(s,o){if(o){if(Vi[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Li(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Or=null;function xs(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var qa=null,fr=null,ri=null;function Ha(s){if(s=ou(s)){if(typeof qa!="function")throw Error(t(280));var o=s.stateNode;o&&(o=kh(o),qa(s.stateNode,s.type,o))}}function ii(s){fr?ri?ri.push(s):ri=[s]:fr=s}function Lc(){if(fr){var s=fr,o=ri;if(ri=fr=null,Ha(s),o)for(s=0;s<o.length;s++)Ha(o[s])}}function Co(s,o){return s(o)}function Fc(){}var Fi=!1;function jc(s,o,c){if(Fi)return s(o,c);Fi=!0;try{return Co(s,o,c)}finally{Fi=!1,(fr!==null||ri!==null)&&(Fc(),Lc())}}function Nt(s,o){var c=s.stateNode;if(c===null)return null;var h=kh(c);if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var $a=!1;if(u)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){$a=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{$a=!1}function Ro(s,o,c,h,m,y,b,k,D){var $=Array.prototype.slice.call(arguments,3);try{o.apply(c,$)}catch(ne){this.onError(ne)}}var Do=!1,Wa=null,Mr=!1,zc=null,gm={onError:function(s){Do=!0,Wa=s}};function Ga(s,o,c,h,m,y,b,k,D){Do=!1,Wa=null,Ro.apply(gm,arguments)}function Jd(s,o,c,h,m,y,b,k,D){if(Ga.apply(this,arguments),Do){if(Do){var $=Wa;Do=!1,Wa=null}else throw Error(t(198));Mr||(Mr=!0,zc=$)}}function Lr(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function No(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Fr(s){if(Lr(s)!==s)throw Error(t(188))}function Xd(s){var o=s.alternate;if(!o){if(o=Lr(s),o===null)throw Error(t(188));return o!==s?null:s}for(var c=s,h=o;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return Fr(m),s;if(y===h)return Fr(m),o;y=y.sibling}throw Error(t(188))}if(c.return!==h.return)c=m,h=y;else{for(var b=!1,k=m.child;k;){if(k===c){b=!0,c=m,h=y;break}if(k===h){b=!0,h=m,c=y;break}k=k.sibling}if(!b){for(k=y.child;k;){if(k===c){b=!0,c=y,h=m;break}if(k===h){b=!0,h=y,c=m;break}k=k.sibling}if(!b)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:o}function Uc(s){return s=Xd(s),s!==null?Ka(s):null}function Ka(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Ka(s);if(o!==null)return o;s=s.sibling}return null}var Qa=e.unstable_scheduleCallback,Bc=e.unstable_cancelCallback,Zd=e.unstable_shouldYield,ym=e.unstable_requestPaint,at=e.unstable_now,eh=e.unstable_getCurrentPriorityLevel,Oo=e.unstable_ImmediatePriority,Is=e.unstable_UserBlockingPriority,mr=e.unstable_NormalPriority,qc=e.unstable_LowPriority,th=e.unstable_IdlePriority,Vo=null,Zn=null;function nh(s){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(Vo,s,void 0,(s.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:ih,Hc=Math.log,rh=Math.LN2;function ih(s){return s>>>=0,s===0?32:31-(Hc(s)/rh|0)|0}var Ya=64,Ja=4194304;function bs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Mo(s,o){var c=s.pendingLanes;if(c===0)return 0;var h=0,m=s.suspendedLanes,y=s.pingedLanes,b=c&268435455;if(b!==0){var k=b&~m;k!==0?h=bs(k):(y&=b,y!==0&&(h=bs(y)))}else b=c&~m,b!==0?h=bs(b):y!==0&&(h=bs(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)c=31-Sn(o),m=1<<c,h|=s[c],o&=~m;return h}function vm(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ji(s,o){for(var c=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes;0<y;){var b=31-Sn(y),k=1<<b,D=m[b];D===-1?((k&c)===0||(k&h)!==0)&&(m[b]=vm(k,o)):D<=o&&(s.expiredLanes|=k),y&=~k}}function er(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Lo(){var s=Ya;return Ya<<=1,(Ya&4194240)===0&&(Ya=64),s}function Es(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Ts(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Sn(o),s[o]=c}function st(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var m=31-Sn(c),y=1<<m;o[m]=0,h[m]=-1,s[m]=-1,c&=~y}}function ks(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var h=31-Sn(c),m=1<<h;m&o|s[h]&o&&(s[h]|=o),c&=~m}}var qe=0;function Ps(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var sh,Xa,oh,ah,lh,$c=!1,si=[],on=null,jr=null,zr=null,Ss=new Map,gr=new Map,oi=[],wm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ch(s,o){switch(s){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":Ss.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":gr.delete(o.pointerId)}}function zn(s,o,c,h,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},o!==null&&(o=ou(o),o!==null&&Xa(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function _m(s,o,c,h,m){switch(o){case"focusin":return on=zn(on,s,o,c,h,m),!0;case"dragenter":return jr=zn(jr,s,o,c,h,m),!0;case"mouseover":return zr=zn(zr,s,o,c,h,m),!0;case"pointerover":var y=m.pointerId;return Ss.set(y,zn(Ss.get(y)||null,s,o,c,h,m)),!0;case"gotpointercapture":return y=m.pointerId,gr.set(y,zn(gr.get(y)||null,s,o,c,h,m)),!0}return!1}function uh(s){var o=Bo(s.target);if(o!==null){var c=Lr(o);if(c!==null){if(o=c.tag,o===13){if(o=No(c),o!==null){s.blockedOn=o,lh(s.priority,function(){oh(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function zi(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=Za(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Or=h,c.target.dispatchEvent(h),Or=null}else return o=ou(c),o!==null&&Xa(o),s.blockedOn=c,!1;o.shift()}return!0}function Fo(s,o,c){zi(s)&&c.delete(o)}function dh(){$c=!1,on!==null&&zi(on)&&(on=null),jr!==null&&zi(jr)&&(jr=null),zr!==null&&zi(zr)&&(zr=null),Ss.forEach(Fo),gr.forEach(Fo)}function Ur(s,o){s.blockedOn===o&&(s.blockedOn=null,$c||($c=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dh)))}function Br(s){function o(m){return Ur(m,s)}if(0<si.length){Ur(si[0],s);for(var c=1;c<si.length;c++){var h=si[c];h.blockedOn===s&&(h.blockedOn=null)}}for(on!==null&&Ur(on,s),jr!==null&&Ur(jr,s),zr!==null&&Ur(zr,s),Ss.forEach(o),gr.forEach(o),c=0;c<oi.length;c++)h=oi[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<oi.length&&(c=oi[0],c.blockedOn===null);)uh(c),c.blockedOn===null&&oi.shift()}var Ui=se.ReactCurrentBatchConfig,As=!0;function gt(s,o,c,h){var m=qe,y=Ui.transition;Ui.transition=null;try{qe=1,Wc(s,o,c,h)}finally{qe=m,Ui.transition=y}}function xm(s,o,c,h){var m=qe,y=Ui.transition;Ui.transition=null;try{qe=4,Wc(s,o,c,h)}finally{qe=m,Ui.transition=y}}function Wc(s,o,c,h){if(As){var m=Za(s,o,c,h);if(m===null)Dm(s,o,h,jo,c),ch(s,h);else if(_m(m,s,o,c,h))h.stopPropagation();else if(ch(s,h),o&4&&-1<wm.indexOf(s)){for(;m!==null;){var y=ou(m);if(y!==null&&sh(y),y=Za(s,o,c,h),y===null&&Dm(s,o,h,jo,c),y===m)break;m=y}m!==null&&h.stopPropagation()}else Dm(s,o,h,null,c)}}var jo=null;function Za(s,o,c,h){if(jo=null,s=xs(h),s=Bo(s),s!==null)if(o=Lr(s),o===null)s=null;else if(c=o.tag,c===13){if(s=No(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return jo=s,null}function Gc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eh()){case Oo:return 1;case Is:return 4;case mr:case qc:return 16;case th:return 536870912;default:return 16}default:return 16}}var tr=null,el=null,Un=null;function Kc(){if(Un)return Un;var s,o=el,c=o.length,h,m="value"in tr?tr.value:tr.textContent,y=m.length;for(s=0;s<c&&o[s]===m[s];s++);var b=c-s;for(h=1;h<=b&&o[c-h]===m[y-h];h++);return Un=m.slice(s,1<h?1-h:void 0)}function tl(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function ai(){return!0}function Qc(){return!1}function an(s){function o(c,h,m,y,b){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(c=s[k],this[k]=c?c(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ai:Qc,this.isPropagationStopped=Qc,this}return pe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),o}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=an(qr),li=pe({},qr,{view:0,detail:0}),Im=an(li),rl,Bi,Cs,zo=pe({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ci,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Cs&&(Cs&&s.type==="mousemove"?(rl=s.screenX-Cs.screenX,Bi=s.screenY-Cs.screenY):Bi=rl=0,Cs=s),rl)},movementY:function(s){return"movementY"in s?s.movementY:Bi}}),il=an(zo),Yc=pe({},zo,{dataTransfer:0}),hh=an(Yc),sl=pe({},li,{relatedTarget:0}),ol=an(sl),ph=pe({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),qi=an(ph),fh=pe({},qr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),mh=an(fh),gh=pe({},qr,{data:0}),Jc=an(gh),al={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vh(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=yh[s])?!!o[s]:!1}function ci(){return vh}var d=pe({},li,{key:function(s){if(s.key){var o=al[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=tl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?An[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ci,charCode:function(s){return s.type==="keypress"?tl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?tl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),g=an(d),x=pe({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=an(x),B=pe({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ci}),G=an(B),le=pe({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),nt=an(le),$t=pe({},zo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ge=an($t),Yt=[9,13,27,32],zt=u&&"CompositionEvent"in window,yr=null;u&&"documentMode"in document&&(yr=document.documentMode);var nr=u&&"TextEvent"in window&&!yr,Uo=u&&(!zt||yr&&8<yr&&11>=yr),ll=" ",D_=!1;function N_(s,o){switch(s){case"keyup":return Yt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function O_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var cl=!1;function OS(s,o){switch(s){case"compositionend":return O_(o);case"keypress":return o.which!==32?null:(D_=!0,ll);case"textInput":return s=o.data,s===ll&&D_?null:s;default:return null}}function VS(s,o){if(cl)return s==="compositionend"||!zt&&N_(s,o)?(s=Kc(),Un=el=tr=null,cl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Uo&&o.locale!=="ko"?null:o.data;default:return null}}var MS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V_(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!MS[s.type]:o==="textarea"}function M_(s,o,c,h){ii(h),o=bh(o,"onChange"),0<o.length&&(c=new nl("onChange","change",null,c,h),s.push({event:c,listeners:o}))}var Xc=null,Zc=null;function LS(s){e0(s,0)}function wh(s){var o=fl(s);if(Xn(o))return s}function FS(s,o){if(s==="change")return o}var L_=!1;if(u){var bm;if(u){var Em="oninput"in document;if(!Em){var F_=document.createElement("div");F_.setAttribute("oninput","return;"),Em=typeof F_.oninput=="function"}bm=Em}else bm=!1;L_=bm&&(!document.documentMode||9<document.documentMode)}function j_(){Xc&&(Xc.detachEvent("onpropertychange",z_),Zc=Xc=null)}function z_(s){if(s.propertyName==="value"&&wh(Zc)){var o=[];M_(o,Zc,s,xs(s)),jc(LS,o)}}function jS(s,o,c){s==="focusin"?(j_(),Xc=o,Zc=c,Xc.attachEvent("onpropertychange",z_)):s==="focusout"&&j_()}function zS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return wh(Zc)}function US(s,o){if(s==="click")return wh(o)}function BS(s,o){if(s==="input"||s==="change")return wh(o)}function qS(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Hr=typeof Object.is=="function"?Object.is:qS;function eu(s,o){if(Hr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!p.call(o,m)||!Hr(s[m],o[m]))return!1}return!0}function U_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function B_(s,o){var c=U_(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=o&&h>=o)return{node:c,offset:o-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=U_(c)}}function q_(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?q_(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function H_(){for(var s=window,o=Sr();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Sr(s.document)}return o}function Tm(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function HS(s){var o=H_(),c=s.focusedElem,h=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&q_(c.ownerDocument.documentElement,c)){if(h!==null&&Tm(c)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=c.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!s.extend&&y>h&&(m=h,h=y,y=m),m=B_(c,y);var b=B_(c,h);m&&b&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==b.node||s.focusOffset!==b.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),y>h?(s.addRange(o),s.extend(b.node,b.offset)):(o.setEnd(b.node,b.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var $S=u&&"documentMode"in document&&11>=document.documentMode,ul=null,km=null,tu=null,Pm=!1;function $_(s,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Pm||ul==null||ul!==Sr(h)||(h=ul,"selectionStart"in h&&Tm(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),tu&&eu(tu,h)||(tu=h,h=bh(km,"onSelect"),0<h.length&&(o=new nl("onSelect","select",null,o,c),s.push({event:o,listeners:h}),o.target=ul)))}function _h(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var dl={animationend:_h("Animation","AnimationEnd"),animationiteration:_h("Animation","AnimationIteration"),animationstart:_h("Animation","AnimationStart"),transitionend:_h("Transition","TransitionEnd")},Sm={},W_={};u&&(W_=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function xh(s){if(Sm[s])return Sm[s];if(!dl[s])return s;var o=dl[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in W_)return Sm[s]=o[c];return s}var G_=xh("animationend"),K_=xh("animationiteration"),Q_=xh("animationstart"),Y_=xh("transitionend"),J_=new Map,X_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rs(s,o){J_.set(s,o),a(o,[s])}for(var Am=0;Am<X_.length;Am++){var Cm=X_[Am],WS=Cm.toLowerCase(),GS=Cm[0].toUpperCase()+Cm.slice(1);Rs(WS,"on"+GS)}Rs(G_,"onAnimationEnd"),Rs(K_,"onAnimationIteration"),Rs(Q_,"onAnimationStart"),Rs("dblclick","onDoubleClick"),Rs("focusin","onFocus"),Rs("focusout","onBlur"),Rs(Y_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KS=new Set("cancel close invalid load scroll toggle".split(" ").concat(nu));function Z_(s,o,c){var h=s.type||"unknown-event";s.currentTarget=c,Jd(h,o,void 0,s),s.currentTarget=null}function e0(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],m=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var b=h.length-1;0<=b;b--){var k=h[b],D=k.instance,$=k.currentTarget;if(k=k.listener,D!==y&&m.isPropagationStopped())break e;Z_(m,k,$),y=D}else for(b=0;b<h.length;b++){if(k=h[b],D=k.instance,$=k.currentTarget,k=k.listener,D!==y&&m.isPropagationStopped())break e;Z_(m,k,$),y=D}}}if(Mr)throw s=zc,Mr=!1,zc=null,s}function dt(s,o){var c=o[Fm];c===void 0&&(c=o[Fm]=new Set);var h=s+"__bubble";c.has(h)||(t0(o,s,2,!1),c.add(h))}function Rm(s,o,c){var h=0;o&&(h|=4),t0(c,s,h,o)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function ru(s){if(!s[Ih]){s[Ih]=!0,r.forEach(function(c){c!=="selectionchange"&&(KS.has(c)||Rm(c,!1,s),Rm(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Ih]||(o[Ih]=!0,Rm("selectionchange",!1,o))}}function t0(s,o,c,h){switch(Gc(o)){case 1:var m=gt;break;case 4:m=xm;break;default:m=Wc}c=m.bind(null,o,c,s),m=void 0,!$a||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(o,c,{capture:!0,passive:m}):s.addEventListener(o,c,!0):m!==void 0?s.addEventListener(o,c,{passive:m}):s.addEventListener(o,c,!1)}function Dm(s,o,c,h,m){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var b=h.tag;if(b===3||b===4){var k=h.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(b===4)for(b=h.return;b!==null;){var D=b.tag;if((D===3||D===4)&&(D=b.stateNode.containerInfo,D===m||D.nodeType===8&&D.parentNode===m))return;b=b.return}for(;k!==null;){if(b=Bo(k),b===null)return;if(D=b.tag,D===5||D===6){h=y=b;continue e}k=k.parentNode}}h=h.return}jc(function(){var $=y,ne=xs(c),ie=[];e:{var ee=J_.get(s);if(ee!==void 0){var me=nl,xe=s;switch(s){case"keypress":if(tl(c)===0)break e;case"keydown":case"keyup":me=g;break;case"focusin":xe="focus",me=ol;break;case"focusout":xe="blur",me=ol;break;case"beforeblur":case"afterblur":me=ol;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=G;break;case G_:case K_:case Q_:me=qi;break;case Y_:me=nt;break;case"scroll":me=Im;break;case"wheel":me=Ge;break;case"copy":case"cut":case"paste":me=mh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=E}var be=(o&4)!==0,Ot=!be&&s==="scroll",q=be?ee!==null?ee+"Capture":null:ee;be=[];for(var M=$,H;M!==null;){H=M;var oe=H.stateNode;if(H.tag===5&&oe!==null&&(H=oe,q!==null&&(oe=Nt(M,q),oe!=null&&be.push(iu(M,oe,H)))),Ot)break;M=M.return}0<be.length&&(ee=new me(ee,xe,null,c,ne),ie.push({event:ee,listeners:be}))}}if((o&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",me=s==="mouseout"||s==="pointerout",ee&&c!==Or&&(xe=c.relatedTarget||c.fromElement)&&(Bo(xe)||xe[Hi]))break e;if((me||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,me?(xe=c.relatedTarget||c.toElement,me=$,xe=xe?Bo(xe):null,xe!==null&&(Ot=Lr(xe),xe!==Ot||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(me=null,xe=$),me!==xe)){if(be=il,oe="onMouseLeave",q="onMouseEnter",M="mouse",(s==="pointerout"||s==="pointerover")&&(be=E,oe="onPointerLeave",q="onPointerEnter",M="pointer"),Ot=me==null?ee:fl(me),H=xe==null?ee:fl(xe),ee=new be(oe,M+"leave",me,c,ne),ee.target=Ot,ee.relatedTarget=H,oe=null,Bo(ne)===$&&(be=new be(q,M+"enter",xe,c,ne),be.target=H,be.relatedTarget=Ot,oe=be),Ot=oe,me&&xe)t:{for(be=me,q=xe,M=0,H=be;H;H=hl(H))M++;for(H=0,oe=q;oe;oe=hl(oe))H++;for(;0<M-H;)be=hl(be),M--;for(;0<H-M;)q=hl(q),H--;for(;M--;){if(be===q||q!==null&&be===q.alternate)break t;be=hl(be),q=hl(q)}be=null}else be=null;me!==null&&n0(ie,ee,me,be,!1),xe!==null&&Ot!==null&&n0(ie,Ot,xe,be,!0)}}e:{if(ee=$?fl($):window,me=ee.nodeName&&ee.nodeName.toLowerCase(),me==="select"||me==="input"&&ee.type==="file")var Ee=FS;else if(V_(ee))if(L_)Ee=BS;else{Ee=zS;var Pe=jS}else(me=ee.nodeName)&&me.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(Ee=US);if(Ee&&(Ee=Ee(s,$))){M_(ie,Ee,c,ne);break e}Pe&&Pe(s,ee,$),s==="focusout"&&(Pe=ee._wrapperState)&&Pe.controlled&&ee.type==="number"&&Ar(ee,"number",ee.value)}switch(Pe=$?fl($):window,s){case"focusin":(V_(Pe)||Pe.contentEditable==="true")&&(ul=Pe,km=$,tu=null);break;case"focusout":tu=km=ul=null;break;case"mousedown":Pm=!0;break;case"contextmenu":case"mouseup":case"dragend":Pm=!1,$_(ie,c,ne);break;case"selectionchange":if($S)break;case"keydown":case"keyup":$_(ie,c,ne)}var Se;if(zt)e:{switch(s){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else cl?N_(s,c)&&(Ae="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ae="onCompositionStart");Ae&&(Uo&&c.locale!=="ko"&&(cl||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&cl&&(Se=Kc()):(tr=ne,el="value"in tr?tr.value:tr.textContent,cl=!0)),Pe=bh($,Ae),0<Pe.length&&(Ae=new Jc(Ae,s,null,c,ne),ie.push({event:Ae,listeners:Pe}),Se?Ae.data=Se:(Se=O_(c),Se!==null&&(Ae.data=Se)))),(Se=nr?OS(s,c):VS(s,c))&&($=bh($,"onBeforeInput"),0<$.length&&(ne=new Jc("onBeforeInput","beforeinput",null,c,ne),ie.push({event:ne,listeners:$}),ne.data=Se))}e0(ie,o)})}function iu(s,o,c){return{instance:s,listener:o,currentTarget:c}}function bh(s,o){for(var c=o+"Capture",h=[];s!==null;){var m=s,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=Nt(s,c),y!=null&&h.unshift(iu(s,y,m)),y=Nt(s,o),y!=null&&h.push(iu(s,y,m))),s=s.return}return h}function hl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function n0(s,o,c,h,m){for(var y=o._reactName,b=[];c!==null&&c!==h;){var k=c,D=k.alternate,$=k.stateNode;if(D!==null&&D===h)break;k.tag===5&&$!==null&&(k=$,m?(D=Nt(c,y),D!=null&&b.unshift(iu(c,D,k))):m||(D=Nt(c,y),D!=null&&b.push(iu(c,D,k)))),c=c.return}b.length!==0&&s.push({event:o,listeners:b})}var QS=/\r\n?/g,YS=/\u0000|\uFFFD/g;function r0(s){return(typeof s=="string"?s:""+s).replace(QS,`
`).replace(YS,"")}function Eh(s,o,c){if(o=r0(o),r0(s)!==o&&c)throw Error(t(425))}function Th(){}var Nm=null,Om=null;function Vm(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Mm=typeof setTimeout=="function"?setTimeout:void 0,JS=typeof clearTimeout=="function"?clearTimeout:void 0,i0=typeof Promise=="function"?Promise:void 0,XS=typeof queueMicrotask=="function"?queueMicrotask:typeof i0<"u"?function(s){return i0.resolve(null).then(s).catch(ZS)}:Mm;function ZS(s){setTimeout(function(){throw s})}function Lm(s,o){var c=o,h=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(h===0){s.removeChild(m),Br(o);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=m}while(c);Br(o)}function Ds(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function s0(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var pl=Math.random().toString(36).slice(2),ui="__reactFiber$"+pl,su="__reactProps$"+pl,Hi="__reactContainer$"+pl,Fm="__reactEvents$"+pl,eA="__reactListeners$"+pl,tA="__reactHandles$"+pl;function Bo(s){var o=s[ui];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Hi]||c[ui]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=s0(s);s!==null;){if(c=s[ui])return c;s=s0(s)}return o}s=c,c=s.parentNode}return null}function ou(s){return s=s[ui]||s[Hi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function fl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function kh(s){return s[su]||null}var jm=[],ml=-1;function Ns(s){return{current:s}}function ht(s){0>ml||(s.current=jm[ml],jm[ml]=null,ml--)}function lt(s,o){ml++,jm[ml]=s.current,s.current=o}var Os={},gn=Ns(Os),Bn=Ns(!1),qo=Os;function gl(s,o){var c=s.type.contextTypes;if(!c)return Os;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in c)m[y]=o[y];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function qn(s){return s=s.childContextTypes,s!=null}function Ph(){ht(Bn),ht(gn)}function o0(s,o,c){if(gn.current!==Os)throw Error(t(168));lt(gn,o),lt(Bn,c)}function a0(s,o,c){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,$e(s)||"Unknown",m));return pe({},c,h)}function Sh(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Os,qo=gn.current,lt(gn,s),lt(Bn,Bn.current),!0}function l0(s,o,c){var h=s.stateNode;if(!h)throw Error(t(169));c?(s=a0(s,o,qo),h.__reactInternalMemoizedMergedChildContext=s,ht(Bn),ht(gn),lt(gn,s)):ht(Bn),lt(Bn,c)}var $i=null,Ah=!1,zm=!1;function c0(s){$i===null?$i=[s]:$i.push(s)}function nA(s){Ah=!0,c0(s)}function Vs(){if(!zm&&$i!==null){zm=!0;var s=0,o=qe;try{var c=$i;for(qe=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}$i=null,Ah=!1}catch(m){throw $i!==null&&($i=$i.slice(s+1)),Qa(Oo,Vs),m}finally{qe=o,zm=!1}}return null}var yl=[],vl=0,Ch=null,Rh=0,vr=[],wr=0,Ho=null,Wi=1,Gi="";function $o(s,o){yl[vl++]=Rh,yl[vl++]=Ch,Ch=s,Rh=o}function u0(s,o,c){vr[wr++]=Wi,vr[wr++]=Gi,vr[wr++]=Ho,Ho=s;var h=Wi;s=Gi;var m=32-Sn(h)-1;h&=~(1<<m),c+=1;var y=32-Sn(o)+m;if(30<y){var b=m-m%5;y=(h&(1<<b)-1).toString(32),h>>=b,m-=b,Wi=1<<32-Sn(o)+m|c<<m|h,Gi=y+s}else Wi=1<<y|c<<m|h,Gi=s}function Um(s){s.return!==null&&($o(s,1),u0(s,1,0))}function Bm(s){for(;s===Ch;)Ch=yl[--vl],yl[vl]=null,Rh=yl[--vl],yl[vl]=null;for(;s===Ho;)Ho=vr[--wr],vr[wr]=null,Gi=vr[--wr],vr[wr]=null,Wi=vr[--wr],vr[wr]=null}var rr=null,ir=null,yt=!1,$r=null;function d0(s,o){var c=br(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function h0(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,rr=s,ir=Ds(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,rr=s,ir=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Ho!==null?{id:Wi,overflow:Gi}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=br(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,rr=s,ir=null,!0):!1;default:return!1}}function qm(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Hm(s){if(yt){var o=ir;if(o){var c=o;if(!h0(s,o)){if(qm(s))throw Error(t(418));o=Ds(c.nextSibling);var h=rr;o&&h0(s,o)?d0(h,c):(s.flags=s.flags&-4097|2,yt=!1,rr=s)}}else{if(qm(s))throw Error(t(418));s.flags=s.flags&-4097|2,yt=!1,rr=s}}}function p0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;rr=s}function Dh(s){if(s!==rr)return!1;if(!yt)return p0(s),yt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Vm(s.type,s.memoizedProps)),o&&(o=ir)){if(qm(s))throw f0(),Error(t(418));for(;o;)d0(s,o),o=Ds(o.nextSibling)}if(p0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){ir=Ds(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}ir=null}}else ir=rr?Ds(s.stateNode.nextSibling):null;return!0}function f0(){for(var s=ir;s;)s=Ds(s.nextSibling)}function wl(){ir=rr=null,yt=!1}function $m(s){$r===null?$r=[s]:$r.push(s)}var rA=se.ReactCurrentBatchConfig;function au(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,s));var m=h,y=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(b){var k=m.refs;b===null?delete k[y]:k[y]=b},o._stringRef=y,o)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Nh(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function m0(s){var o=s._init;return o(s._payload)}function g0(s){function o(q,M){if(s){var H=q.deletions;H===null?(q.deletions=[M],q.flags|=16):H.push(M)}}function c(q,M){if(!s)return null;for(;M!==null;)o(q,M),M=M.sibling;return null}function h(q,M){for(q=new Map;M!==null;)M.key!==null?q.set(M.key,M):q.set(M.index,M),M=M.sibling;return q}function m(q,M){return q=qs(q,M),q.index=0,q.sibling=null,q}function y(q,M,H){return q.index=H,s?(H=q.alternate,H!==null?(H=H.index,H<M?(q.flags|=2,M):H):(q.flags|=2,M)):(q.flags|=1048576,M)}function b(q){return s&&q.alternate===null&&(q.flags|=2),q}function k(q,M,H,oe){return M===null||M.tag!==6?(M=Mg(H,q.mode,oe),M.return=q,M):(M=m(M,H),M.return=q,M)}function D(q,M,H,oe){var Ee=H.type;return Ee===R?ne(q,M,H.props.children,oe,H.key):M!==null&&(M.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===jt&&m0(Ee)===M.type)?(oe=m(M,H.props),oe.ref=au(q,M,H),oe.return=q,oe):(oe=rp(H.type,H.key,H.props,null,q.mode,oe),oe.ref=au(q,M,H),oe.return=q,oe)}function $(q,M,H,oe){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=Lg(H,q.mode,oe),M.return=q,M):(M=m(M,H.children||[]),M.return=q,M)}function ne(q,M,H,oe,Ee){return M===null||M.tag!==7?(M=Zo(H,q.mode,oe,Ee),M.return=q,M):(M=m(M,H),M.return=q,M)}function ie(q,M,H){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Mg(""+M,q.mode,H),M.return=q,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case ve:return H=rp(M.type,M.key,M.props,null,q.mode,H),H.ref=au(q,null,M),H.return=q,H;case _e:return M=Lg(M,q.mode,H),M.return=q,M;case jt:var oe=M._init;return ie(q,oe(M._payload),H)}if(jn(M)||ge(M))return M=Zo(M,q.mode,H,null),M.return=q,M;Nh(q,M)}return null}function ee(q,M,H,oe){var Ee=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return Ee!==null?null:k(q,M,""+H,oe);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ve:return H.key===Ee?D(q,M,H,oe):null;case _e:return H.key===Ee?$(q,M,H,oe):null;case jt:return Ee=H._init,ee(q,M,Ee(H._payload),oe)}if(jn(H)||ge(H))return Ee!==null?null:ne(q,M,H,oe,null);Nh(q,H)}return null}function me(q,M,H,oe,Ee){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return q=q.get(H)||null,k(M,q,""+oe,Ee);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case ve:return q=q.get(oe.key===null?H:oe.key)||null,D(M,q,oe,Ee);case _e:return q=q.get(oe.key===null?H:oe.key)||null,$(M,q,oe,Ee);case jt:var Pe=oe._init;return me(q,M,H,Pe(oe._payload),Ee)}if(jn(oe)||ge(oe))return q=q.get(H)||null,ne(M,q,oe,Ee,null);Nh(M,oe)}return null}function xe(q,M,H,oe){for(var Ee=null,Pe=null,Se=M,Ae=M=0,Zt=null;Se!==null&&Ae<H.length;Ae++){Se.index>Ae?(Zt=Se,Se=null):Zt=Se.sibling;var Ye=ee(q,Se,H[Ae],oe);if(Ye===null){Se===null&&(Se=Zt);break}s&&Se&&Ye.alternate===null&&o(q,Se),M=y(Ye,M,Ae),Pe===null?Ee=Ye:Pe.sibling=Ye,Pe=Ye,Se=Zt}if(Ae===H.length)return c(q,Se),yt&&$o(q,Ae),Ee;if(Se===null){for(;Ae<H.length;Ae++)Se=ie(q,H[Ae],oe),Se!==null&&(M=y(Se,M,Ae),Pe===null?Ee=Se:Pe.sibling=Se,Pe=Se);return yt&&$o(q,Ae),Ee}for(Se=h(q,Se);Ae<H.length;Ae++)Zt=me(Se,q,Ae,H[Ae],oe),Zt!==null&&(s&&Zt.alternate!==null&&Se.delete(Zt.key===null?Ae:Zt.key),M=y(Zt,M,Ae),Pe===null?Ee=Zt:Pe.sibling=Zt,Pe=Zt);return s&&Se.forEach(function(Hs){return o(q,Hs)}),yt&&$o(q,Ae),Ee}function be(q,M,H,oe){var Ee=ge(H);if(typeof Ee!="function")throw Error(t(150));if(H=Ee.call(H),H==null)throw Error(t(151));for(var Pe=Ee=null,Se=M,Ae=M=0,Zt=null,Ye=H.next();Se!==null&&!Ye.done;Ae++,Ye=H.next()){Se.index>Ae?(Zt=Se,Se=null):Zt=Se.sibling;var Hs=ee(q,Se,Ye.value,oe);if(Hs===null){Se===null&&(Se=Zt);break}s&&Se&&Hs.alternate===null&&o(q,Se),M=y(Hs,M,Ae),Pe===null?Ee=Hs:Pe.sibling=Hs,Pe=Hs,Se=Zt}if(Ye.done)return c(q,Se),yt&&$o(q,Ae),Ee;if(Se===null){for(;!Ye.done;Ae++,Ye=H.next())Ye=ie(q,Ye.value,oe),Ye!==null&&(M=y(Ye,M,Ae),Pe===null?Ee=Ye:Pe.sibling=Ye,Pe=Ye);return yt&&$o(q,Ae),Ee}for(Se=h(q,Se);!Ye.done;Ae++,Ye=H.next())Ye=me(Se,q,Ae,Ye.value,oe),Ye!==null&&(s&&Ye.alternate!==null&&Se.delete(Ye.key===null?Ae:Ye.key),M=y(Ye,M,Ae),Pe===null?Ee=Ye:Pe.sibling=Ye,Pe=Ye);return s&&Se.forEach(function(MA){return o(q,MA)}),yt&&$o(q,Ae),Ee}function Ot(q,M,H,oe){if(typeof H=="object"&&H!==null&&H.type===R&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case ve:e:{for(var Ee=H.key,Pe=M;Pe!==null;){if(Pe.key===Ee){if(Ee=H.type,Ee===R){if(Pe.tag===7){c(q,Pe.sibling),M=m(Pe,H.props.children),M.return=q,q=M;break e}}else if(Pe.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===jt&&m0(Ee)===Pe.type){c(q,Pe.sibling),M=m(Pe,H.props),M.ref=au(q,Pe,H),M.return=q,q=M;break e}c(q,Pe);break}else o(q,Pe);Pe=Pe.sibling}H.type===R?(M=Zo(H.props.children,q.mode,oe,H.key),M.return=q,q=M):(oe=rp(H.type,H.key,H.props,null,q.mode,oe),oe.ref=au(q,M,H),oe.return=q,q=oe)}return b(q);case _e:e:{for(Pe=H.key;M!==null;){if(M.key===Pe)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){c(q,M.sibling),M=m(M,H.children||[]),M.return=q,q=M;break e}else{c(q,M);break}else o(q,M);M=M.sibling}M=Lg(H,q.mode,oe),M.return=q,q=M}return b(q);case jt:return Pe=H._init,Ot(q,M,Pe(H._payload),oe)}if(jn(H))return xe(q,M,H,oe);if(ge(H))return be(q,M,H,oe);Nh(q,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,M!==null&&M.tag===6?(c(q,M.sibling),M=m(M,H),M.return=q,q=M):(c(q,M),M=Mg(H,q.mode,oe),M.return=q,q=M),b(q)):c(q,M)}return Ot}var _l=g0(!0),y0=g0(!1),Oh=Ns(null),Vh=null,xl=null,Wm=null;function Gm(){Wm=xl=Vh=null}function Km(s){var o=Oh.current;ht(Oh),s._currentValue=o}function Qm(s,o,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===c)break;s=s.return}}function Il(s,o){Vh=s,Wm=xl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Hn=!0),s.firstContext=null)}function _r(s){var o=s._currentValue;if(Wm!==s)if(s={context:s,memoizedValue:o,next:null},xl===null){if(Vh===null)throw Error(t(308));xl=s,Vh.dependencies={lanes:0,firstContext:s}}else xl=xl.next=s;return o}var Wo=null;function Ym(s){Wo===null?Wo=[s]:Wo.push(s)}function v0(s,o,c,h){var m=o.interleaved;return m===null?(c.next=c,Ym(o)):(c.next=m.next,m.next=c),o.interleaved=c,Ki(s,h)}function Ki(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Ms=!1;function Jm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Qi(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ls(s,o,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Qe&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Ki(s,c)}return m=h.interleaved,m===null?(o.next=o,Ym(h)):(o.next=m.next,m.next=o),h.interleaved=o,Ki(s,c)}function Mh(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,ks(s,c)}}function _0(s,o){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var b={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?m=y=b:y=y.next=b,c=c.next}while(c!==null);y===null?m=y=o:y=y.next=o}else m=y=o;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function Lh(s,o,c,h){var m=s.updateQueue;Ms=!1;var y=m.firstBaseUpdate,b=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var D=k,$=D.next;D.next=null,b===null?y=$:b.next=$,b=D;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,k=ne.lastBaseUpdate,k!==b&&(k===null?ne.firstBaseUpdate=$:k.next=$,ne.lastBaseUpdate=D))}if(y!==null){var ie=m.baseState;b=0,ne=$=D=null,k=y;do{var ee=k.lane,me=k.eventTime;if((h&ee)===ee){ne!==null&&(ne=ne.next={eventTime:me,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var xe=s,be=k;switch(ee=o,me=c,be.tag){case 1:if(xe=be.payload,typeof xe=="function"){ie=xe.call(me,ie,ee);break e}ie=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=be.payload,ee=typeof xe=="function"?xe.call(me,ie,ee):xe,ee==null)break e;ie=pe({},ie,ee);break e;case 2:Ms=!0}}k.callback!==null&&k.lane!==0&&(s.flags|=64,ee=m.effects,ee===null?m.effects=[k]:ee.push(k))}else me={eventTime:me,lane:ee,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ne===null?($=ne=me,D=ie):ne=ne.next=me,b|=ee;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;ee=k,k=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(ne===null&&(D=ie),m.baseState=D,m.firstBaseUpdate=$,m.lastBaseUpdate=ne,o=m.shared.interleaved,o!==null){m=o;do b|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);Qo|=b,s.lanes=b,s.memoizedState=ie}}function x0(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],m=h.callback;if(m!==null){if(h.callback=null,h=c,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var lu={},di=Ns(lu),cu=Ns(lu),uu=Ns(lu);function Go(s){if(s===lu)throw Error(t(174));return s}function Xm(s,o){switch(lt(uu,o),lt(cu,s),lt(di,lu),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Fe(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Fe(o,s)}ht(di),lt(di,o)}function bl(){ht(di),ht(cu),ht(uu)}function I0(s){Go(uu.current);var o=Go(di.current),c=Fe(o,s.type);o!==c&&(lt(cu,s),lt(di,c))}function Zm(s){cu.current===s&&(ht(di),ht(cu))}var bt=Ns(0);function Fh(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var eg=[];function tg(){for(var s=0;s<eg.length;s++)eg[s]._workInProgressVersionPrimary=null;eg.length=0}var jh=se.ReactCurrentDispatcher,ng=se.ReactCurrentBatchConfig,Ko=0,Et=null,Wt=null,Jt=null,zh=!1,du=!1,hu=0,iA=0;function yn(){throw Error(t(321))}function rg(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Hr(s[c],o[c]))return!1;return!0}function ig(s,o,c,h,m,y){if(Ko=y,Et=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,jh.current=s===null||s.memoizedState===null?lA:cA,s=c(h,m),du){y=0;do{if(du=!1,hu=0,25<=y)throw Error(t(301));y+=1,Jt=Wt=null,o.updateQueue=null,jh.current=uA,s=c(h,m)}while(du)}if(jh.current=qh,o=Wt!==null&&Wt.next!==null,Ko=0,Jt=Wt=Et=null,zh=!1,o)throw Error(t(300));return s}function sg(){var s=hu!==0;return hu=0,s}function hi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Et.memoizedState=Jt=s:Jt=Jt.next=s,Jt}function xr(){if(Wt===null){var s=Et.alternate;s=s!==null?s.memoizedState:null}else s=Wt.next;var o=Jt===null?Et.memoizedState:Jt.next;if(o!==null)Jt=o,Wt=s;else{if(s===null)throw Error(t(310));Wt=s,s={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Jt===null?Et.memoizedState=Jt=s:Jt=Jt.next=s}return Jt}function pu(s,o){return typeof o=="function"?o(s):o}function og(s){var o=xr(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=Wt,m=h.baseQueue,y=c.pending;if(y!==null){if(m!==null){var b=m.next;m.next=y.next,y.next=b}h.baseQueue=m=y,c.pending=null}if(m!==null){y=m.next,h=h.baseState;var k=b=null,D=null,$=y;do{var ne=$.lane;if((Ko&ne)===ne)D!==null&&(D=D.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:s(h,$.action);else{var ie={lane:ne,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};D===null?(k=D=ie,b=h):D=D.next=ie,Et.lanes|=ne,Qo|=ne}$=$.next}while($!==null&&$!==y);D===null?b=h:D.next=k,Hr(h,o.memoizedState)||(Hn=!0),o.memoizedState=h,o.baseState=b,o.baseQueue=D,c.lastRenderedState=h}if(s=c.interleaved,s!==null){m=s;do y=m.lane,Et.lanes|=y,Qo|=y,m=m.next;while(m!==s)}else m===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function ag(s){var o=xr(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=c.dispatch,m=c.pending,y=o.memoizedState;if(m!==null){c.pending=null;var b=m=m.next;do y=s(y,b.action),b=b.next;while(b!==m);Hr(y,o.memoizedState)||(Hn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),c.lastRenderedState=y}return[y,h]}function b0(){}function E0(s,o){var c=Et,h=xr(),m=o(),y=!Hr(h.memoizedState,m);if(y&&(h.memoizedState=m,Hn=!0),h=h.queue,lg(P0.bind(null,c,h,s),[s]),h.getSnapshot!==o||y||Jt!==null&&Jt.memoizedState.tag&1){if(c.flags|=2048,fu(9,k0.bind(null,c,h,m,o),void 0,null),Xt===null)throw Error(t(349));(Ko&30)!==0||T0(c,o,m)}return m}function T0(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Et.updateQueue,o===null?(o={lastEffect:null,stores:null},Et.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function k0(s,o,c,h){o.value=c,o.getSnapshot=h,S0(o)&&A0(s)}function P0(s,o,c){return c(function(){S0(o)&&A0(s)})}function S0(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Hr(s,c)}catch{return!0}}function A0(s){var o=Ki(s,1);o!==null&&Qr(o,s,1,-1)}function C0(s){var o=hi();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pu,lastRenderedState:s},o.queue=s,s=s.dispatch=aA.bind(null,Et,s),[o.memoizedState,s]}function fu(s,o,c,h){return s={tag:s,create:o,destroy:c,deps:h,next:null},o=Et.updateQueue,o===null?(o={lastEffect:null,stores:null},Et.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,o.lastEffect=s)),s}function R0(){return xr().memoizedState}function Uh(s,o,c,h){var m=hi();Et.flags|=s,m.memoizedState=fu(1|o,c,void 0,h===void 0?null:h)}function Bh(s,o,c,h){var m=xr();h=h===void 0?null:h;var y=void 0;if(Wt!==null){var b=Wt.memoizedState;if(y=b.destroy,h!==null&&rg(h,b.deps)){m.memoizedState=fu(o,c,y,h);return}}Et.flags|=s,m.memoizedState=fu(1|o,c,y,h)}function D0(s,o){return Uh(8390656,8,s,o)}function lg(s,o){return Bh(2048,8,s,o)}function N0(s,o){return Bh(4,2,s,o)}function O0(s,o){return Bh(4,4,s,o)}function V0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function M0(s,o,c){return c=c!=null?c.concat([s]):null,Bh(4,4,V0.bind(null,o,s),c)}function cg(){}function L0(s,o){var c=xr();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&rg(o,h[1])?h[0]:(c.memoizedState=[s,o],s)}function F0(s,o){var c=xr();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&rg(o,h[1])?h[0]:(s=s(),c.memoizedState=[s,o],s)}function j0(s,o,c){return(Ko&21)===0?(s.baseState&&(s.baseState=!1,Hn=!0),s.memoizedState=c):(Hr(c,o)||(c=Lo(),Et.lanes|=c,Qo|=c,s.baseState=!0),o)}function sA(s,o){var c=qe;qe=c!==0&&4>c?c:4,s(!0);var h=ng.transition;ng.transition={};try{s(!1),o()}finally{qe=c,ng.transition=h}}function z0(){return xr().memoizedState}function oA(s,o,c){var h=Us(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},U0(s))B0(o,c);else if(c=v0(s,o,c,h),c!==null){var m=Rn();Qr(c,s,h,m),q0(c,o,h)}}function aA(s,o,c){var h=Us(s),m={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(U0(s))B0(o,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var b=o.lastRenderedState,k=y(b,c);if(m.hasEagerState=!0,m.eagerState=k,Hr(k,b)){var D=o.interleaved;D===null?(m.next=m,Ym(o)):(m.next=D.next,D.next=m),o.interleaved=m;return}}catch{}finally{}c=v0(s,o,m,h),c!==null&&(m=Rn(),Qr(c,s,h,m),q0(c,o,h))}}function U0(s){var o=s.alternate;return s===Et||o!==null&&o===Et}function B0(s,o){du=zh=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function q0(s,o,c){if((c&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,ks(s,c)}}var qh={readContext:_r,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},lA={readContext:_r,useCallback:function(s,o){return hi().memoizedState=[s,o===void 0?null:o],s},useContext:_r,useEffect:D0,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,Uh(4194308,4,V0.bind(null,o,s),c)},useLayoutEffect:function(s,o){return Uh(4194308,4,s,o)},useInsertionEffect:function(s,o){return Uh(4,2,s,o)},useMemo:function(s,o){var c=hi();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var h=hi();return o=c!==void 0?c(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=oA.bind(null,Et,s),[h.memoizedState,s]},useRef:function(s){var o=hi();return s={current:s},o.memoizedState=s},useState:C0,useDebugValue:cg,useDeferredValue:function(s){return hi().memoizedState=s},useTransition:function(){var s=C0(!1),o=s[0];return s=sA.bind(null,s[1]),hi().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var h=Et,m=hi();if(yt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),Xt===null)throw Error(t(349));(Ko&30)!==0||T0(h,o,c)}m.memoizedState=c;var y={value:c,getSnapshot:o};return m.queue=y,D0(P0.bind(null,h,y,s),[s]),h.flags|=2048,fu(9,k0.bind(null,h,y,c,o),void 0,null),c},useId:function(){var s=hi(),o=Xt.identifierPrefix;if(yt){var c=Gi,h=Wi;c=(h&~(1<<32-Sn(h)-1)).toString(32)+c,o=":"+o+"R"+c,c=hu++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=iA++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},cA={readContext:_r,useCallback:L0,useContext:_r,useEffect:lg,useImperativeHandle:M0,useInsertionEffect:N0,useLayoutEffect:O0,useMemo:F0,useReducer:og,useRef:R0,useState:function(){return og(pu)},useDebugValue:cg,useDeferredValue:function(s){var o=xr();return j0(o,Wt.memoizedState,s)},useTransition:function(){var s=og(pu)[0],o=xr().memoizedState;return[s,o]},useMutableSource:b0,useSyncExternalStore:E0,useId:z0,unstable_isNewReconciler:!1},uA={readContext:_r,useCallback:L0,useContext:_r,useEffect:lg,useImperativeHandle:M0,useInsertionEffect:N0,useLayoutEffect:O0,useMemo:F0,useReducer:ag,useRef:R0,useState:function(){return ag(pu)},useDebugValue:cg,useDeferredValue:function(s){var o=xr();return Wt===null?o.memoizedState=s:j0(o,Wt.memoizedState,s)},useTransition:function(){var s=ag(pu)[0],o=xr().memoizedState;return[s,o]},useMutableSource:b0,useSyncExternalStore:E0,useId:z0,unstable_isNewReconciler:!1};function Wr(s,o){if(s&&s.defaultProps){o=pe({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function ug(s,o,c,h){o=s.memoizedState,c=c(h,o),c=c==null?o:pe({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Hh={isMounted:function(s){return(s=s._reactInternals)?Lr(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var h=Rn(),m=Us(s),y=Qi(h,m);y.payload=o,c!=null&&(y.callback=c),o=Ls(s,y,m),o!==null&&(Qr(o,s,m,h),Mh(o,s,m))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var h=Rn(),m=Us(s),y=Qi(h,m);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=Ls(s,y,m),o!==null&&(Qr(o,s,m,h),Mh(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Rn(),h=Us(s),m=Qi(c,h);m.tag=2,o!=null&&(m.callback=o),o=Ls(s,m,h),o!==null&&(Qr(o,s,h,c),Mh(o,s,h))}};function H0(s,o,c,h,m,y,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,b):o.prototype&&o.prototype.isPureReactComponent?!eu(c,h)||!eu(m,y):!0}function $0(s,o,c){var h=!1,m=Os,y=o.contextType;return typeof y=="object"&&y!==null?y=_r(y):(m=qn(o)?qo:gn.current,h=o.contextTypes,y=(h=h!=null)?gl(s,m):Os),o=new o(c,y),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Hh,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=y),o}function W0(s,o,c,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==s&&Hh.enqueueReplaceState(o,o.state,null)}function dg(s,o,c,h){var m=s.stateNode;m.props=c,m.state=s.memoizedState,m.refs={},Jm(s);var y=o.contextType;typeof y=="object"&&y!==null?m.context=_r(y):(y=qn(o)?qo:gn.current,m.context=gl(s,y)),m.state=s.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(ug(s,o,y,c),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Hh.enqueueReplaceState(m,m.state,null),Lh(s,c,m,h),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function El(s,o){try{var c="",h=o;do c+=Ce(h),h=h.return;while(h);var m=c}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:o,stack:m,digest:null}}function hg(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function pg(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var dA=typeof WeakMap=="function"?WeakMap:Map;function G0(s,o,c){c=Qi(-1,c),c.tag=3,c.payload={element:null};var h=o.value;return c.callback=function(){Jh||(Jh=!0,Sg=h),pg(s,o)},c}function K0(s,o,c){c=Qi(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;c.payload=function(){return h(m)},c.callback=function(){pg(s,o)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){pg(s,o),typeof h!="function"&&(js===null?js=new Set([this]):js.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})}),c}function Q0(s,o,c){var h=s.pingCache;if(h===null){h=s.pingCache=new dA;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(c)||(m.add(c),s=TA.bind(null,s,o,c),o.then(s,s))}function Y0(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function J0(s,o,c,h,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Qi(-1,1),o.tag=2,Ls(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var hA=se.ReactCurrentOwner,Hn=!1;function Cn(s,o,c,h){o.child=s===null?y0(o,null,c,h):_l(o,s.child,c,h)}function X0(s,o,c,h,m){c=c.render;var y=o.ref;return Il(o,m),h=ig(s,o,c,h,y,m),c=sg(),s!==null&&!Hn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Yi(s,o,m)):(yt&&c&&Um(o),o.flags|=1,Cn(s,o,h,m),o.child)}function Z0(s,o,c,h,m){if(s===null){var y=c.type;return typeof y=="function"&&!Vg(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=y,ex(s,o,y,h,m)):(s=rp(c.type,null,h,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,(s.lanes&m)===0){var b=y.memoizedProps;if(c=c.compare,c=c!==null?c:eu,c(b,h)&&s.ref===o.ref)return Yi(s,o,m)}return o.flags|=1,s=qs(y,h),s.ref=o.ref,s.return=o,o.child=s}function ex(s,o,c,h,m){if(s!==null){var y=s.memoizedProps;if(eu(y,h)&&s.ref===o.ref)if(Hn=!1,o.pendingProps=h=y,(s.lanes&m)!==0)(s.flags&131072)!==0&&(Hn=!0);else return o.lanes=s.lanes,Yi(s,o,m)}return fg(s,o,c,h,m)}function tx(s,o,c){var h=o.pendingProps,m=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(kl,sr),sr|=c;else{if((c&1073741824)===0)return s=y!==null?y.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,lt(kl,sr),sr|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:c,lt(kl,sr),sr|=h}else y!==null?(h=y.baseLanes|c,o.memoizedState=null):h=c,lt(kl,sr),sr|=h;return Cn(s,o,m,c),o.child}function nx(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function fg(s,o,c,h,m){var y=qn(c)?qo:gn.current;return y=gl(o,y),Il(o,m),c=ig(s,o,c,h,y,m),h=sg(),s!==null&&!Hn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Yi(s,o,m)):(yt&&h&&Um(o),o.flags|=1,Cn(s,o,c,m),o.child)}function rx(s,o,c,h,m){if(qn(c)){var y=!0;Sh(o)}else y=!1;if(Il(o,m),o.stateNode===null)Wh(s,o),$0(o,c,h),dg(o,c,h,m),h=!0;else if(s===null){var b=o.stateNode,k=o.memoizedProps;b.props=k;var D=b.context,$=c.contextType;typeof $=="object"&&$!==null?$=_r($):($=qn(c)?qo:gn.current,$=gl(o,$));var ne=c.getDerivedStateFromProps,ie=typeof ne=="function"||typeof b.getSnapshotBeforeUpdate=="function";ie||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==h||D!==$)&&W0(o,b,h,$),Ms=!1;var ee=o.memoizedState;b.state=ee,Lh(o,h,b,m),D=o.memoizedState,k!==h||ee!==D||Bn.current||Ms?(typeof ne=="function"&&(ug(o,c,ne,h),D=o.memoizedState),(k=Ms||H0(o,c,k,h,ee,D,$))?(ie||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=D),b.props=h,b.state=D,b.context=$,h=k):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{b=o.stateNode,w0(s,o),k=o.memoizedProps,$=o.type===o.elementType?k:Wr(o.type,k),b.props=$,ie=o.pendingProps,ee=b.context,D=c.contextType,typeof D=="object"&&D!==null?D=_r(D):(D=qn(c)?qo:gn.current,D=gl(o,D));var me=c.getDerivedStateFromProps;(ne=typeof me=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==ie||ee!==D)&&W0(o,b,h,D),Ms=!1,ee=o.memoizedState,b.state=ee,Lh(o,h,b,m);var xe=o.memoizedState;k!==ie||ee!==xe||Bn.current||Ms?(typeof me=="function"&&(ug(o,c,me,h),xe=o.memoizedState),($=Ms||H0(o,c,$,h,ee,xe,D)||!1)?(ne||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,xe,D),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,xe,D)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=xe),b.props=h,b.state=xe,b.context=D,h=$):(typeof b.componentDidUpdate!="function"||k===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),h=!1)}return mg(s,o,c,h,y,m)}function mg(s,o,c,h,m,y){nx(s,o);var b=(o.flags&128)!==0;if(!h&&!b)return m&&l0(o,c,!1),Yi(s,o,y);h=o.stateNode,hA.current=o;var k=b&&typeof c.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&b?(o.child=_l(o,s.child,null,y),o.child=_l(o,null,k,y)):Cn(s,o,k,y),o.memoizedState=h.state,m&&l0(o,c,!0),o.child}function ix(s){var o=s.stateNode;o.pendingContext?o0(s,o.pendingContext,o.pendingContext!==o.context):o.context&&o0(s,o.context,!1),Xm(s,o.containerInfo)}function sx(s,o,c,h,m){return wl(),$m(m),o.flags|=256,Cn(s,o,c,h),o.child}var gg={dehydrated:null,treeContext:null,retryLane:0};function yg(s){return{baseLanes:s,cachePool:null,transitions:null}}function ox(s,o,c){var h=o.pendingProps,m=bt.current,y=!1,b=(o.flags&128)!==0,k;if((k=b)||(k=s!==null&&s.memoizedState===null?!1:(m&2)!==0),k?(y=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),lt(bt,m&1),s===null)return Hm(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(b=h.children,s=h.fallback,y?(h=o.mode,y=o.child,b={mode:"hidden",children:b},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=b):y=ip(b,h,0,null),s=Zo(s,h,c,null),y.return=o,s.return=o,y.sibling=s,o.child=y,o.child.memoizedState=yg(c),o.memoizedState=gg,s):vg(o,b));if(m=s.memoizedState,m!==null&&(k=m.dehydrated,k!==null))return pA(s,o,b,h,k,m,c);if(y){y=h.fallback,b=o.mode,m=s.child,k=m.sibling;var D={mode:"hidden",children:h.children};return(b&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=D,o.deletions=null):(h=qs(m,D),h.subtreeFlags=m.subtreeFlags&14680064),k!==null?y=qs(k,y):(y=Zo(y,b,c,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,b=s.child.memoizedState,b=b===null?yg(c):{baseLanes:b.baseLanes|c,cachePool:null,transitions:b.transitions},y.memoizedState=b,y.childLanes=s.childLanes&~c,o.memoizedState=gg,h}return y=s.child,s=y.sibling,h=qs(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=c),h.return=o,h.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=h,o.memoizedState=null,h}function vg(s,o){return o=ip({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function $h(s,o,c,h){return h!==null&&$m(h),_l(o,s.child,null,c),s=vg(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function pA(s,o,c,h,m,y,b){if(c)return o.flags&256?(o.flags&=-257,h=hg(Error(t(422))),$h(s,o,b,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(y=h.fallback,m=o.mode,h=ip({mode:"visible",children:h.children},m,0,null),y=Zo(y,m,b,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&_l(o,s.child,null,b),o.child.memoizedState=yg(b),o.memoizedState=gg,y);if((o.mode&1)===0)return $h(s,o,b,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var k=h.dgst;return h=k,y=Error(t(419)),h=hg(y,h,void 0),$h(s,o,b,h)}if(k=(b&s.childLanes)!==0,Hn||k){if(h=Xt,h!==null){switch(b&-b){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|b))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Ki(s,m),Qr(h,s,m,-1))}return Og(),h=hg(Error(t(421))),$h(s,o,b,h)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=kA.bind(null,s),m._reactRetry=o,null):(s=y.treeContext,ir=Ds(m.nextSibling),rr=o,yt=!0,$r=null,s!==null&&(vr[wr++]=Wi,vr[wr++]=Gi,vr[wr++]=Ho,Wi=s.id,Gi=s.overflow,Ho=o),o=vg(o,h.children),o.flags|=4096,o)}function ax(s,o,c){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),Qm(s.return,o,c)}function wg(s,o,c,h,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=c,y.tailMode=m)}function lx(s,o,c){var h=o.pendingProps,m=h.revealOrder,y=h.tail;if(Cn(s,o,h.children,c),h=bt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ax(s,c,o);else if(s.tag===19)ax(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(lt(bt,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(c=o.child,m=null;c!==null;)s=c.alternate,s!==null&&Fh(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=o.child,o.child=null):(m=c.sibling,c.sibling=null),wg(o,!1,m,c,y);break;case"backwards":for(c=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&Fh(s)===null){o.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}wg(o,!0,c,null,y);break;case"together":wg(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Wh(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Yi(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Qo|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,c=qs(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=qs(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function fA(s,o,c){switch(o.tag){case 3:ix(o),wl();break;case 5:I0(o);break;case 1:qn(o.type)&&Sh(o);break;case 4:Xm(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;lt(Oh,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(lt(bt,bt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?ox(s,o,c):(lt(bt,bt.current&1),s=Yi(s,o,c),s!==null?s.sibling:null);lt(bt,bt.current&1);break;case 19:if(h=(c&o.childLanes)!==0,(s.flags&128)!==0){if(h)return lx(s,o,c);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),lt(bt,bt.current),h)break;return null;case 22:case 23:return o.lanes=0,tx(s,o,c)}return Yi(s,o,c)}var cx,_g,ux,dx;cx=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},_g=function(){},ux=function(s,o,c,h){var m=s.memoizedProps;if(m!==h){s=o.stateNode,Go(di.current);var y=null;switch(c){case"input":m=ti(s,m),h=ti(s,h),y=[];break;case"select":m=pe({},m,{value:void 0}),h=pe({},h,{value:void 0}),y=[];break;case"textarea":m=Ao(s,m),h=Ao(s,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Th)}Mi(c,h);var b;c=null;for($ in m)if(!h.hasOwnProperty($)&&m.hasOwnProperty($)&&m[$]!=null)if($==="style"){var k=m[$];for(b in k)k.hasOwnProperty(b)&&(c||(c={}),c[b]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(i.hasOwnProperty($)?y||(y=[]):(y=y||[]).push($,null));for($ in h){var D=h[$];if(k=m?.[$],h.hasOwnProperty($)&&D!==k&&(D!=null||k!=null))if($==="style")if(k){for(b in k)!k.hasOwnProperty(b)||D&&D.hasOwnProperty(b)||(c||(c={}),c[b]="");for(b in D)D.hasOwnProperty(b)&&k[b]!==D[b]&&(c||(c={}),c[b]=D[b])}else c||(y||(y=[]),y.push($,c)),c=D;else $==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,k=k?k.__html:void 0,D!=null&&k!==D&&(y=y||[]).push($,D)):$==="children"?typeof D!="string"&&typeof D!="number"||(y=y||[]).push($,""+D):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(i.hasOwnProperty($)?(D!=null&&$==="onScroll"&&dt("scroll",s),y||k===D||(y=[])):(y=y||[]).push($,D))}c&&(y=y||[]).push("style",c);var $=y;(o.updateQueue=$)&&(o.flags|=4)}},dx=function(s,o,c,h){c!==h&&(o.flags|=4)};function mu(s,o){if(!yt)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function vn(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(o)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=c,o}function mA(s,o,c){var h=o.pendingProps;switch(Bm(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(o),null;case 1:return qn(o.type)&&Ph(),vn(o),null;case 3:return h=o.stateNode,bl(),ht(Bn),ht(gn),tg(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Dh(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,$r!==null&&(Rg($r),$r=null))),_g(s,o),vn(o),null;case 5:Zm(o);var m=Go(uu.current);if(c=o.type,s!==null&&o.stateNode!=null)ux(s,o,c,h,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return vn(o),null}if(s=Go(di.current),Dh(o)){h=o.stateNode,c=o.type;var y=o.memoizedProps;switch(h[ui]=o,h[su]=y,s=(o.mode&1)!==0,c){case"dialog":dt("cancel",h),dt("close",h);break;case"iframe":case"object":case"embed":dt("load",h);break;case"video":case"audio":for(m=0;m<nu.length;m++)dt(nu[m],h);break;case"source":dt("error",h);break;case"img":case"image":case"link":dt("error",h),dt("load",h);break;case"details":dt("toggle",h);break;case"input":Ni(h,y),dt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},dt("invalid",h);break;case"textarea":_s(h,y),dt("invalid",h)}Mi(c,y),m=null;for(var b in y)if(y.hasOwnProperty(b)){var k=y[b];b==="children"?typeof k=="string"?h.textContent!==k&&(y.suppressHydrationWarning!==!0&&Eh(h.textContent,k,s),m=["children",k]):typeof k=="number"&&h.textContent!==""+k&&(y.suppressHydrationWarning!==!0&&Eh(h.textContent,k,s),m=["children",""+k]):i.hasOwnProperty(b)&&k!=null&&b==="onScroll"&&dt("scroll",h)}switch(c){case"input":Fn(h),ws(h,y,!0);break;case"textarea":Fn(h),ke(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Th)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{b=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Le(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=b.createElement(c,{is:h.is}):(s=b.createElement(c),c==="select"&&(b=s,h.multiple?b.multiple=!0:h.size&&(b.size=h.size))):s=b.createElementNS(s,c),s[ui]=o,s[su]=h,cx(s,o,!1,!1),o.stateNode=s;e:{switch(b=Li(c,h),c){case"dialog":dt("cancel",s),dt("close",s),m=h;break;case"iframe":case"object":case"embed":dt("load",s),m=h;break;case"video":case"audio":for(m=0;m<nu.length;m++)dt(nu[m],s);m=h;break;case"source":dt("error",s),m=h;break;case"img":case"image":case"link":dt("error",s),dt("load",s),m=h;break;case"details":dt("toggle",s),m=h;break;case"input":Ni(s,h),m=ti(s,h),dt("invalid",s);break;case"option":m=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},m=pe({},h,{value:void 0}),dt("invalid",s);break;case"textarea":_s(s,h),m=Ao(s,h),dt("invalid",s);break;default:m=h}Mi(c,m),k=m;for(y in k)if(k.hasOwnProperty(y)){var D=k[y];y==="style"?ni(s,D):y==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Rr(s,D)):y==="children"?typeof D=="string"?(c!=="textarea"||D!=="")&&Pn(s,D):typeof D=="number"&&Pn(s,""+D):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?D!=null&&y==="onScroll"&&dt("scroll",s):D!=null&&Q(s,y,D,b))}switch(c){case"input":Fn(s),ws(s,h,!1);break;case"textarea":Fn(s),ke(s);break;case"option":h.value!=null&&s.setAttribute("value",""+We(h.value));break;case"select":s.multiple=!!h.multiple,y=h.value,y!=null?Cr(s,!!h.multiple,y,!1):h.defaultValue!=null&&Cr(s,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Th)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return vn(o),null;case 6:if(s&&o.stateNode!=null)dx(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(c=Go(uu.current),Go(di.current),Dh(o)){if(h=o.stateNode,c=o.memoizedProps,h[ui]=o,(y=h.nodeValue!==c)&&(s=rr,s!==null))switch(s.tag){case 3:Eh(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Eh(h.nodeValue,c,(s.mode&1)!==0)}y&&(o.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[ui]=o,o.stateNode=h}return vn(o),null;case 13:if(ht(bt),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(yt&&ir!==null&&(o.mode&1)!==0&&(o.flags&128)===0)f0(),wl(),o.flags|=98560,y=!1;else if(y=Dh(o),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[ui]=o}else wl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;vn(o),y=!1}else $r!==null&&(Rg($r),$r=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(bt.current&1)!==0?Gt===0&&(Gt=3):Og())),o.updateQueue!==null&&(o.flags|=4),vn(o),null);case 4:return bl(),_g(s,o),s===null&&ru(o.stateNode.containerInfo),vn(o),null;case 10:return Km(o.type._context),vn(o),null;case 17:return qn(o.type)&&Ph(),vn(o),null;case 19:if(ht(bt),y=o.memoizedState,y===null)return vn(o),null;if(h=(o.flags&128)!==0,b=y.rendering,b===null)if(h)mu(y,!1);else{if(Gt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(b=Fh(s),b!==null){for(o.flags|=128,mu(y,!1),h=b.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=c,c=o.child;c!==null;)y=c,s=h,y.flags&=14680066,b=y.alternate,b===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=b.childLanes,y.lanes=b.lanes,y.child=b.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=b.memoizedProps,y.memoizedState=b.memoizedState,y.updateQueue=b.updateQueue,y.type=b.type,s=b.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return lt(bt,bt.current&1|2),o.child}s=s.sibling}y.tail!==null&&at()>Pl&&(o.flags|=128,h=!0,mu(y,!1),o.lanes=4194304)}else{if(!h)if(s=Fh(b),s!==null){if(o.flags|=128,h=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),mu(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!yt)return vn(o),null}else 2*at()-y.renderingStartTime>Pl&&c!==1073741824&&(o.flags|=128,h=!0,mu(y,!1),o.lanes=4194304);y.isBackwards?(b.sibling=o.child,o.child=b):(c=y.last,c!==null?c.sibling=b:o.child=b,y.last=b)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=at(),o.sibling=null,c=bt.current,lt(bt,h?c&1|2:c&1),o):(vn(o),null);case 22:case 23:return Ng(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(sr&1073741824)!==0&&(vn(o),o.subtreeFlags&6&&(o.flags|=8192)):vn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function gA(s,o){switch(Bm(o),o.tag){case 1:return qn(o.type)&&Ph(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return bl(),ht(Bn),ht(gn),tg(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Zm(o),null;case 13:if(ht(bt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));wl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ht(bt),null;case 4:return bl(),null;case 10:return Km(o.type._context),null;case 22:case 23:return Ng(),null;case 24:return null;default:return null}}var Gh=!1,wn=!1,yA=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Tl(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){At(s,o,h)}else c.current=null}function xg(s,o,c){try{c()}catch(h){At(s,o,h)}}var hx=!1;function vA(s,o){if(Nm=As,s=H_(),Tm(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var b=0,k=-1,D=-1,$=0,ne=0,ie=s,ee=null;t:for(;;){for(var me;ie!==c||m!==0&&ie.nodeType!==3||(k=b+m),ie!==y||h!==0&&ie.nodeType!==3||(D=b+h),ie.nodeType===3&&(b+=ie.nodeValue.length),(me=ie.firstChild)!==null;)ee=ie,ie=me;for(;;){if(ie===s)break t;if(ee===c&&++$===m&&(k=b),ee===y&&++ne===h&&(D=b),(me=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=me}c=k===-1||D===-1?null:{start:k,end:D}}else c=null}c=c||{start:0,end:0}}else c=null;for(Om={focusedElem:s,selectionRange:c},As=!1,ye=o;ye!==null;)if(o=ye,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ye=s;else for(;ye!==null;){o=ye;try{var xe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var be=xe.memoizedProps,Ot=xe.memoizedState,q=o.stateNode,M=q.getSnapshotBeforeUpdate(o.elementType===o.type?be:Wr(o.type,be),Ot);q.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){At(o,o.return,oe)}if(s=o.sibling,s!==null){s.return=o.return,ye=s;break}ye=o.return}return xe=hx,hx=!1,xe}function gu(s,o,c){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&s)===s){var y=m.destroy;m.destroy=void 0,y!==void 0&&xg(o,c,y)}m=m.next}while(m!==h)}}function Kh(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==o)}}function Ig(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function px(s){var o=s.alternate;o!==null&&(s.alternate=null,px(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[ui],delete o[su],delete o[Fm],delete o[eA],delete o[tA])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function fx(s){return s.tag===5||s.tag===3||s.tag===4}function mx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||fx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function bg(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Th));else if(h!==4&&(s=s.child,s!==null))for(bg(s,o,c),s=s.sibling;s!==null;)bg(s,o,c),s=s.sibling}function Eg(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Eg(s,o,c),s=s.sibling;s!==null;)Eg(s,o,c),s=s.sibling}var ln=null,Gr=!1;function Fs(s,o,c){for(c=c.child;c!==null;)gx(s,o,c),c=c.sibling}function gx(s,o,c){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(Vo,c)}catch{}switch(c.tag){case 5:wn||Tl(c,o);case 6:var h=ln,m=Gr;ln=null,Fs(s,o,c),ln=h,Gr=m,ln!==null&&(Gr?(s=ln,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):ln.removeChild(c.stateNode));break;case 18:ln!==null&&(Gr?(s=ln,c=c.stateNode,s.nodeType===8?Lm(s.parentNode,c):s.nodeType===1&&Lm(s,c),Br(s)):Lm(ln,c.stateNode));break;case 4:h=ln,m=Gr,ln=c.stateNode.containerInfo,Gr=!0,Fs(s,o,c),ln=h,Gr=m;break;case 0:case 11:case 14:case 15:if(!wn&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,b=y.destroy;y=y.tag,b!==void 0&&((y&2)!==0||(y&4)!==0)&&xg(c,o,b),m=m.next}while(m!==h)}Fs(s,o,c);break;case 1:if(!wn&&(Tl(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(k){At(c,o,k)}Fs(s,o,c);break;case 21:Fs(s,o,c);break;case 22:c.mode&1?(wn=(h=wn)||c.memoizedState!==null,Fs(s,o,c),wn=h):Fs(s,o,c);break;default:Fs(s,o,c)}}function yx(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new yA),o.forEach(function(h){var m=PA.bind(null,s,h);c.has(h)||(c.add(h),h.then(m,m))})}}function Kr(s,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];try{var y=s,b=o,k=b;e:for(;k!==null;){switch(k.tag){case 5:ln=k.stateNode,Gr=!1;break e;case 3:ln=k.stateNode.containerInfo,Gr=!0;break e;case 4:ln=k.stateNode.containerInfo,Gr=!0;break e}k=k.return}if(ln===null)throw Error(t(160));gx(y,b,m),ln=null,Gr=!1;var D=m.alternate;D!==null&&(D.return=null),m.return=null}catch($){At(m,o,$)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)vx(o,s),o=o.sibling}function vx(s,o){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Kr(o,s),pi(s),h&4){try{gu(3,s,s.return),Kh(3,s)}catch(be){At(s,s.return,be)}try{gu(5,s,s.return)}catch(be){At(s,s.return,be)}}break;case 1:Kr(o,s),pi(s),h&512&&c!==null&&Tl(c,c.return);break;case 5:if(Kr(o,s),pi(s),h&512&&c!==null&&Tl(c,c.return),s.flags&32){var m=s.stateNode;try{Pn(m,"")}catch(be){At(s,s.return,be)}}if(h&4&&(m=s.stateNode,m!=null)){var y=s.memoizedProps,b=c!==null?c.memoizedProps:y,k=s.type,D=s.updateQueue;if(s.updateQueue=null,D!==null)try{k==="input"&&y.type==="radio"&&y.name!=null&&vs(m,y),Li(k,b);var $=Li(k,y);for(b=0;b<D.length;b+=2){var ne=D[b],ie=D[b+1];ne==="style"?ni(m,ie):ne==="dangerouslySetInnerHTML"?Rr(m,ie):ne==="children"?Pn(m,ie):Q(m,ne,ie,$)}switch(k){case"input":pr(m,y);break;case"textarea":de(m,y);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var me=y.value;me!=null?Cr(m,!!y.multiple,me,!1):ee!==!!y.multiple&&(y.defaultValue!=null?Cr(m,!!y.multiple,y.defaultValue,!0):Cr(m,!!y.multiple,y.multiple?[]:"",!1))}m[su]=y}catch(be){At(s,s.return,be)}}break;case 6:if(Kr(o,s),pi(s),h&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,y=s.memoizedProps;try{m.nodeValue=y}catch(be){At(s,s.return,be)}}break;case 3:if(Kr(o,s),pi(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Br(o.containerInfo)}catch(be){At(s,s.return,be)}break;case 4:Kr(o,s),pi(s);break;case 13:Kr(o,s),pi(s),m=s.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(Pg=at())),h&4&&yx(s);break;case 22:if(ne=c!==null&&c.memoizedState!==null,s.mode&1?(wn=($=wn)||ne,Kr(o,s),wn=$):Kr(o,s),pi(s),h&8192){if($=s.memoizedState!==null,(s.stateNode.isHidden=$)&&!ne&&(s.mode&1)!==0)for(ye=s,ne=s.child;ne!==null;){for(ie=ye=ne;ye!==null;){switch(ee=ye,me=ee.child,ee.tag){case 0:case 11:case 14:case 15:gu(4,ee,ee.return);break;case 1:Tl(ee,ee.return);var xe=ee.stateNode;if(typeof xe.componentWillUnmount=="function"){h=ee,c=ee.return;try{o=h,xe.props=o.memoizedProps,xe.state=o.memoizedState,xe.componentWillUnmount()}catch(be){At(h,c,be)}}break;case 5:Tl(ee,ee.return);break;case 22:if(ee.memoizedState!==null){xx(ie);continue}}me!==null?(me.return=ee,ye=me):xx(ie)}ne=ne.sibling}e:for(ne=null,ie=s;;){if(ie.tag===5){if(ne===null){ne=ie;try{m=ie.stateNode,$?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(k=ie.stateNode,D=ie.memoizedProps.style,b=D!=null&&D.hasOwnProperty("display")?D.display:null,k.style.display=Oi("display",b))}catch(be){At(s,s.return,be)}}}else if(ie.tag===6){if(ne===null)try{ie.stateNode.nodeValue=$?"":ie.memoizedProps}catch(be){At(s,s.return,be)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===s)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===s)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===s)break e;ne===ie&&(ne=null),ie=ie.return}ne===ie&&(ne=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Kr(o,s),pi(s),h&4&&yx(s);break;case 21:break;default:Kr(o,s),pi(s)}}function pi(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(fx(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(Pn(m,""),h.flags&=-33);var y=mx(s);Eg(s,y,m);break;case 3:case 4:var b=h.stateNode.containerInfo,k=mx(s);bg(s,k,b);break;default:throw Error(t(161))}}catch(D){At(s,s.return,D)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function wA(s,o,c){ye=s,wx(s)}function wx(s,o,c){for(var h=(s.mode&1)!==0;ye!==null;){var m=ye,y=m.child;if(m.tag===22&&h){var b=m.memoizedState!==null||Gh;if(!b){var k=m.alternate,D=k!==null&&k.memoizedState!==null||wn;k=Gh;var $=wn;if(Gh=b,(wn=D)&&!$)for(ye=m;ye!==null;)b=ye,D=b.child,b.tag===22&&b.memoizedState!==null?Ix(m):D!==null?(D.return=b,ye=D):Ix(m);for(;y!==null;)ye=y,wx(y),y=y.sibling;ye=m,Gh=k,wn=$}_x(s)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,ye=y):_x(s)}}function _x(s){for(;ye!==null;){var o=ye;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:wn||Kh(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!wn)if(c===null)h.componentDidMount();else{var m=o.elementType===o.type?c.memoizedProps:Wr(o.type,c.memoizedProps);h.componentDidUpdate(m,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&x0(o,y,h);break;case 3:var b=o.updateQueue;if(b!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}x0(o,b,c)}break;case 5:var k=o.stateNode;if(c===null&&o.flags&4){c=k;var D=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&c.focus();break;case"img":D.src&&(c.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var $=o.alternate;if($!==null){var ne=$.memoizedState;if(ne!==null){var ie=ne.dehydrated;ie!==null&&Br(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}wn||o.flags&512&&Ig(o)}catch(ee){At(o,o.return,ee)}}if(o===s){ye=null;break}if(c=o.sibling,c!==null){c.return=o.return,ye=c;break}ye=o.return}}function xx(s){for(;ye!==null;){var o=ye;if(o===s){ye=null;break}var c=o.sibling;if(c!==null){c.return=o.return,ye=c;break}ye=o.return}}function Ix(s){for(;ye!==null;){var o=ye;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Kh(4,o)}catch(D){At(o,c,D)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(D){At(o,m,D)}}var y=o.return;try{Ig(o)}catch(D){At(o,y,D)}break;case 5:var b=o.return;try{Ig(o)}catch(D){At(o,b,D)}}}catch(D){At(o,o.return,D)}if(o===s){ye=null;break}var k=o.sibling;if(k!==null){k.return=o.return,ye=k;break}ye=o.return}}var _A=Math.ceil,Qh=se.ReactCurrentDispatcher,Tg=se.ReactCurrentOwner,Ir=se.ReactCurrentBatchConfig,Qe=0,Xt=null,Ut=null,cn=0,sr=0,kl=Ns(0),Gt=0,yu=null,Qo=0,Yh=0,kg=0,vu=null,$n=null,Pg=0,Pl=1/0,Ji=null,Jh=!1,Sg=null,js=null,Xh=!1,zs=null,Zh=0,wu=0,Ag=null,ep=-1,tp=0;function Rn(){return(Qe&6)!==0?at():ep!==-1?ep:ep=at()}function Us(s){return(s.mode&1)===0?1:(Qe&2)!==0&&cn!==0?cn&-cn:rA.transition!==null?(tp===0&&(tp=Lo()),tp):(s=qe,s!==0||(s=window.event,s=s===void 0?16:Gc(s.type)),s)}function Qr(s,o,c,h){if(50<wu)throw wu=0,Ag=null,Error(t(185));Ts(s,c,h),((Qe&2)===0||s!==Xt)&&(s===Xt&&((Qe&2)===0&&(Yh|=c),Gt===4&&Bs(s,cn)),Wn(s,h),c===1&&Qe===0&&(o.mode&1)===0&&(Pl=at()+500,Ah&&Vs()))}function Wn(s,o){var c=s.callbackNode;ji(s,o);var h=Mo(s,s===Xt?cn:0);if(h===0)c!==null&&Bc(c),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(c!=null&&Bc(c),o===1)s.tag===0?nA(Ex.bind(null,s)):c0(Ex.bind(null,s)),XS(function(){(Qe&6)===0&&Vs()}),c=null;else{switch(Ps(h)){case 1:c=Oo;break;case 4:c=Is;break;case 16:c=mr;break;case 536870912:c=th;break;default:c=mr}c=Dx(c,bx.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function bx(s,o){if(ep=-1,tp=0,(Qe&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Sl()&&s.callbackNode!==c)return null;var h=Mo(s,s===Xt?cn:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=np(s,h);else{o=h;var m=Qe;Qe|=2;var y=kx();(Xt!==s||cn!==o)&&(Ji=null,Pl=at()+500,Jo(s,o));do try{bA();break}catch(k){Tx(s,k)}while(!0);Gm(),Qh.current=y,Qe=m,Ut!==null?o=0:(Xt=null,cn=0,o=Gt)}if(o!==0){if(o===2&&(m=er(s),m!==0&&(h=m,o=Cg(s,m))),o===1)throw c=yu,Jo(s,0),Bs(s,h),Wn(s,at()),c;if(o===6)Bs(s,h);else{if(m=s.current.alternate,(h&30)===0&&!xA(m)&&(o=np(s,h),o===2&&(y=er(s),y!==0&&(h=y,o=Cg(s,y))),o===1))throw c=yu,Jo(s,0),Bs(s,h),Wn(s,at()),c;switch(s.finishedWork=m,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Xo(s,$n,Ji);break;case 3:if(Bs(s,h),(h&130023424)===h&&(o=Pg+500-at(),10<o)){if(Mo(s,0)!==0)break;if(m=s.suspendedLanes,(m&h)!==h){Rn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Mm(Xo.bind(null,s,$n,Ji),o);break}Xo(s,$n,Ji);break;case 4:if(Bs(s,h),(h&4194240)===h)break;for(o=s.eventTimes,m=-1;0<h;){var b=31-Sn(h);y=1<<b,b=o[b],b>m&&(m=b),h&=~y}if(h=m,h=at()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*_A(h/1960))-h,10<h){s.timeoutHandle=Mm(Xo.bind(null,s,$n,Ji),h);break}Xo(s,$n,Ji);break;case 5:Xo(s,$n,Ji);break;default:throw Error(t(329))}}}return Wn(s,at()),s.callbackNode===c?bx.bind(null,s):null}function Cg(s,o){var c=vu;return s.current.memoizedState.isDehydrated&&(Jo(s,o).flags|=256),s=np(s,o),s!==2&&(o=$n,$n=c,o!==null&&Rg(o)),s}function Rg(s){$n===null?$n=s:$n.push.apply($n,s)}function xA(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var m=c[h],y=m.getSnapshot;m=m.value;try{if(!Hr(y(),m))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Bs(s,o){for(o&=~kg,o&=~Yh,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-Sn(o),h=1<<c;s[c]=-1,o&=~h}}function Ex(s){if((Qe&6)!==0)throw Error(t(327));Sl();var o=Mo(s,0);if((o&1)===0)return Wn(s,at()),null;var c=np(s,o);if(s.tag!==0&&c===2){var h=er(s);h!==0&&(o=h,c=Cg(s,h))}if(c===1)throw c=yu,Jo(s,0),Bs(s,o),Wn(s,at()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Xo(s,$n,Ji),Wn(s,at()),null}function Dg(s,o){var c=Qe;Qe|=1;try{return s(o)}finally{Qe=c,Qe===0&&(Pl=at()+500,Ah&&Vs())}}function Yo(s){zs!==null&&zs.tag===0&&(Qe&6)===0&&Sl();var o=Qe;Qe|=1;var c=Ir.transition,h=qe;try{if(Ir.transition=null,qe=1,s)return s()}finally{qe=h,Ir.transition=c,Qe=o,(Qe&6)===0&&Vs()}}function Ng(){sr=kl.current,ht(kl)}function Jo(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,JS(c)),Ut!==null)for(c=Ut.return;c!==null;){var h=c;switch(Bm(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ph();break;case 3:bl(),ht(Bn),ht(gn),tg();break;case 5:Zm(h);break;case 4:bl();break;case 13:ht(bt);break;case 19:ht(bt);break;case 10:Km(h.type._context);break;case 22:case 23:Ng()}c=c.return}if(Xt=s,Ut=s=qs(s.current,null),cn=sr=o,Gt=0,yu=null,kg=Yh=Qo=0,$n=vu=null,Wo!==null){for(o=0;o<Wo.length;o++)if(c=Wo[o],h=c.interleaved,h!==null){c.interleaved=null;var m=h.next,y=c.pending;if(y!==null){var b=y.next;y.next=m,h.next=b}c.pending=h}Wo=null}return s}function Tx(s,o){do{var c=Ut;try{if(Gm(),jh.current=qh,zh){for(var h=Et.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}zh=!1}if(Ko=0,Jt=Wt=Et=null,du=!1,hu=0,Tg.current=null,c===null||c.return===null){Gt=1,yu=o,Ut=null;break}e:{var y=s,b=c.return,k=c,D=o;if(o=cn,k.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var $=D,ne=k,ie=ne.tag;if((ne.mode&1)===0&&(ie===0||ie===11||ie===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var me=Y0(b);if(me!==null){me.flags&=-257,J0(me,b,k,y,o),me.mode&1&&Q0(y,$,o),o=me,D=$;var xe=o.updateQueue;if(xe===null){var be=new Set;be.add(D),o.updateQueue=be}else xe.add(D);break e}else{if((o&1)===0){Q0(y,$,o),Og();break e}D=Error(t(426))}}else if(yt&&k.mode&1){var Ot=Y0(b);if(Ot!==null){(Ot.flags&65536)===0&&(Ot.flags|=256),J0(Ot,b,k,y,o),$m(El(D,k));break e}}y=D=El(D,k),Gt!==4&&(Gt=2),vu===null?vu=[y]:vu.push(y),y=b;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var q=G0(y,D,o);_0(y,q);break e;case 1:k=D;var M=y.type,H=y.stateNode;if((y.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(js===null||!js.has(H)))){y.flags|=65536,o&=-o,y.lanes|=o;var oe=K0(y,k,o);_0(y,oe);break e}}y=y.return}while(y!==null)}Sx(c)}catch(Ee){o=Ee,Ut===c&&c!==null&&(Ut=c=c.return);continue}break}while(!0)}function kx(){var s=Qh.current;return Qh.current=qh,s===null?qh:s}function Og(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),Xt===null||(Qo&268435455)===0&&(Yh&268435455)===0||Bs(Xt,cn)}function np(s,o){var c=Qe;Qe|=2;var h=kx();(Xt!==s||cn!==o)&&(Ji=null,Jo(s,o));do try{IA();break}catch(m){Tx(s,m)}while(!0);if(Gm(),Qe=c,Qh.current=h,Ut!==null)throw Error(t(261));return Xt=null,cn=0,Gt}function IA(){for(;Ut!==null;)Px(Ut)}function bA(){for(;Ut!==null&&!Zd();)Px(Ut)}function Px(s){var o=Rx(s.alternate,s,sr);s.memoizedProps=s.pendingProps,o===null?Sx(s):Ut=o,Tg.current=null}function Sx(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=mA(c,o,sr),c!==null){Ut=c;return}}else{if(c=gA(c,o),c!==null){c.flags&=32767,Ut=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Gt=6,Ut=null;return}}if(o=o.sibling,o!==null){Ut=o;return}Ut=o=s}while(o!==null);Gt===0&&(Gt=5)}function Xo(s,o,c){var h=qe,m=Ir.transition;try{Ir.transition=null,qe=1,EA(s,o,c,h)}finally{Ir.transition=m,qe=h}return null}function EA(s,o,c,h){do Sl();while(zs!==null);if((Qe&6)!==0)throw Error(t(327));c=s.finishedWork;var m=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=c.lanes|c.childLanes;if(st(s,y),s===Xt&&(Ut=Xt=null,cn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Xh||(Xh=!0,Dx(mr,function(){return Sl(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=Ir.transition,Ir.transition=null;var b=qe;qe=1;var k=Qe;Qe|=4,Tg.current=null,vA(s,c),vx(c,s),HS(Om),As=!!Nm,Om=Nm=null,s.current=c,wA(c),ym(),Qe=k,qe=b,Ir.transition=y}else s.current=c;if(Xh&&(Xh=!1,zs=s,Zh=m),y=s.pendingLanes,y===0&&(js=null),nh(c.stateNode),Wn(s,at()),o!==null)for(h=s.onRecoverableError,c=0;c<o.length;c++)m=o[c],h(m.value,{componentStack:m.stack,digest:m.digest});if(Jh)throw Jh=!1,s=Sg,Sg=null,s;return(Zh&1)!==0&&s.tag!==0&&Sl(),y=s.pendingLanes,(y&1)!==0?s===Ag?wu++:(wu=0,Ag=s):wu=0,Vs(),null}function Sl(){if(zs!==null){var s=Ps(Zh),o=Ir.transition,c=qe;try{if(Ir.transition=null,qe=16>s?16:s,zs===null)var h=!1;else{if(s=zs,zs=null,Zh=0,(Qe&6)!==0)throw Error(t(331));var m=Qe;for(Qe|=4,ye=s.current;ye!==null;){var y=ye,b=y.child;if((ye.flags&16)!==0){var k=y.deletions;if(k!==null){for(var D=0;D<k.length;D++){var $=k[D];for(ye=$;ye!==null;){var ne=ye;switch(ne.tag){case 0:case 11:case 15:gu(8,ne,y)}var ie=ne.child;if(ie!==null)ie.return=ne,ye=ie;else for(;ye!==null;){ne=ye;var ee=ne.sibling,me=ne.return;if(px(ne),ne===$){ye=null;break}if(ee!==null){ee.return=me,ye=ee;break}ye=me}}}var xe=y.alternate;if(xe!==null){var be=xe.child;if(be!==null){xe.child=null;do{var Ot=be.sibling;be.sibling=null,be=Ot}while(be!==null)}}ye=y}}if((y.subtreeFlags&2064)!==0&&b!==null)b.return=y,ye=b;else e:for(;ye!==null;){if(y=ye,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:gu(9,y,y.return)}var q=y.sibling;if(q!==null){q.return=y.return,ye=q;break e}ye=y.return}}var M=s.current;for(ye=M;ye!==null;){b=ye;var H=b.child;if((b.subtreeFlags&2064)!==0&&H!==null)H.return=b,ye=H;else e:for(b=M;ye!==null;){if(k=ye,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Kh(9,k)}}catch(Ee){At(k,k.return,Ee)}if(k===b){ye=null;break e}var oe=k.sibling;if(oe!==null){oe.return=k.return,ye=oe;break e}ye=k.return}}if(Qe=m,Vs(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(Vo,s)}catch{}h=!0}return h}finally{qe=c,Ir.transition=o}}return!1}function Ax(s,o,c){o=El(c,o),o=G0(s,o,1),s=Ls(s,o,1),o=Rn(),s!==null&&(Ts(s,1,o),Wn(s,o))}function At(s,o,c){if(s.tag===3)Ax(s,s,c);else for(;o!==null;){if(o.tag===3){Ax(o,s,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(js===null||!js.has(h))){s=El(c,s),s=K0(o,s,1),o=Ls(o,s,1),s=Rn(),o!==null&&(Ts(o,1,s),Wn(o,s));break}}o=o.return}}function TA(s,o,c){var h=s.pingCache;h!==null&&h.delete(o),o=Rn(),s.pingedLanes|=s.suspendedLanes&c,Xt===s&&(cn&c)===c&&(Gt===4||Gt===3&&(cn&130023424)===cn&&500>at()-Pg?Jo(s,0):kg|=c),Wn(s,o)}function Cx(s,o){o===0&&((s.mode&1)===0?o=1:(o=Ja,Ja<<=1,(Ja&130023424)===0&&(Ja=4194304)));var c=Rn();s=Ki(s,o),s!==null&&(Ts(s,o,c),Wn(s,c))}function kA(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),Cx(s,c)}function PA(s,o){var c=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),Cx(s,c)}var Rx;Rx=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||Bn.current)Hn=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return Hn=!1,fA(s,o,c);Hn=(s.flags&131072)!==0}else Hn=!1,yt&&(o.flags&1048576)!==0&&u0(o,Rh,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Wh(s,o),s=o.pendingProps;var m=gl(o,gn.current);Il(o,c),m=ig(null,o,h,s,m,c);var y=sg();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,qn(h)?(y=!0,Sh(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Jm(o),m.updater=Hh,o.stateNode=m,m._reactInternals=o,dg(o,h,s,c),o=mg(null,o,h,!0,y,c)):(o.tag=0,yt&&y&&Um(o),Cn(null,o,m,c),o=o.child),o;case 16:h=o.elementType;e:{switch(Wh(s,o),s=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=AA(h),s=Wr(h,s),m){case 0:o=fg(null,o,h,s,c);break e;case 1:o=rx(null,o,h,s,c);break e;case 11:o=X0(null,o,h,s,c);break e;case 14:o=Z0(null,o,h,Wr(h.type,s),c);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Wr(h,m),fg(s,o,h,m,c);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Wr(h,m),rx(s,o,h,m,c);case 3:e:{if(ix(o),s===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,m=y.element,w0(s,o),Lh(o,h,null,c);var b=o.memoizedState;if(h=b.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=El(Error(t(423)),o),o=sx(s,o,h,c,m);break e}else if(h!==m){m=El(Error(t(424)),o),o=sx(s,o,h,c,m);break e}else for(ir=Ds(o.stateNode.containerInfo.firstChild),rr=o,yt=!0,$r=null,c=y0(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(wl(),h===m){o=Yi(s,o,c);break e}Cn(s,o,h,c)}o=o.child}return o;case 5:return I0(o),s===null&&Hm(o),h=o.type,m=o.pendingProps,y=s!==null?s.memoizedProps:null,b=m.children,Vm(h,m)?b=null:y!==null&&Vm(h,y)&&(o.flags|=32),nx(s,o),Cn(s,o,b,c),o.child;case 6:return s===null&&Hm(o),null;case 13:return ox(s,o,c);case 4:return Xm(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=_l(o,null,h,c):Cn(s,o,h,c),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Wr(h,m),X0(s,o,h,m,c);case 7:return Cn(s,o,o.pendingProps,c),o.child;case 8:return Cn(s,o,o.pendingProps.children,c),o.child;case 12:return Cn(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,y=o.memoizedProps,b=m.value,lt(Oh,h._currentValue),h._currentValue=b,y!==null)if(Hr(y.value,b)){if(y.children===m.children&&!Bn.current){o=Yi(s,o,c);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var k=y.dependencies;if(k!==null){b=y.child;for(var D=k.firstContext;D!==null;){if(D.context===h){if(y.tag===1){D=Qi(-1,c&-c),D.tag=2;var $=y.updateQueue;if($!==null){$=$.shared;var ne=$.pending;ne===null?D.next=D:(D.next=ne.next,ne.next=D),$.pending=D}}y.lanes|=c,D=y.alternate,D!==null&&(D.lanes|=c),Qm(y.return,c,o),k.lanes|=c;break}D=D.next}}else if(y.tag===10)b=y.type===o.type?null:y.child;else if(y.tag===18){if(b=y.return,b===null)throw Error(t(341));b.lanes|=c,k=b.alternate,k!==null&&(k.lanes|=c),Qm(b,c,o),b=y.sibling}else b=y.child;if(b!==null)b.return=y;else for(b=y;b!==null;){if(b===o){b=null;break}if(y=b.sibling,y!==null){y.return=b.return,b=y;break}b=b.return}y=b}Cn(s,o,m.children,c),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,Il(o,c),m=_r(m),h=h(m),o.flags|=1,Cn(s,o,h,c),o.child;case 14:return h=o.type,m=Wr(h,o.pendingProps),m=Wr(h.type,m),Z0(s,o,h,m,c);case 15:return ex(s,o,o.type,o.pendingProps,c);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Wr(h,m),Wh(s,o),o.tag=1,qn(h)?(s=!0,Sh(o)):s=!1,Il(o,c),$0(o,h,m),dg(o,h,m,c),mg(null,o,h,!0,s,c);case 19:return lx(s,o,c);case 22:return tx(s,o,c)}throw Error(t(156,o.tag))};function Dx(s,o){return Qa(s,o)}function SA(s,o,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(s,o,c,h){return new SA(s,o,c,h)}function Vg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function AA(s){if(typeof s=="function")return Vg(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===Xe)return 14}return 2}function qs(s,o){var c=s.alternate;return c===null?(c=br(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function rp(s,o,c,h,m,y){var b=2;if(h=s,typeof s=="function")Vg(s)&&(b=1);else if(typeof s=="string")b=5;else e:switch(s){case R:return Zo(c.children,m,y,o);case T:b=8,m|=8;break;case A:return s=br(12,c,o,m|2),s.elementType=A,s.lanes=y,s;case S:return s=br(13,c,o,m),s.elementType=S,s.lanes=y,s;case Me:return s=br(19,c,o,m),s.elementType=Me,s.lanes=y,s;case He:return ip(c,m,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:b=10;break e;case F:b=9;break e;case V:b=11;break e;case Xe:b=14;break e;case jt:b=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=br(b,c,o,m),o.elementType=s,o.type=h,o.lanes=y,o}function Zo(s,o,c,h){return s=br(7,s,h,o),s.lanes=c,s}function ip(s,o,c,h){return s=br(22,s,h,o),s.elementType=He,s.lanes=c,s.stateNode={isHidden:!1},s}function Mg(s,o,c){return s=br(6,s,null,o),s.lanes=c,s}function Lg(s,o,c){return o=br(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function CA(s,o,c,h,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Es(0),this.expirationTimes=Es(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Es(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Fg(s,o,c,h,m,y,b,k,D){return s=new CA(s,o,c,k,D),o===1?(o=1,y===!0&&(o|=8)):o=0,y=br(3,null,null,o),s.current=y,y.stateNode=s,y.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jm(y),s}function RA(s,o,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_e,key:h==null?null:""+h,children:s,containerInfo:o,implementation:c}}function Nx(s){if(!s)return Os;s=s._reactInternals;e:{if(Lr(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(qn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(qn(c))return a0(s,c,o)}return o}function Ox(s,o,c,h,m,y,b,k,D){return s=Fg(c,h,!0,s,m,y,b,k,D),s.context=Nx(null),c=s.current,h=Rn(),m=Us(c),y=Qi(h,m),y.callback=o??null,Ls(c,y,m),s.current.lanes=m,Ts(s,m,h),Wn(s,h),s}function sp(s,o,c,h){var m=o.current,y=Rn(),b=Us(m);return c=Nx(c),o.context===null?o.context=c:o.pendingContext=c,o=Qi(y,b),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=Ls(m,o,b),s!==null&&(Qr(s,m,b,y),Mh(s,m,b)),b}function op(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Vx(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function jg(s,o){Vx(s,o),(s=s.alternate)&&Vx(s,o)}function DA(){return null}var Mx=typeof reportError=="function"?reportError:function(s){console.error(s)};function zg(s){this._internalRoot=s}ap.prototype.render=zg.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));sp(s,o,null,null)},ap.prototype.unmount=zg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Yo(function(){sp(null,s,null,null)}),o[Hi]=null}};function ap(s){this._internalRoot=s}ap.prototype.unstable_scheduleHydration=function(s){if(s){var o=ah();s={blockedOn:null,target:s,priority:o};for(var c=0;c<oi.length&&o!==0&&o<oi[c].priority;c++);oi.splice(c,0,s),c===0&&uh(s)}};function Ug(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function lp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Lx(){}function NA(s,o,c,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var $=op(b);y.call($)}}var b=Ox(o,h,s,0,null,!1,!1,"",Lx);return s._reactRootContainer=b,s[Hi]=b.current,ru(s.nodeType===8?s.parentNode:s),Yo(),b}for(;m=s.lastChild;)s.removeChild(m);if(typeof h=="function"){var k=h;h=function(){var $=op(D);k.call($)}}var D=Fg(s,0,!1,null,null,!1,!1,"",Lx);return s._reactRootContainer=D,s[Hi]=D.current,ru(s.nodeType===8?s.parentNode:s),Yo(function(){sp(o,D,c,h)}),D}function cp(s,o,c,h,m){var y=c._reactRootContainer;if(y){var b=y;if(typeof m=="function"){var k=m;m=function(){var D=op(b);k.call(D)}}sp(o,b,s,m)}else b=NA(c,o,s,m,h);return op(b)}sh=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=bs(o.pendingLanes);c!==0&&(ks(o,c|1),Wn(o,at()),(Qe&6)===0&&(Pl=at()+500,Vs()))}break;case 13:Yo(function(){var h=Ki(s,1);if(h!==null){var m=Rn();Qr(h,s,1,m)}}),jg(s,1)}},Xa=function(s){if(s.tag===13){var o=Ki(s,134217728);if(o!==null){var c=Rn();Qr(o,s,134217728,c)}jg(s,134217728)}},oh=function(s){if(s.tag===13){var o=Us(s),c=Ki(s,o);if(c!==null){var h=Rn();Qr(c,s,o,h)}jg(s,o)}},ah=function(){return qe},lh=function(s,o){var c=qe;try{return qe=s,o()}finally{qe=c}},qa=function(s,o,c){switch(o){case"input":if(pr(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==s&&h.form===s.form){var m=kh(h);if(!m)throw Error(t(90));Xn(h),pr(h,m)}}}break;case"textarea":de(s,c);break;case"select":o=c.value,o!=null&&Cr(s,!!c.multiple,o,!1)}},Co=Dg,Fc=Yo;var OA={usingClientEntryPoint:!1,Events:[ou,fl,kh,ii,Lc,Dg]},_u={findFiberByHostInstance:Bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VA={bundleType:_u.bundleType,version:_u.version,rendererPackageName:_u.rendererPackageName,rendererConfig:_u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Uc(s),s===null?null:s.stateNode},findFiberByHostInstance:_u.findFiberByHostInstance||DA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var up=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!up.isDisabled&&up.supportsFiber)try{Vo=up.inject(VA),Zn=up}catch{}}return Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OA,Gn.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ug(o))throw Error(t(200));return RA(s,o,null,c)},Gn.createRoot=function(s,o){if(!Ug(s))throw Error(t(299));var c=!1,h="",m=Mx;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Fg(s,1,!1,null,null,c,!1,h,m),s[Hi]=o.current,ru(s.nodeType===8?s.parentNode:s),new zg(o)},Gn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Uc(o),s=s===null?null:s.stateNode,s},Gn.flushSync=function(s){return Yo(s)},Gn.hydrate=function(s,o,c){if(!lp(o))throw Error(t(200));return cp(null,s,o,!0,c)},Gn.hydrateRoot=function(s,o,c){if(!Ug(s))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,m=!1,y="",b=Mx;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(b=c.onRecoverableError)),o=Ox(o,null,s,1,c??null,m,!1,y,b),s[Hi]=o.current,ru(s),h)for(s=0;s<h.length;s++)c=h[s],m=c._getVersion,m=m(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,m]:o.mutableSourceEagerHydrationData.push(c,m);return new ap(o)},Gn.render=function(s,o,c){if(!lp(o))throw Error(t(200));return cp(null,s,o,!1,c)},Gn.unmountComponentAtNode=function(s){if(!lp(s))throw Error(t(40));return s._reactRootContainer?(Yo(function(){cp(null,null,s,!1,function(){s._reactRootContainer=null,s[Hi]=null})}),!0):!1},Gn.unstable_batchedUpdates=Dg,Gn.unstable_renderSubtreeIntoContainer=function(s,o,c,h){if(!lp(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return cp(s,o,c,!1,h)},Gn.version="18.3.1-next-f1338f8080-20240426",Gn}var $x;function nE(){if($x)return Hg.exports;$x=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hg.exports=HA(),Hg.exports}var Wx;function $A(){if(Wx)return dp;Wx=1;var n=nE();return dp.createRoot=n.createRoot,dp.hydrateRoot=n.hydrateRoot,dp}var WA=$A();const GA=xf(WA);nE();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nd(){return nd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},nd.apply(this,arguments)}var Xs;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Xs||(Xs={}));const Gx="popstate";function KA(n){n===void 0&&(n={});function e(r,i){let{pathname:a,search:l,hash:u}=r.location;return Ty("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Up(i)}return YA(e,t,null,n)}function Mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rE(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QA(){return Math.random().toString(36).substr(2,8)}function Kx(n,e){return{usr:n.state,key:n.key,idx:e}}function Ty(n,e,t,r){return t===void 0&&(t=null),nd({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?xc(e):e,{state:t,key:e&&e.key||r||QA()})}function Up(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function YA(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u=Xs.Pop,p=null,f=v();f==null&&(f=0,l.replaceState(nd({},l.state,{idx:f}),""));function v(){return(l.state||{idx:null}).idx}function _(){u=Xs.Pop;let C=v(),K=C==null?null:C-f;f=C,p&&p({action:u,location:z.location,delta:K})}function I(C,K){u=Xs.Push;let J=Ty(z.location,C,K);f=v()+1;let Q=Kx(J,f),se=z.createHref(J);try{l.pushState(Q,"",se)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;i.location.assign(se)}a&&p&&p({action:u,location:z.location,delta:1})}function P(C,K){u=Xs.Replace;let J=Ty(z.location,C,K);f=v();let Q=Kx(J,f),se=z.createHref(J);l.replaceState(Q,"",se),a&&p&&p({action:u,location:z.location,delta:0})}function O(C){let K=i.location.origin!=="null"?i.location.origin:i.location.href,J=typeof C=="string"?C:Up(C);return J=J.replace(/ $/,"%20"),Mt(K,"No window.location.(origin|href) available to create URL for href: "+J),new URL(J,K)}let z={get action(){return u},get location(){return n(i,l)},listen(C){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(Gx,_),p=C,()=>{i.removeEventListener(Gx,_),p=null}},createHref(C){return e(i,C)},createURL:O,encodeLocation(C){let K=O(C);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:I,replace:P,go(C){return l.go(C)}};return z}var Qx;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Qx||(Qx={}));function JA(n,e,t){return t===void 0&&(t="/"),XA(n,e,t)}function XA(n,e,t,r){let i=typeof e=="string"?xc(e):e,a=Pv(i.pathname||"/",t);if(a==null)return null;let l=iE(n);ZA(l);let u=null;for(let p=0;u==null&&p<l.length;++p){let f=dC(a);u=lC(l[p],f)}return u}function iE(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,l,u)=>{let p={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};p.relativePath.startsWith("/")&&(Mt(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let f=no([r,p.relativePath]),v=t.concat(p);a.children&&a.children.length>0&&(Mt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),iE(a.children,e,v,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:oC(f,a.index),routesMeta:v})};return n.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let p of sE(a.path))i(a,l,p)}),e}function sE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=sE(r.join("/")),u=[];return u.push(...l.map(p=>p===""?a:[a,p].join("/"))),i&&u.push(...l),u.map(p=>n.startsWith("/")&&p===""?"/":p)}function ZA(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:aC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const eC=/^:[\w-]+$/,tC=3,nC=2,rC=1,iC=10,sC=-2,Yx=n=>n==="*";function oC(n,e){let t=n.split("/"),r=t.length;return t.some(Yx)&&(r+=sC),e&&(r+=nC),t.filter(i=>!Yx(i)).reduce((i,a)=>i+(eC.test(a)?tC:a===""?rC:iC),r)}function aC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function lC(n,e,t){let{routesMeta:r}=n,i={},a="/",l=[];for(let u=0;u<r.length;++u){let p=r[u],f=u===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",_=cC({path:p.relativePath,caseSensitive:p.caseSensitive,end:f},v),I=p.route;if(!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:no([a,_.pathname]),pathnameBase:mC(no([a,_.pathnameBase])),route:I}),_.pathnameBase!=="/"&&(a=no([a,_.pathnameBase]))}return l}function cC(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=uC(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,v,_)=>{let{paramName:I,isOptional:P}=v;if(I==="*"){let z=u[_]||"";l=a.slice(0,a.length-z.length).replace(/(.)\/+$/,"$1")}const O=u[_];return P&&!O?f[I]=void 0:f[I]=(O||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function uC(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),rE(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,p)=>(r.push({paramName:u,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function dC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rE(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Pv(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function hC(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?xc(n):n;return{pathname:t?t.startsWith("/")?t:pC(t,e):e,search:gC(r),hash:yC(i)}}function pC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Gg(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Sv(n,e){let t=fC(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Av(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=xc(n):(i=nd({},n),Mt(!i.pathname||!i.pathname.includes("?"),Gg("?","pathname","search",i)),Mt(!i.pathname||!i.pathname.includes("#"),Gg("#","pathname","hash",i)),Mt(!i.search||!i.search.includes("#"),Gg("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let I=l.split("/");for(;I[0]==="..";)I.shift(),_-=1;i.pathname=I.join("/")}u=_>=0?e[_]:"/"}let p=hC(i,u),f=l&&l!=="/"&&l.endsWith("/"),v=(a||l===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(f||v)&&(p.pathname+="/"),p}const no=n=>n.join("/").replace(/\/\/+/g,"/"),mC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),gC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,yC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function vC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const oE=["post","put","patch","delete"];new Set(oE);const wC=["get",...oE];new Set(wC);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},rd.apply(this,arguments)}const Cv=L.createContext(null),_C=L.createContext(null),_o=L.createContext(null),If=L.createContext(null),Di=L.createContext({outlet:null,matches:[],isDataRoute:!1}),aE=L.createContext(null);function xC(n,e){let{relative:t}=e===void 0?{}:e;Ic()||Mt(!1);let{basename:r,navigator:i}=L.useContext(_o),{hash:a,pathname:l,search:u}=cE(n,{relative:t}),p=l;return r!=="/"&&(p=l==="/"?r:no([r,l])),i.createHref({pathname:p,search:u,hash:a})}function Ic(){return L.useContext(If)!=null}function bc(){return Ic()||Mt(!1),L.useContext(If).location}function lE(n){L.useContext(_o).static||L.useLayoutEffect(n)}function bf(){let{isDataRoute:n}=L.useContext(Di);return n?MC():IC()}function IC(){Ic()||Mt(!1);let n=L.useContext(Cv),{basename:e,future:t,navigator:r}=L.useContext(_o),{matches:i}=L.useContext(Di),{pathname:a}=bc(),l=JSON.stringify(Sv(i,t.v7_relativeSplatPath)),u=L.useRef(!1);return lE(()=>{u.current=!0}),L.useCallback(function(f,v){if(v===void 0&&(v={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let _=Av(f,JSON.parse(l),a,v.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:no([e,_.pathname])),(v.replace?r.replace:r.push)(_,v.state,v)},[e,r,l,a,n])}const bC=L.createContext(null);function EC(n){let e=L.useContext(Di).outlet;return e&&L.createElement(bC.Provider,{value:n},e)}function Ez(){let{matches:n}=L.useContext(Di),e=n[n.length-1];return e?e.params:{}}function cE(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=L.useContext(_o),{matches:i}=L.useContext(Di),{pathname:a}=bc(),l=JSON.stringify(Sv(i,r.v7_relativeSplatPath));return L.useMemo(()=>Av(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function TC(n,e){return kC(n,e)}function kC(n,e,t,r){Ic()||Mt(!1);let{navigator:i}=L.useContext(_o),{matches:a}=L.useContext(Di),l=a[a.length-1],u=l?l.params:{};l&&l.pathname;let p=l?l.pathnameBase:"/";l&&l.route;let f=bc(),v;if(e){var _;let C=typeof e=="string"?xc(e):e;p==="/"||(_=C.pathname)!=null&&_.startsWith(p)||Mt(!1),v=C}else v=f;let I=v.pathname||"/",P=I;if(p!=="/"){let C=p.replace(/^\//,"").split("/");P="/"+I.replace(/^\//,"").split("/").slice(C.length).join("/")}let O=JA(n,{pathname:P}),z=RC(O&&O.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:no([p,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:no([p,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,t,r);return e&&z?L.createElement(If.Provider,{value:{location:rd({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Xs.Pop}},z):z}function PC(){let n=VC(),e=vC(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:i},t):null,null)}const SC=L.createElement(PC,null);class AC extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?L.createElement(Di.Provider,{value:this.props.routeContext},L.createElement(aE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CC(n){let{routeContext:e,match:t,children:r}=n,i=L.useContext(Cv);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(Di.Provider,{value:e},r)}function RC(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=(i=t)==null?void 0:i.errors;if(u!=null){let v=l.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);v>=0||Mt(!1),l=l.slice(0,Math.min(l.length,v+1))}let p=!1,f=-1;if(t&&r&&r.v7_partialHydration)for(let v=0;v<l.length;v++){let _=l[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=v),_.route.id){let{loaderData:I,errors:P}=t,O=_.route.loader&&I[_.route.id]===void 0&&(!P||P[_.route.id]===void 0);if(_.route.lazy||O){p=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((v,_,I)=>{let P,O=!1,z=null,C=null;t&&(P=u&&_.route.id?u[_.route.id]:void 0,z=_.route.errorElement||SC,p&&(f<0&&I===0?(LC("route-fallback"),O=!0,C=null):f===I&&(O=!0,C=_.route.hydrateFallbackElement||null)));let K=e.concat(l.slice(0,I+1)),J=()=>{let Q;return P?Q=z:O?Q=C:_.route.Component?Q=L.createElement(_.route.Component,null):_.route.element?Q=_.route.element:Q=v,L.createElement(CC,{match:_,routeContext:{outlet:v,matches:K,isDataRoute:t!=null},children:Q})};return t&&(_.route.ErrorBoundary||_.route.errorElement||I===0)?L.createElement(AC,{location:t.location,revalidation:t.revalidation,component:z,error:P,children:J(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):J()},null)}var uE=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(uE||{}),dE=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(dE||{});function DC(n){let e=L.useContext(Cv);return e||Mt(!1),e}function NC(n){let e=L.useContext(_C);return e||Mt(!1),e}function OC(n){let e=L.useContext(Di);return e||Mt(!1),e}function hE(n){let e=OC(),t=e.matches[e.matches.length-1];return t.route.id||Mt(!1),t.route.id}function VC(){var n;let e=L.useContext(aE),t=NC(),r=hE();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function MC(){let{router:n}=DC(uE.UseNavigateStable),e=hE(dE.UseNavigateStable),t=L.useRef(!1);return lE(()=>{t.current=!0}),L.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,rd({fromRouteId:e},a)))},[n,e])}const Jx={};function LC(n,e,t){Jx[n]||(Jx[n]=!0)}function FC(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function jC(n){let{to:e,replace:t,state:r,relative:i}=n;Ic()||Mt(!1);let{future:a,static:l}=L.useContext(_o),{matches:u}=L.useContext(Di),{pathname:p}=bc(),f=bf(),v=Av(e,Sv(u,a.v7_relativeSplatPath),p,i==="path"),_=JSON.stringify(v);return L.useEffect(()=>f(JSON.parse(_),{replace:t,state:r,relative:i}),[f,_,i,t,r]),null}function zC(n){return EC(n.context)}function De(n){Mt(!1)}function UC(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Xs.Pop,navigator:a,static:l=!1,future:u}=n;Ic()&&Mt(!1);let p=e.replace(/^\/*/,"/"),f=L.useMemo(()=>({basename:p,navigator:a,static:l,future:rd({v7_relativeSplatPath:!1},u)}),[p,u,a,l]);typeof r=="string"&&(r=xc(r));let{pathname:v="/",search:_="",hash:I="",state:P=null,key:O="default"}=r,z=L.useMemo(()=>{let C=Pv(v,p);return C==null?null:{location:{pathname:C,search:_,hash:I,state:P,key:O},navigationType:i}},[p,v,_,I,P,O,i]);return z==null?null:L.createElement(_o.Provider,{value:f},L.createElement(If.Provider,{children:t,value:z}))}function BC(n){let{children:e,location:t}=n;return TC(ky(e),t)}new Promise(()=>{});function ky(n,e){e===void 0&&(e=[]);let t=[];return L.Children.forEach(n,(r,i)=>{if(!L.isValidElement(r))return;let a=[...e,i];if(r.type===L.Fragment){t.push.apply(t,ky(r.props.children,a));return}r.type!==De&&Mt(!1),!r.props.index||!r.props.children||Mt(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=ky(r.props.children,a)),t.push(l)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Py(){return Py=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Py.apply(this,arguments)}function qC(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function HC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function $C(n,e){return n.button===0&&(!e||e==="_self")&&!HC(n)}const WC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],GC="6";try{window.__reactRouterVersion=GC}catch{}const KC="startTransition",Xx=UA[KC];function QC(n){let{basename:e,children:t,future:r,window:i}=n,a=L.useRef();a.current==null&&(a.current=KA({window:i,v5Compat:!0}));let l=a.current,[u,p]=L.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},v=L.useCallback(_=>{f&&Xx?Xx(()=>p(_)):p(_)},[p,f]);return L.useLayoutEffect(()=>l.listen(v),[l,v]),L.useEffect(()=>FC(r),[r]),L.createElement(UC,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:l,future:r})}const YC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ze=L.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:u,target:p,to:f,preventScrollReset:v,viewTransition:_}=e,I=qC(e,WC),{basename:P}=L.useContext(_o),O,z=!1;if(typeof f=="string"&&JC.test(f)&&(O=f,YC))try{let Q=new URL(window.location.href),se=f.startsWith("//")?new URL(Q.protocol+f):new URL(f),ve=Pv(se.pathname,P);se.origin===Q.origin&&ve!=null?f=ve+se.search+se.hash:z=!0}catch{}let C=xC(f,{relative:i}),K=XC(f,{replace:l,state:u,target:p,preventScrollReset:v,relative:i,viewTransition:_});function J(Q){r&&r(Q),Q.defaultPrevented||K(Q)}return L.createElement("a",Py({},I,{href:O||C,onClick:z||a?r:J,ref:t,target:p}))});var Zx;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Zx||(Zx={}));var e1;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(e1||(e1={}));function XC(n,e){let{target:t,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:u}=e===void 0?{}:e,p=bf(),f=bc(),v=cE(n,{relative:l});return L.useCallback(_=>{if($C(_,t)){_.preventDefault();let I=r!==void 0?r:Up(f)===Up(v);p(n,{replace:I,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[f,p,v,r,i,t,n,a,l,u])}const ZC="modulepreload",eR=function(n){return"/"+n},t1={},Ne=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let p=function(f){return Promise.all(f.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");i=p(t.map(f=>{if(f=eR(f),f in t1)return;t1[f]=!0;const v=f.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${_}`))return;const I=document.createElement("link");if(I.rel=v?"stylesheet":ZC,v||(I.as="script"),I.crossOrigin="",I.href=f,u&&I.setAttribute("nonce",u),document.head.appendChild(I),v)return new Promise((P,O)=>{I.addEventListener("load",P),I.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},pE=L.createContext(void 0),tR=({children:n})=>{const[e,t]=L.useState(()=>{if(typeof window<"u"){const i=localStorage.getItem("theme");return i==="light"||i==="dark"?i:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}return"light"});L.useEffect(()=>{const i=window.document.documentElement;e==="dark"?i.classList.add("dark"):i.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const r=()=>{t(i=>i==="light"?"dark":"light")};return w.jsx(pE.Provider,{value:{theme:e,toggleTheme:r},children:n})},nR=()=>{const n=L.useContext(pE);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},rR=()=>{};var n1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},iR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],u=n[t++],p=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},mE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,u=l?n[i+1]:0,p=i+2<n.length,f=p?n[i+2]:0,v=a>>2,_=(a&3)<<4|u>>4;let I=(u&15)<<2|f>>6,P=f&63;p||(P=64,l||(I=64)),r.push(t[v],t[_],t[I],t[P])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):iR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||u==null||f==null||_==null)throw new sR;const I=a<<2|u>>4;if(r.push(I),f!==64){const P=u<<4&240|f>>2;if(r.push(P),_!==64){const O=f<<6&192|_;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class sR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oR=function(n){const e=fE(n);return mE.encodeByteArray(e,!0)},Bp=function(n){return oR(n).replace(/\./g,"")},Rv=function(n){try{return mE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qp(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!aR(t)||(n[t]=qp(n[t],e[t]));return n}function aR(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=()=>Dv().__FIREBASE_DEFAULTS__,cR=()=>{if(typeof process>"u"||typeof n1>"u")return;const n=n1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},uR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Rv(n[1]);return e&&JSON.parse(e)},Nv=()=>{try{return rR()||lR()||cR()||uR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ov=()=>Nv()?.config,dR=n=>Nv()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Vv(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Bp(JSON.stringify(t)),Bp(JSON.stringify(l)),""].join(".")}const zu={};function pR(){const n={prod:[],emulator:[]};for(const e of Object.keys(zu))zu[e]?n.emulator.push(e):n.prod.push(e);return n}function fR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let r1=!1;function Mv(n,e){if(typeof window>"u"||typeof document>"u"||!xo(window.location.host)||zu[n]===e||zu[n]||r1)return;zu[n]=e;function t(I){return`__firebase__banner__${I}`}const r="__firebase__banner",a=pR().prod.length>0;function l(){const I=document.getElementById(r);I&&I.remove()}function u(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function p(I,P){I.setAttribute("width","24"),I.setAttribute("id",P),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function f(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{r1=!0,l()},I}function v(I,P){I.setAttribute("id",P),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function _(){const I=fR(r),P=t("text"),O=document.getElementById(P)||document.createElement("span"),z=t("learnmore"),C=document.getElementById(z)||document.createElement("a"),K=t("preprendIcon"),J=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const Q=I.element;u(Q),v(C,z);const se=f();p(J,K),Q.append(J,O,C,se),document.body.appendChild(Q)}a?(O.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function Ef(){const n=Nv()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gR(){return typeof window<"u"||yE()}function yE(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function yR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Tf(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Lv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vE(){const n=kt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function wE(){return!Ef()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _E(){return!Ef()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function xa(){try{return typeof indexedDB=="object"}catch{return!1}}function Fv(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}function xE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="FirebaseError";class nn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=vR,Object.setPrototypeOf(this,nn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cs.prototype.create)}}class cs{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?wR(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new nn(i,u,r)}}function wR(n,e){return n.replace(_R,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _R=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function xR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function lo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(s1(a)&&s1(l)){if(!lo(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function s1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ql(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Du(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function IE(n,e){const t=new IR(n,e);return t.subscribe.bind(t)}class IR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");bR(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Kg),i.error===void 0&&(i.error=Kg),i.complete===void 0&&(i.complete=Kg);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Kg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=1e3,TR=2,kR=14400*1e3,PR=.5;function o1(n,e=ER,t=TR){const r=e*Math.pow(t,n),i=Math.round(PR*r*(Math.random()-.5)*2);return Math.min(kR,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n){return n&&n._delegate?n._delegate:n}class fn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new hR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CR(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AR(n){return n===na?void 0:n}function CR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new SR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=[];var ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ze||(ze={}));const EE={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},RR=ze.INFO,DR={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},NR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=DR[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pd{constructor(e){this.name=e,this._logLevel=RR,this._logHandler=NR,this._userLogHandler=null,jv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}function OR(n){jv.forEach(e=>{e.setLogLevel(n)})}function VR(n,e){for(const t of jv){let r=null;e&&e.level&&(r=EE[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,a,...l)=>{const u=l.map(p=>{if(p==null)return null;if(typeof p=="string")return p;if(typeof p=="number"||typeof p=="boolean")return p.toString();if(p instanceof Error)return p.message;try{return JSON.stringify(p)}catch{return null}}).filter(p=>p).join(" ");a>=(r??i.logLevel)&&n({level:ze[a].toLowerCase(),message:u,args:l,type:i.name})}}}const MR=(n,e)=>e.some(t=>n instanceof t);let a1,l1;function LR(){return a1||(a1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FR(){return l1||(l1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TE=new WeakMap,Sy=new WeakMap,kE=new WeakMap,Qg=new WeakMap,zv=new WeakMap;function jR(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(ro(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&TE.set(t,n)}).catch(()=>{}),zv.set(e,n),e}function zR(n){if(Sy.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Sy.set(n,e)}let Ay={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Sy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||kE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ro(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function UR(n){Ay=n(Ay)}function BR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Yg(this),e,...t);return kE.set(r,e.sort?e.sort():[e]),ro(r)}:FR().includes(n)?function(...e){return n.apply(Yg(this),e),ro(TE.get(this))}:function(...e){return ro(n.apply(Yg(this),e))}}function qR(n){return typeof n=="function"?BR(n):(n instanceof IDBTransaction&&zR(n),MR(n,LR())?new Proxy(n,Ay):n)}function ro(n){if(n instanceof IDBRequest)return jR(n);if(Qg.has(n))return Qg.get(n);const e=qR(n);return e!==n&&(Qg.set(n,e),zv.set(e,n)),e}const Yg=n=>zv.get(n);function PE(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),u=ro(l);return r&&l.addEventListener("upgradeneeded",p=>{r(ro(l.result),p.oldVersion,p.newVersion,ro(l.transaction),p)}),t&&l.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),u.then(p=>{a&&p.addEventListener("close",()=>a()),i&&p.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const HR=["get","getKey","getAll","getAllKeys","count"],$R=["put","add","delete","clear"],Jg=new Map;function c1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jg.get(e))return Jg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=$R.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||HR.includes(t)))return;const a=async function(l,...u){const p=this.transaction(l,i?"readwrite":"readonly");let f=p.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),i&&p.done]))[0]};return Jg.set(e,a),a}UR(n=>({...n,get:(e,t,r)=>c1(e,t)||n.get(e,t,r),has:(e,t)=>!!c1(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function GR(n){return n.getComponent()?.type==="VERSION"}const Hp="@firebase/app",Cy="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new Pd("@firebase/app"),KR="@firebase/app-compat",QR="@firebase/analytics-compat",YR="@firebase/analytics",JR="@firebase/app-check-compat",XR="@firebase/app-check",ZR="@firebase/auth",e4="@firebase/auth-compat",t4="@firebase/database",n4="@firebase/data-connect",r4="@firebase/database-compat",i4="@firebase/functions",s4="@firebase/functions-compat",o4="@firebase/installations",a4="@firebase/installations-compat",l4="@firebase/messaging",c4="@firebase/messaging-compat",u4="@firebase/performance",d4="@firebase/performance-compat",h4="@firebase/remote-config",p4="@firebase/remote-config-compat",f4="@firebase/storage",m4="@firebase/storage-compat",g4="@firebase/firestore",y4="@firebase/ai",v4="@firebase/firestore-compat",w4="firebase",_4="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="[DEFAULT]",x4={[Hp]:"fire-core",[KR]:"fire-core-compat",[YR]:"fire-analytics",[QR]:"fire-analytics-compat",[XR]:"fire-app-check",[JR]:"fire-app-check-compat",[ZR]:"fire-auth",[e4]:"fire-auth-compat",[t4]:"fire-rtdb",[n4]:"fire-data-connect",[r4]:"fire-rtdb-compat",[i4]:"fire-fn",[s4]:"fire-fn-compat",[o4]:"fire-iid",[a4]:"fire-iid-compat",[l4]:"fire-fcm",[c4]:"fire-fcm-compat",[u4]:"fire-perf",[d4]:"fire-perf-compat",[h4]:"fire-rc",[p4]:"fire-rc-compat",[f4]:"fire-gcs",[m4]:"fire-gcs-compat",[g4]:"fire-fst",[v4]:"fire-fst-compat",[y4]:"fire-vertex","fire-js":"fire-js",[w4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new Map,Jl=new Map,Xl=new Map;function id(n,e){try{n.container.addComponent(e)}catch(t){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function SE(n,e){n.container.addOrOverwriteComponent(e)}function dr(n){const e=n.name;if(Xl.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;Xl.set(e,n);for(const t of uo.values())id(t,n);for(const t of Jl.values())id(t,n);return!0}function kf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function I4(n,e,t=co){kf(n,e).clearInstance(t)}function Uv(n){return n.options!==void 0}function AE(n){return Uv(n)?!1:"authIdToken"in n||"appCheckToken"in n||"releaseOnDeref"in n||"automaticDataCollectionEnabled"in n}function ft(n){return n==null?!1:n.settings!==void 0}function b4(){Xl.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new cs("app","Firebase",E4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CE=class{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(n,e){const t=Rv(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,a=new Date().getTime();i-a<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class T4 extends CE{constructor(e,t,r,i){const a=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,l={name:r,automaticDataCollectionEnabled:a};if(e.apiKey!==void 0)super(e,l,i);else{const u=e;super(u.options,l,i)}this._serverConfig={automaticDataCollectionEnabled:a,...t},this._serverConfig.authIdToken&&u1(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&u1(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,hn(Hp,Cy,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){qv(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw cr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=_4;function Bv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:co,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw cr.create("bad-app-name",{appName:String(i)});if(t||(t=Ov()),!t)throw cr.create("no-options");const a=uo.get(i);if(a){if(lo(t,a.options)&&lo(r,a.config))return a;throw cr.create("duplicate-app",{appName:i})}const l=new bE(i);for(const p of Xl.values())l.addComponent(p);const u=new CE(t,r,l);return uo.set(i,u),u}function k4(n,e={}){if(gR()&&!yE())throw cr.create("invalid-server-app-environment");let t,r=e||{};if(n&&(Uv(n)?t=n.options:AE(n)?r=n:t=n),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),t||(t=Ov()),!t)throw cr.create("no-options");const i={...r,...t};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const a=v=>[...v].reduce((_,I)=>Math.imul(31,_)+I.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw cr.create("finalization-registry-not-supported",{});const l=""+a(JSON.stringify(i)),u=Jl.get(l);if(u)return u.incRefCount(r.releaseOnDeref),u;const p=new bE(l);for(const v of Xl.values())p.addComponent(v);const f=new T4(t,r,l,p);return Jl.set(l,f),f}function P4(n=co){const e=uo.get(n);if(!e&&n===co&&Ov())return Bv();if(!e)throw cr.create("no-app",{appName:n});return e}function S4(){return Array.from(uo.values())}async function qv(n){let e=!1;const t=n.name;uo.has(t)?(e=!0,uo.delete(t)):Jl.has(t)&&n.decRefCount()<=0&&(Jl.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function hn(n,e,t){let r=x4[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(l.join(" "));return}dr(new fn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function RE(n,e){if(n!==null&&typeof n!="function")throw cr.create("invalid-log-argument");VR(n,e)}function DE(n){OR(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="firebase-heartbeat-database",C4=1,sd="firebase-heartbeat-store";let Xg=null;function NE(){return Xg||(Xg=PE(A4,C4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(sd)}catch(t){console.warn(t)}}}}).catch(n=>{throw cr.create("idb-open",{originalErrorMessage:n.message})})),Xg}async function R4(n){try{const t=(await NE()).transaction(sd),r=await t.objectStore(sd).get(OE(n));return await t.done,r}catch(e){if(e instanceof nn)ss.warn(e.message);else{const t=cr.create("idb-get",{originalErrorMessage:e?.message});ss.warn(t.message)}}}async function d1(n,e){try{const r=(await NE()).transaction(sd,"readwrite");await r.objectStore(sd).put(e,OE(n)),await r.done}catch(t){if(t instanceof nn)ss.warn(t.message);else{const r=cr.create("idb-set",{originalErrorMessage:t?.message});ss.warn(r.message)}}}function OE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=1024,N4=30;class O4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new M4(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=h1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>N4){const i=L4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=h1(),{heartbeatsToSend:t,unsentEntries:r}=V4(this._heartbeatsCache.heartbeats),i=Bp(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ss.warn(e),""}}}function h1(){return new Date().toISOString().substring(0,10)}function V4(n,e=D4){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),p1(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),p1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class M4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xa()?Fv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await R4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return d1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return d1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function p1(n){return Bp(JSON.stringify({version:2,heartbeats:n})).length}function L4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(n){dr(new fn("platform-logger",e=>new WR(e),"PRIVATE")),dr(new fn("heartbeat",e=>new O4(e),"PRIVATE")),hn(Hp,Cy,n),hn(Hp,Cy,"esm2020"),hn("fire-js","")}F4("");const j4=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:nn,SDK_VERSION:us,_DEFAULT_ENTRY_NAME:co,_addComponent:id,_addOrOverwriteComponent:SE,_apps:uo,_clearComponents:b4,_components:Xl,_getProvider:kf,_isFirebaseApp:Uv,_isFirebaseServerApp:ft,_isFirebaseServerAppSettings:AE,_registerComponent:dr,_removeServiceInstance:I4,_serverApps:Jl,deleteApp:qv,getApp:P4,getApps:S4,initializeApp:Bv,initializeServerApp:k4,onLog:RE,registerVersion:hn,setLogLevel:DE},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,t){this._delegate=e,this.firebase=t,id(e,new fn("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),qv(this._delegate)))}_getService(e,t=co){this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&r.getComponent()?.instantiationMode==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=co){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){id(this._delegate,e)}_addOrOverwriteComponent(e){SE(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},f1=new cs("app-compat","Firebase",U4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(n){const e={},t={__esModule:!0,initializeApp:a,app:i,registerVersion:hn,setLogLevel:DE,onLog:RE,apps:null,SDK_VERSION:us,INTERNAL:{registerComponent:u,removeApp:r,useAsService:p,modularAPIs:j4}};t.default=t,Object.defineProperty(t,"apps",{get:l});function r(f){delete e[f]}function i(f){if(f=f||co,!i1(e,f))throw f1.create("no-app",{appName:f});return e[f]}i.App=n;function a(f,v={}){const _=Bv(f,v);if(i1(e,_.name))return e[_.name];const I=new n(_,t);return e[_.name]=I,I}function l(){return Object.keys(e).map(f=>e[f])}function u(f){const v=f.name,_=v.replace("-compat","");if(dr(f)&&f.type==="PUBLIC"){const I=(P=i())=>{if(typeof P[_]!="function")throw f1.create("invalid-app-argument",{appName:v});return P[_]()};f.serviceProps!==void 0&&qp(I,f.serviceProps),t[_]=I,n.prototype[_]=function(...P){return this._getService.bind(this,v).apply(this,f.multipleInstances?P:[])}}return f.type==="PUBLIC"?t[_]:null}function p(f,v){return v==="serverAuth"?null:v}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(){const n=B4(z4);n.INTERNAL={...n.INTERNAL,createFirebaseNamespace:VE,extendNamespace:e,createSubscribe:IE,ErrorFactory:cs,deepExtend:qp};function e(t){qp(n,t)}return n}const q4=VE();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=new Pd("@firebase/app-compat"),H4="@firebase/app-compat",$4="0.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(n){hn(H4,$4,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=Dv();if(n.firebase!==void 0){m1.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&m1.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Tn=q4;W4();var G4="firebase",K4="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.registerVersion(G4,K4,"app-compat");const Iu={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Al={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function ME(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y4=Q4,J4=ME,LE=new cs("auth","Firebase",ME());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=new Pd("@firebase/auth");function X4(n,...e){$p.logLevel<=ze.WARN&&$p.warn(`Auth (${us}): ${n}`,...e)}function Tp(n,...e){$p.logLevel<=ze.ERROR&&$p.error(`Auth (${us}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(n,...e){throw $v(n,...e)}function Kt(n,...e){return $v(n,...e)}function Hv(n,e,t){const r={...J4(),[e]:t};return new cs("auth","Firebase",r).create(e,{appName:n.name})}function rn(n){return Hv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&mn(n,"argument-error"),Hv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $v(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return LE.create(n,...e)}function re(n,e,...t){if(!n)throw $v(e,...t)}function Ii(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Tp(e),new Error(e)}function ei(n,e){n||Ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(){return typeof self<"u"&&self.location?.href||""}function Wv(){return g1()==="http:"||g1()==="https:"}function g1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Wv()||Tf()||"connection"in navigator)?navigator.onLine:!0}function eD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,t){this.shortDelay=e,this.longDelay=t,ei(t>e,"Short delay should be less than long delay!"),this.isMobile=mR()||Lv()}get(){return Z4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(n,e){ei(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rD=new Sd(3e4,6e4);function Rt(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Dt(n,e,t,r,i={}){return jE(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=Ec({key:n.config.apiKey,...l}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:p,...a};return yR()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&xo(n.emulatorConfig.host)&&(f.credentials="include"),FE.fetch()(await zE(n,n.config.apiHost,t,u),f)})}async function jE(n,e,t){n._canInitEmulator=!1;const r={...tD,...e};try{const i=new sD(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Nu(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[p,f]=u.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nu(n,"credential-already-in-use",l);if(p==="EMAIL_EXISTS")throw Nu(n,"email-already-in-use",l);if(p==="USER_DISABLED")throw Nu(n,"user-disabled",l);const v=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Hv(n,v,f);mn(n,v)}}catch(i){if(i instanceof nn)throw i;mn(n,"network-request-failed",{message:String(i)})}}async function ds(n,e,t,r,i={}){const a=await Dt(n,e,t,r,i);return"mfaPendingCredential"in a&&mn(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function zE(n,e,t,r){const i=`${e}${t}?${r}`,a=n,l=a.config.emulator?Gv(n.config,i):`${n.config.apiScheme}://${i}`;return nD.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function iD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Kt(this.auth,"network-request-failed")),rD.get())})}}function Nu(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Kt(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(n){return n!==void 0&&n.getResponse!==void 0}function v1(n){return n!==void 0&&n.enterprise!==void 0}class UE{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return iD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(n){return(await Dt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function BE(n,e){return Dt(n,"GET","/v2/recaptchaConfig",Rt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(n,e){return Dt(n,"POST","/v1/accounts:delete",e)}async function lD(n,e){return Dt(n,"POST","/v1/accounts:update",e)}async function Wp(n,e){return Dt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cD(n,e=!1){const t=we(n),r=await t.getIdToken(e),i=Pf(r);re(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:Uu(Zg(i.auth_time)),issuedAtTime:Uu(Zg(i.iat)),expirationTime:Uu(Zg(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Zg(n){return Number(n)*1e3}function Pf(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Tp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Rv(t);return i?JSON.parse(i):(Tp("Failed to decode base64 JWT payload"),null)}catch(i){return Tp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function w1(n){const e=Pf(n);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function os(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof nn&&uD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function uD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uu(this.lastLoginAt),this.creationTime=Uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ad(n){const e=n.auth,t=await n.getIdToken(),r=await os(n,Wp(e,{idToken:t}));re(r?.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const a=i.providerUserInfo?.length?qE(i.providerUserInfo):[],l=pD(n.providerData,a),u=n.isAnonymous,p=!(n.email&&i.passwordHash)&&!l?.length,f=u?p:!1,v={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Ry(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(n,v)}async function hD(n){const e=we(n);await ad(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pD(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(n,e){const t=await jE(n,{},async()=>{const r=Ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=await zE(n,i,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:u,body:r};return n.emulatorConfig&&xo(n.emulatorConfig.host)&&(p.credentials="include"),FE.fetch()(l,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function mD(n,e){return Dt(n,"POST","/v2/accounts:revokeToken",Rt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):w1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){re(e.length!==0,"internal-error");const t=w1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await fD(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new Hl;return r&&(re(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(re(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hl,this.toJSON())}_performRefresh(){return Ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(n,e){re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Jr{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new dD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ry(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await os(this,this.stsTokenManager.getToken(this.auth,e));return re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return cD(this,e)}reload(){return hD(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ad(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ft(this.auth.app))return Promise.reject(rn(this.auth));const e=await this.getIdToken();return await os(this,aD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,p=t._redirectEventId??void 0,f=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:_,emailVerified:I,isAnonymous:P,providerData:O,stsTokenManager:z}=t;re(_&&z,e,"internal-error");const C=Hl.fromJSON(this.name,z);re(typeof _=="string",e,"internal-error"),$s(r,e.name),$s(i,e.name),re(typeof I=="boolean",e,"internal-error"),re(typeof P=="boolean",e,"internal-error"),$s(a,e.name),$s(l,e.name),$s(u,e.name),$s(p,e.name),$s(f,e.name),$s(v,e.name);const K=new Jr({uid:_,auth:e,email:i,emailVerified:I,displayName:r,isAnonymous:P,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:C,createdAt:f,lastLoginAt:v});return O&&Array.isArray(O)&&(K.providerData=O.map(J=>({...J}))),p&&(K._redirectEventId=p),K}static async _fromIdTokenResponse(e,t,r=!1){const i=new Hl;i.updateFromServerResponse(t);const a=new Jr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ad(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];re(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?qE(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,u=new Hl;u.updateFromIdToken(r);const p=new Jr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ry(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(p,f),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=new Map;function lr(n){ei(n instanceof Function,"Expected a class definition");let e=_1.get(n);return e?(ei(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}HE.type="NONE";const Zl=HE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(n,e,t){return`firebase:${n}:${e}:${t}`}class $l{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=ya(this.userKey,i.apiKey,a),this.fullPersistenceKey=ya("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Wp(this.auth,{idToken:e}).catch(()=>{});return t?Jr._fromGetAccountInfoResponse(this.auth,t,e):null}return Jr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new $l(lr(Zl),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||lr(Zl);const l=ya(r,e.config.apiKey,e.name);let u=null;for(const f of t)try{const v=await f._get(l);if(v){let _;if(typeof v=="string"){const I=await Wp(e,{idToken:v}).catch(()=>{});if(!I)break;_=await Jr._fromGetAccountInfoResponse(e,I,v)}else _=Jr._fromJSON(e,v);f!==a&&(u=_),a=f;break}}catch{}const p=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new $l(a,e,r):(a=p[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new $l(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($E(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QE(e))return"Blackberry";if(YE(e))return"Webos";if(WE(e))return"Safari";if((e.includes("chrome/")||GE(e))&&!e.includes("edge/"))return"Chrome";if(Ad(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function $E(n=kt()){return/firefox\//i.test(n)}function WE(n=kt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GE(n=kt()){return/crios\//i.test(n)}function KE(n=kt()){return/iemobile/i.test(n)}function Ad(n=kt()){return/android/i.test(n)}function QE(n=kt()){return/blackberry/i.test(n)}function YE(n=kt()){return/webos/i.test(n)}function Cd(n=kt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gD(n=kt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function yD(n=kt()){return Cd(n)&&!!window.navigator?.standalone}function vD(){return vE()&&document.documentMode===10}function JE(n=kt()){return Cd(n)||Ad(n)||YE(n)||QE(n)||/windows phone/i.test(n)||KE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(n,e=[]){let t;switch(n){case"Browser":t=x1(kt());break;case"Worker":t=`${x1(kt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${us}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,u)=>{try{const p=e(a);l(p)}catch(p){u(p)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(n,e={}){return Dt(n,"GET","/v2/passwordPolicy",Rt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=6;class ID{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??xD,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I1(this),this.idTokenSubscription=new I1(this),this.beforeStateQueue=new wD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=lr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $l.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Wp(this,{idToken:e}),r=await Jr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ft(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ad(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ft(this.app))return Promise.reject(rn(this));const t=e?we(e):null;return t&&re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ft(this.app)?Promise.reject(rn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ft(this.app)?Promise.reject(rn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _D(this),t=new ID(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cs("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await mD(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&lr(e)||this._popupRedirectResolver;re(t,this,"argument-error"),this.redirectPersistenceManager=await $l.create(this,[lr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,i);return()=>{l=!0,p()}}else{const p=e.addObserver(t);return()=>{l=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ft(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&X4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Pt(n){return we(n)}class I1{constructor(e){this.auth=e,this.observer=null,this.addObserver=IE(t=>this.observer=t)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ED(n){Rd=n}function Kv(n){return Rd.loadJS(n)}function TD(){return Rd.recaptchaV2Script}function kD(){return Rd.recaptchaEnterpriseScript}function PD(){return Rd.gapiScript}function ZE(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=500,AD=6e4,hp=1e12;class CD{constructor(e){this.auth=e,this.counter=hp,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new ND(e,this.auth.name,t||{})),this.counter++,r}reset(e){const t=e||hp;this._widgets.get(t)?.delete(),this._widgets.delete(t)}getResponse(e){const t=e||hp;return this._widgets.get(t)?.getResponse()||""}async execute(e){const t=e||hp;return this._widgets.get(t)?.execute(),""}}class RD{constructor(){this.enterprise=new DD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class DD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ND{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;re(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=OD(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},AD)},SD))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function OD(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const VD="recaptcha-enterprise",Bu="NO_RECAPTCHA";class eT{constructor(e){this.type=VD,this.auth=Pt(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{BE(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new UE(p);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(p=>{u(p)})})}function i(a,l,u){const p=window.grecaptcha;v1(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(Bu)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RD().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!t&&v1(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let p=kD();p.length!==0&&(p+=u),Kv(p).then(()=>{i(u,a,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function bu(n,e,t,r=!1,i=!1){const a=new eT(n);let l;if(i)l=Bu;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const p=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const p=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function io(n,e,t,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await bu(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await bu(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const a=await bu(n,e,t);return r(n,a).catch(async l=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const u=await bu(n,e,t,!1,!0);return r(n,u)}return Promise.reject(l)})}else{const a=await bu(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")}async function MD(n){const e=Pt(n),t=await BE(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new UE(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new eT(e).verify()}function LD(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(lr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function FD(n,e,t){const r=Pt(n);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,a=tT(e),{host:l,port:u}=jD(e),p=u===null?"":`:${u}`,f={url:`${a}//${l}${p}/`},v=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(lo(f,r.config.emulator)&&lo(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,xo(l)?(Vv(`${a}//${l}${p}`),Mv("Auth",!0)):i||zD()}function tT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function jD(n){const e=tT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:b1(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:b1(l)}}}function b1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function zD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,t){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nT(n,e){return Dt(n,"POST","/v1/accounts:resetPassword",Rt(n,e))}async function UD(n,e){return Dt(n,"POST","/v1/accounts:update",e)}async function BD(n,e){return Dt(n,"POST","/v1/accounts:signUp",e)}async function qD(n,e){return Dt(n,"POST","/v1/accounts:update",Rt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(n,e){return ds(n,"POST","/v1/accounts:signInWithPassword",Rt(n,e))}async function Sf(n,e){return Dt(n,"POST","/v1/accounts:sendOobCode",Rt(n,e))}async function $D(n,e){return Sf(n,e)}async function WD(n,e){return Sf(n,e)}async function GD(n,e){return Sf(n,e)}async function KD(n,e){return Sf(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(n,e){return ds(n,"POST","/v1/accounts:signInWithEmailLink",Rt(n,e))}async function YD(n,e){return ds(n,"POST","/v1/accounts:signInWithEmailLink",Rt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld extends kc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new ld(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ld(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return io(e,t,"signInWithPassword",HD,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return QD(e,{email:this._email,oobCode:this._password});default:mn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return io(e,r,"signUpPassword",BD,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return YD(e,{idToken:t,email:this._email,oobCode:this._password});default:mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ns(n,e){return ds(n,"POST","/v1/accounts:signInWithIdp",Rt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="http://localhost";class Ai extends kc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ai(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):mn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=t;if(!r||!i)return null;const l=new Ai(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ns(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ns(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ns(e,t)}buildRequest(){const e={requestUri:JD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ec(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(n,e){return Dt(n,"POST","/v1/accounts:sendVerificationCode",Rt(n,e))}async function XD(n,e){return ds(n,"POST","/v1/accounts:signInWithPhoneNumber",Rt(n,e))}async function ZD(n,e){const t=await ds(n,"POST","/v1/accounts:signInWithPhoneNumber",Rt(n,e));if(t.temporaryProof)throw Nu(n,"account-exists-with-different-credential",t);return t}const eN={USER_NOT_FOUND:"user-not-found"};async function tN(n,e){const t={...e,operation:"REAUTH"};return ds(n,"POST","/v1/accounts:signInWithPhoneNumber",Rt(n,t),eN)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends kc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new va({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new va({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return XD(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return ZD(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return tN(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:a}=e;return!r&&!t&&!i&&!a?null:new va({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rN(n){const e=ql(Du(n)).link,t=e?ql(Du(e)).deep_link_id:null,r=ql(Du(n)).deep_link_id;return(r?ql(Du(r)).link:null)||r||t||e||n}class Af{constructor(e){const t=ql(Du(e)),r=t.apiKey??null,i=t.oobCode??null,a=nN(t.mode??null);re(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=rN(e);try{return new Af(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,t){return ld._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Af.parseLink(t);return re(r,"argument-error"),ld._fromEmailAndCode(e,r.code,r.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends hs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wl extends Pc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return re("providerId"in t&&"signInMethod"in t,"argument-error"),Ai._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return re(e.idToken||e.accessToken,"argument-error"),Ai._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Wl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Wl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:l,providerId:u}=e;if(!r&&!i&&!t&&!a||!u)return null;try{return new Wl(u)._credential({idToken:t,accessToken:r,nonce:l,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Pc{constructor(){super("facebook.com")}static credential(e){return Ai._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ai._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return vi.credential(t,r)}catch{return null}}}vi.GOOGLE_SIGN_IN_METHOD="google.com";vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Pc{constructor(){super("github.com")}static credential(e){return Ai._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.GITHUB_SIGN_IN_METHOD="github.com";wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="http://localhost";class ec extends kc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return ns(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ns(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ns(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:a}=t;return!r||!i||!a||r!==i?null:new ec(r,a)}static _create(e,t){return new ec(e,t)}buildRequest(){return{requestUri:iN,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="saml.";class Gp extends hs{constructor(e){re(e.startsWith(sN),"argument-error"),super(e)}static credentialFromResult(e){return Gp.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Gp.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=ec.fromJSON(e);return re(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return ec._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Pc{constructor(){super("twitter.com")}static credential(e,t){return Ai._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return _i.credential(t,r)}catch{return null}}}_i.TWITTER_SIGN_IN_METHOD="twitter.com";_i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rT(n,e){return ds(n,"POST","/v1/accounts:signUp",Rt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await Jr._fromIdTokenResponse(e,r,i),l=T1(r);return new Pr({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=T1(r);return new Pr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function T1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(n){if(ft(n.app))return Promise.reject(rn(n));const e=Pt(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Pr({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await rT(e,{returnSecureToken:!0}),r=await Pr._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends nn{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Kp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Kp(e,t,r,i)}}function iT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Kp._fromErrorAndOperation(n,a,e,r):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(n,e){const t=we(n);await Cf(!0,t,e);const{providerUserInfo:r}=await lD(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=sT(r||[]);return t.providerData=t.providerData.filter(a=>i.has(a.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function Qv(n,e,t=!1){const r=await os(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Pr._forOperation(n,"link",r)}async function Cf(n,e,t){await ad(e);const r=sT(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";re(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oT(n,e,t=!1){const{auth:r}=n;if(ft(r.app))return Promise.reject(rn(r));const i="reauthenticate";try{const a=await os(n,iT(r,i,e,n),t);re(a.idToken,r,"internal-error");const l=Pf(a.idToken);re(l,r,"internal-error");const{sub:u}=l;return re(n.uid===u,r,"user-mismatch"),Pr._forOperation(n,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&mn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aT(n,e,t=!1){if(ft(n.app))return Promise.reject(rn(n));const r="signIn",i=await iT(n,r,e),a=await Pr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function Rf(n,e){return aT(Pt(n),e)}async function lT(n,e){const t=we(n);return await Cf(!1,t,e.providerId),Qv(t,e)}async function cT(n,e){return oT(we(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(n,e){return ds(n,"POST","/v1/accounts:signInWithCustomToken",Rt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(n,e){if(ft(n.app))return Promise.reject(rn(n));const t=Pt(n),r=await lN(t,{token:e,returnSecureToken:!0}),i=await Pr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Yv._fromServerResponse(e,t):"totpInfo"in t?Jv._fromServerResponse(e,t):mn(e,"internal-error")}}class Yv extends Dd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Yv(t)}}class Jv extends Dd{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Jv(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(n,e,t){re(t.url?.length>0,n,"invalid-continue-uri"),re(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),re(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(re(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(re(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xv(n){const e=Pt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uN(n,e,t){const r=Pt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Df(r,i,t),await io(r,i,"getOobCode",WD,"EMAIL_PASSWORD_PROVIDER")}async function dN(n,e,t){await nT(we(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Xv(n),r})}async function hN(n,e){await qD(we(n),{oobCode:e})}async function uT(n,e){const t=we(n),r=await nT(t,{oobCode:e}),i=r.requestType;switch(re(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(r.mfaInfo,t,"internal-error");default:re(r.email,t,"internal-error")}let a=null;return r.mfaInfo&&(a=Dd._fromServerResponse(Pt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:i}}async function pN(n,e){const{data:t}=await uT(we(n),e);return t.email}async function fN(n,e,t){if(ft(n.app))return Promise.reject(rn(n));const r=Pt(n),l=await io(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rT,"EMAIL_PASSWORD_PROVIDER").catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Xv(n),p}),u=await Pr._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function mN(n,e,t){return ft(n.app)?Promise.reject(rn(n)):Rf(we(n),Io.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Xv(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(n,e,t){const r=Pt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(l,u){re(u.handleCodeInApp,r,"argument-error"),u&&Df(r,l,u)}a(i,t),await io(r,i,"getOobCode",GD,"EMAIL_PASSWORD_PROVIDER")}function yN(n,e){return Af.parseLink(e)?.operation==="EMAIL_SIGNIN"}async function vN(n,e,t){if(ft(n.app))return Promise.reject(rn(n));const r=we(n),i=Io.credentialWithLink(e,t||od());return re(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Rf(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(n,e){return Dt(n,"POST","/v1/accounts:createAuthUri",Rt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(n,e){const t=Wv()?od():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await wN(we(n),r);return i||[]}async function xN(n,e){const t=we(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Df(t.auth,i,e);const{email:a}=await $D(t.auth,i);a!==n.email&&await n.reload()}async function IN(n,e,t){const r=we(n),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Df(r.auth,a,t);const{email:l}=await KD(r.auth,a);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(n,e){return Dt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=we(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await os(r,bN(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:p})=>p==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function TN(n,e){const t=we(n);return ft(t.auth.app)?Promise.reject(rn(t.auth)):dT(t,e,null)}function kN(n,e){return dT(we(n),null,e)}async function dT(n,e,t){const{auth:r}=n,a={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(a.email=e),t&&(a.password=t);const l=await os(n,UD(r,a));await n._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(n){if(!n)return null;const{providerId:e}=n,t=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},r=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&n?.idToken){const i=Pf(n.idToken)?.firebase?.sign_in_provider;if(i){const a=i!=="anonymous"&&i!=="custom"?i:null;return new Gl(r,a)}}if(!e)return null;switch(e){case"facebook.com":return new SN(r,t);case"github.com":return new AN(r,t);case"google.com":return new CN(r,t);case"twitter.com":return new RN(r,t,n.screenName||null);case"custom":case"anonymous":return new Gl(r,null);default:return new Gl(r,e,t)}}class Gl{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class hT extends Gl{constructor(e,t,r,i){super(e,t,r),this.username=i}}class SN extends Gl{constructor(e,t){super(e,"facebook.com",t)}}class AN extends hT{constructor(e,t){super(e,"github.com",t,typeof t?.login=="string"?t?.login:null)}}class CN extends Gl{constructor(e,t){super(e,"google.com",t)}}class RN extends hT{constructor(e,t,r){super(e,"twitter.com",t,r)}}function DN(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:PN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new ha("enroll",e,t)}static _fromMfaPendingCredential(e){return new ha("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential)return ha._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(e.multiFactorSession?.idToken)return ha._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Pt(e),i=t.customData._serverResponse,a=(i.mfaInfo||[]).map(u=>Dd._fromServerResponse(r,u));re(i.mfaPendingCredential,r,"internal-error");const l=ha._fromMfaPendingCredential(i.mfaPendingCredential);return new Zv(l,a,async u=>{const p=await u._process(r,l);delete i.mfaInfo,delete i.mfaPendingCredential;const f={...i,idToken:p.idToken,refreshToken:p.refreshToken};switch(t.operationType){case"signIn":const v=await Pr._fromIdTokenResponse(r,t.operationType,f);return await r._updateCurrentUser(v.user),v;case"reauthenticate":return re(t.user,r,"internal-error"),Pr._forOperation(t.user,t.operationType,f);default:mn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function NN(n,e){const t=we(n),r=e;return re(e.customData.operationType,t,"argument-error"),re(r.customData._serverResponse?.mfaPendingCredential,t,"argument-error"),Zv._fromError(t,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(n,e){return Dt(n,"POST","/v2/accounts/mfaEnrollment:start",Rt(n,e))}function ON(n,e){return Dt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Rt(n,e))}function VN(n,e){return Dt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Rt(n,e))}class ew{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Dd._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new ew(e)}async getSession(){return ha._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),a=await os(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await os(this.user,VN(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const ey=new WeakMap;function MN(n){const e=we(n);return ey.has(e)||ey.set(e,ew._fromUser(e)),ey.get(e)}const Qp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qp,"1"),this.storage.removeItem(Qp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=1e3,FN=10;class fT extends pT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,p)=>{this.notifyListeners(l,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);vD()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,FN):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},LN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fT.type="LOCAL";const tw=fT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT extends pT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mT.type="SESSION";const Ia=mT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Nf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(t.origin,a)),p=await jN(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,p)=>{const f=Nd("",20);i.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const I=_;if(I.data.eventId===f)switch(I.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(I.data.response);break;default:clearTimeout(v),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return window}function UN(n){qt().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(){return typeof qt().WorkerGlobalScope<"u"&&typeof qt().importScripts=="function"}async function BN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qN(){return navigator?.serviceWorker?.controller||null}function HN(){return nw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="firebaseLocalStorageDb",$N=1,Yp="firebaseLocalStorage",yT="fbase_key";class Od{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Of(n,e){return n.transaction([Yp],e?"readwrite":"readonly").objectStore(Yp)}function WN(){const n=indexedDB.deleteDatabase(gT);return new Od(n).toPromise()}function Dy(){const n=indexedDB.open(gT,$N);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Yp,{keyPath:yT})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Yp)?e(r):(r.close(),await WN(),e(await Dy()))})})}async function P1(n,e,t){const r=Of(n,!0).put({[yT]:e,value:t});return new Od(r).toPromise()}async function GN(n,e){const t=Of(n,!1).get(e),r=await new Od(t).toPromise();return r===void 0?null:r.value}function S1(n,e){const t=Of(n,!0).delete(e);return new Od(t).toPromise()}const KN=800,QN=3;class vT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>QN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nf._getInstance(HN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await BN(),!this.activeServiceWorker)return;this.sender=new zN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dy();return await P1(e,Qp,"1"),await S1(e,Qp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>P1(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>GN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>S1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Of(i,!1).getAll();return new Od(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vT.type="LOCAL";const cd=vT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(n,e){return Dt(n,"POST","/v2/accounts/mfaSignIn:start",Rt(n,e))}function YN(n,e){return Dt(n,"POST","/v2/accounts/mfaSignIn:finalize",Rt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=ZE("rcb"),JN=new Sd(3e4,6e4);class XN{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!qt().grecaptcha?.render}load(e,t=""){return re(ZN(t),e,"argument-error"),this.shouldResolveImmediately(t)&&y1(qt().grecaptcha)?Promise.resolve(qt().grecaptcha):new Promise((r,i)=>{const a=qt().setTimeout(()=>{i(Kt(e,"network-request-failed"))},JN.get());qt()[ty]=()=>{qt().clearTimeout(a),delete qt()[ty];const u=qt().grecaptcha;if(!u||!y1(u)){i(Kt(e,"internal-error"));return}const p=u.render;u.render=(f,v)=>{const _=p(f,v);return this.counter++,_},this.hostLanguage=t,r(u)};const l=`${TD()}?${Ec({onload:ty,render:"explicit",hl:t})}`;Kv(l).catch(()=>{clearTimeout(a),i(Kt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!qt().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function ZN(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class e3{async load(e){return new CD(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu="recaptcha",t3={theme:"light",type:"image"};let n3=class{constructor(e,t,r={...t3}){this.parameters=r,this.type=qu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pt(e),this.isInvisible=this.parameters.size==="invisible",re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;re(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new e3:new XN,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const a=l=>{l&&(this.tokenChangeListeners.delete(a),i(l))};this.tokenChangeListeners.add(a),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=qt()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){re(Wv()&&!nw(),this.auth,"internal-error"),await r3(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await oD(this.auth);re(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function r3(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=va._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function i3(n,e,t){if(ft(n.app))return Promise.reject(rn(n));const r=Pt(n),i=await Vf(r,e,we(t));return new rw(i,a=>Rf(r,a))}async function s3(n,e,t){const r=we(n);await Cf(!1,r,"phone");const i=await Vf(r.auth,e,we(t));return new rw(i,a=>lT(r,a))}async function o3(n,e,t){const r=we(n);if(ft(r.auth.app))return Promise.reject(rn(r.auth));const i=await Vf(r.auth,e,we(t));return new rw(i,a=>cT(r,a))}async function Vf(n,e,t){if(!n._getRecaptchaConfig())try{await MD(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const i=r.session;if("phoneNumber"in r){re(i.type==="enroll",n,"internal-error");const a={idToken:i.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await io(n,a,"mfaSmsEnrollment",async(f,v)=>{if(v.phoneEnrollmentInfo.captchaResponse===Bu){re(t?.type===qu,f,"argument-error");const _=await ny(f,v,t);return k1(f,_)}return k1(f,v)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneSessionInfo.sessionInfo}else{re(i.type==="signin",n,"internal-error");const a=r.multiFactorHint?.uid||r.multiFactorUid;re(a,n,"missing-multi-factor-info");const l={mfaPendingCredential:i.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await io(n,l,"mfaSmsSignIn",async(v,_)=>{if(_.phoneSignInInfo.captchaResponse===Bu){re(t?.type===qu,v,"argument-error");const I=await ny(v,_,t);return A1(v,I)}return A1(v,_)},"PHONE_PROVIDER").catch(v=>Promise.reject(v))).phoneResponseInfo.sessionInfo}}else{const i={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await io(n,i,"sendVerificationCode",async(p,f)=>{if(f.captchaResponse===Bu){re(t?.type===qu,p,"argument-error");const v=await ny(p,f,t);return E1(p,v)}return E1(p,f)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).sessionInfo}}finally{t?._reset()}}async function a3(n,e){const t=we(n);if(ft(t.auth.app))return Promise.reject(rn(t.auth));await Qv(t,e)}async function ny(n,e,t){re(t.type===qu,n,"argument-error");const r=await t.verify();re(typeof r=="string",n,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const a=i.phoneEnrollmentInfo.phoneNumber,l=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,p=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r,captchaResponse:l,clientType:u,recaptchaVersion:p}}),i}else if("phoneSignInInfo"in i){const a=i.phoneSignInInfo.captchaResponse,l=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:a,clientType:l,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba=class kp{constructor(e){this.providerId=kp.PROVIDER_ID,this.auth=Pt(e)}verifyPhoneNumber(e,t){return Vf(this.auth,e,we(t))}static credential(e,t){return va._fromVerification(e,t)}static credentialFromResult(e){const t=e;return kp.credentialFromTaggedObject(t)}static credentialFromError(e){return kp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?va._fromTokenResponse(t,r):null}};ba.PROVIDER_ID="phone";ba.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(n,e){return e?lr(e):(re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw extends kc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ns(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ns(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ns(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function l3(n){return aT(n.auth,new iw(n),n.bypassAuthState)}function c3(n){const{auth:e,user:t}=n;return re(t,e,"internal-error"),oT(t,new iw(n),n.bypassAuthState)}async function u3(n){const{auth:e,user:t}=n;return re(t,e,"internal-error"),Qv(t,new iw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(p))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return l3;case"linkViaPopup":case"linkViaRedirect":return u3;case"reauthViaPopup":case"reauthViaRedirect":return c3;default:mn(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=new Sd(2e3,1e4);async function h3(n,e,t){if(ft(n.app))return Promise.reject(Kt(n,"operation-not-supported-in-this-environment"));const r=Pt(n);Tc(n,e,hs);const i=La(r,t);return new es(r,"signInViaPopup",e,i).executeNotNull()}async function p3(n,e,t){const r=we(n);if(ft(r.auth.app))return Promise.reject(Kt(r.auth,"operation-not-supported-in-this-environment"));Tc(r.auth,e,hs);const i=La(r.auth,t);return new es(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function f3(n,e,t){const r=we(n);Tc(r.auth,e,hs);const i=La(r.auth,t);return new es(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class es extends wT{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,es.currentPopupAction&&es.currentPopupAction.cancel(),es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const e=Nd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Kt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Kt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,es.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,d3.get())};e()}}es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="pendingRedirect",Hu=new Map;class g3 extends wT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Hu.get(this.auth._key());if(!e){try{const r=await y3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Hu.set(this.auth._key(),e)}return this.bypassAuthState||Hu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y3(n,e){const t=xT(e),r=_T(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function sw(n,e){return _T(n)._set(xT(e),"true")}function v3(){Hu.clear()}function ow(n,e){Hu.set(n._key(),e)}function _T(n){return lr(n._redirectPersistence)}function xT(n){return ya(m3,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(n,e,t){return _3(n,e,t)}async function _3(n,e,t){if(ft(n.app))return Promise.reject(rn(n));const r=Pt(n);Tc(n,e,hs),await r._initializationPromise;const i=La(r,t);return await sw(i,r),i._openRedirect(r,e,"signInViaRedirect")}function x3(n,e,t){return I3(n,e,t)}async function I3(n,e,t){const r=we(n);if(Tc(r.auth,e,hs),ft(r.auth.app))return Promise.reject(rn(r.auth));await r.auth._initializationPromise;const i=La(r.auth,t);await sw(i,r.auth);const a=await IT(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",a)}function b3(n,e,t){return E3(n,e,t)}async function E3(n,e,t){const r=we(n);Tc(r.auth,e,hs),await r.auth._initializationPromise;const i=La(r.auth,t);await Cf(!1,r,e.providerId),await sw(i,r.auth);const a=await IT(r);return i._openRedirect(r.auth,e,"linkViaRedirect",a)}async function T3(n,e){return await Pt(n)._initializationPromise,Mf(n,e,!1)}async function Mf(n,e,t=!1){if(ft(n.app))return Promise.reject(rn(n));const r=Pt(n),i=La(r,e),l=await new g3(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}async function IT(n){const e=Nd(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=600*1e3;class bT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!P3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!ET(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Kt(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=k3&&this.cachedEventUids.clear(),this.cachedEventUids.has(C1(e))}saveEventToCache(e){this.cachedEventUids.add(C1(e)),this.lastProcessedEventTime=Date.now()}}function C1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ET({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function P3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ET(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TT(n,e={}){return Dt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A3=/^https?/;async function C3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await TT(n);for(const t of e)try{if(R3(t))return}catch{}mn(n,"unauthorized-domain")}function R3(n){const e=od(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!A3.test(t))return!1;if(S3.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=new Sd(3e4,6e4);function R1(){const n=qt().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function N3(n){return new Promise((e,t)=>{function r(){R1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R1(),t(Kt(n,"network-request-failed"))},timeout:D3.get()})}if(qt().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qt().gapi?.load)r();else{const i=ZE("iframefcb");return qt()[i]=()=>{gapi.load?r():t(Kt(n,"network-request-failed"))},Kv(`${PD()}?onload=${i}`).catch(a=>t(a))}}).catch(e=>{throw Pp=null,e})}let Pp=null;function O3(n){return Pp=Pp||N3(n),Pp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3=new Sd(5e3,15e3),M3="__/auth/iframe",L3="emulator/auth/iframe",F3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z3(n){const e=n.config;re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Gv(e,L3):`https://${n.config.authDomain}/${M3}`,r={apiKey:e.apiKey,appName:n.name,v:us},i=j3.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Ec(r).slice(1)}`}async function U3(n){const e=await O3(n),t=qt().gapi;return re(t,n,"internal-error"),e.open({where:document.body,url:z3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F3,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Kt(n,"network-request-failed"),u=qt().setTimeout(()=>{a(l)},V3.get());function p(){qt().clearTimeout(u),i(r)}r.ping(p).then(p,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},q3=500,H3=600,$3="_blank",W3="http://localhost";class D1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G3(n,e,t,r=q3,i=H3){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const p={...B3,width:r.toString(),height:i.toString(),top:a,left:l},f=kt().toLowerCase();t&&(u=GE(f)?$3:t),$E(f)&&(e=e||W3,p.scrollbars="yes");const v=Object.entries(p).reduce((I,[P,O])=>`${I}${P}=${O},`,"");if(yD(f)&&u!=="_self")return K3(e||"",u),new D1(null);const _=window.open(e||"",u,v);re(_,n,"popup-blocked");try{_.focus()}catch{}return new D1(_)}function K3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="__/auth/handler",Y3="emulator/auth/handler",J3=encodeURIComponent("fac");async function Ny(n,e,t,r,i,a){re(n.config.authDomain,n,"auth-domain-config-required"),re(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:us,eventId:i};if(e instanceof hs){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",xR(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries(a||{}))l[v]=_}if(e instanceof Pc){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(l.scopes=v.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const v of Object.keys(u))u[v]===void 0&&delete u[v];const p=await n._getAppCheckToken(),f=p?`#${J3}=${encodeURIComponent(p)}`:"";return`${X3(n)}?${Ec(u).slice(1)}${f}`}function X3({config:n}){return n.emulator?Gv(n,Y3):`https://${n.authDomain}/${Q3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="webStorageSupport";class Z3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ia,this._completeRedirectFn=Mf,this._overrideRedirectResult=ow}async _openPopup(e,t,r,i){ei(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Ny(e,t,r,od(),i);return G3(e,a,Nd())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await Ny(e,t,r,od(),i);return UN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(ei(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await U3(e),r=new bT(e);return t.register("authEvent",i=>(re(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ry,{type:ry},i=>{const a=i?.[0]?.[ry];a!==void 0&&t(!!a),mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=C3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return JE()||WE()||Cd()}}const e5=Z3;class t5{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ii("unexpected MultiFactorSessionType")}}}class aw extends t5{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new aw(e)}_finalizeEnroll(e,t,r){return ON(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return YN(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class kT{constructor(){}static assertion(e){return aw._fromCredential(e)}}kT.FACTOR_ID="phone";var N1="@firebase/auth",O1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i5(n){dr(new fn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;re(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XE(n)},f=new bD(r,i,a,p);return LD(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),dr(new fn("auth-internal",e=>{const t=Pt(e.getProvider("auth").getImmediate());return(r=>new n5(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),hn(N1,O1,r5(n)),hn(N1,O1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=300;dR("authIdTokenMaxAge");function o5(){return document.getElementsByTagName("head")?.[0]??document}ED({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Kt("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",o5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i5("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=2e3;async function l5(n,e,t){const{BuildInfo:r}=Ea();ei(e.sessionId,"AuthEvent did not contain a session ID");const i=await p5(e.sessionId),a={};return Cd()?a.ibi=r.packageName:Ad()?a.apn=r.packageName:mn(n,"operation-not-supported-in-this-environment"),r.displayName&&(a.appDisplayName=r.displayName),a.sessionId=i,Ny(n,t,e.type,void 0,e.eventId??void 0,a)}async function c5(n){const{BuildInfo:e}=Ea(),t={};Cd()?t.iosBundleId=e.packageName:Ad()?t.androidPackageName=e.packageName:mn(n,"operation-not-supported-in-this-environment"),await TT(n,t)}function u5(n){const{cordova:e}=Ea();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,gD()?"_blank":"_system","location=yes"),t(i)})})}async function d5(n,e,t){const{cordova:r}=Ea();let i=()=>{};try{await new Promise((a,l)=>{let u=null;function p(){a();const _=r.plugins.browsertab?.close;typeof _=="function"&&_(),typeof t?.close=="function"&&t.close()}function f(){u||(u=window.setTimeout(()=>{l(Kt(n,"redirect-cancelled-by-user"))},a5))}function v(){document?.visibilityState==="visible"&&f()}e.addPassiveListener(p),document.addEventListener("resume",f,!1),Ad()&&document.addEventListener("visibilitychange",v,!1),i=()=>{e.removePassiveListener(p),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",v,!1),u&&window.clearTimeout(u)}})}finally{i()}}function h5(n){const e=Ea();re(typeof e?.universalLinks?.subscribe=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),re(typeof e?.BuildInfo?.packageName<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),re(typeof e?.cordova?.plugins?.browsertab?.openUrl=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re(typeof e?.cordova?.plugins?.browsertab?.isAvailable=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re(typeof e?.cordova?.InAppBrowser?.open=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function p5(n){const e=f5(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function f5(n){if(ei(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=20;class g5 extends bT{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function y5(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:_5(),postBody:null,tenantId:n.tenantId,error:Kt(n,"no-auth-event")}}function v5(n,e){return Oy()._set(Vy(n),e)}async function V1(n){const e=await Oy()._get(Vy(n));return e&&await Oy()._remove(Vy(n)),e}function w5(n,e){const t=I5(e);if(t.includes("/__/auth/callback")){const r=Sp(t),a=(r.firebaseError?x5(decodeURIComponent(r.firebaseError)):null)?.code?.split("auth/")?.[1],l=a?Kt(a):null;return l?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:t,postBody:null}}return null}function _5(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<m5;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function Oy(){return lr(tw)}function Vy(n){return ya("authEvent",n.config.apiKey,n.name)}function x5(n){try{return JSON.parse(n)}catch{return null}}function I5(n){const e=Sp(n),t=e.link?decodeURIComponent(e.link):void 0,r=Sp(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Sp(i).link||i||r||t||n}function Sp(n){if(!n?.includes("?"))return{};const[e,...t]=n.split("?");return ql(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=500;class E5{constructor(){this._redirectPersistence=Ia,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Mf,this._overrideRedirectResult=ow}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new g5(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){mn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){h5(e);const a=await this._initialize(e);await a.initialized(),a.resetRedirect(),v3(),await this._originValidation(e);const l=y5(e,r,i);await v5(e,l);const u=await l5(e,l,t),p=await u5(u);return d5(e,a,p)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=c5(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:a}=Ea(),l=setTimeout(async()=>{await V1(e),t.onEvent(M1())},b5),u=async v=>{clearTimeout(l);const _=await V1(e);let I=null;_&&v?.url&&(I=w5(_,v.url)),t.onEvent(I||M1())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,u);const p=i,f=`${a.packageName.toLowerCase()}://`;Ea().handleOpenURL=async v=>{if(v.toLowerCase().startsWith(f)&&u({url:v}),typeof p=="function")try{p(v)}catch(_){console.error(_)}}}}const T5=E5;function M1(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Kt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(n,e){Pt(n)._logFramework(e)}var P5="@firebase/auth-compat",S5="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=1e3;function $u(){return self?.location?.protocol||null}function C5(){return $u()==="http:"||$u()==="https:"}function PT(n=kt()){return!!(($u()==="file:"||$u()==="ionic:"||$u()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function R5(){return Lv()||Ef()}function D5(){return vE()&&document?.documentMode===11}function N5(n=kt()){return/Edge\/\d+/.test(n)}function O5(n=kt()){return D5()||N5(n)}function ST(){try{const n=self.localStorage,e=Nd();if(n)return n.setItem(e,"1"),n.removeItem(e),O5()?xa():!0}catch{return lw()&&xa()}return!1}function lw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function iy(){return(C5()||Tf()||PT())&&!R5()&&ST()&&!lw()}function AT(){return PT()&&typeof document<"u"}async function V5(){return AT()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},A5);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function M5(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar={LOCAL:"local",NONE:"none",SESSION:"session"},Eu=re,CT="persistence";function L5(n,e){if(Eu(Object.values(ar).includes(e),n,"invalid-persistence-type"),Lv()){Eu(e!==ar.SESSION,n,"unsupported-persistence-type");return}if(Ef()){Eu(e===ar.NONE,n,"unsupported-persistence-type");return}if(lw()){Eu(e===ar.NONE||e===ar.LOCAL&&xa(),n,"unsupported-persistence-type");return}Eu(e===ar.NONE||ST(),n,"unsupported-persistence-type")}async function My(n){await n._initializationPromise;const e=RT(),t=ya(CT,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function F5(n,e){const t=RT();if(!t)return[];const r=ya(CT,n,e);switch(t.getItem(r)){case ar.NONE:return[Zl];case ar.LOCAL:return[cd,Ia];case ar.SESSION:return[Ia];default:return[]}}function RT(){try{return M5()?.sessionStorage||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=re;class Zs{constructor(){this.browserResolver=lr(e5),this.cordovaResolver=lr(T5),this.underlyingResolver=null,this._redirectPersistence=Ia,this._completeRedirectFn=Mf,this._overrideRedirectResult=ow}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return AT()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return j5(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await V5();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(n){return n.unwrap()}function z5(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(n){return NT(n)}function B5(n,e){const t=e.customData?._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){const r=e;r.resolver=new q5(n,NN(n,e))}else if(t){const r=NT(e),i=e;r&&(i.credential=r,i.tenantId=t.tenantId||void 0,i.email=t.email||void 0,i.phoneNumber=t.phoneNumber||void 0)}}function NT(n){const{_tokenResponse:e}=n instanceof nn?n.customData:n;if(!e)return null;if(!(n instanceof nn)&&"temporaryProof"in e&&"phoneNumber"in e)return ba.credentialFromResult(n);const t=e.providerId;if(!t||t===Iu.PASSWORD)return null;let r;switch(t){case Iu.GOOGLE:r=vi;break;case Iu.FACEBOOK:r=yi;break;case Iu.GITHUB:r=wi;break;case Iu.TWITTER:r=_i;break;default:const{oauthIdToken:i,oauthAccessToken:a,oauthTokenSecret:l,pendingToken:u,nonce:p}=e;return!a&&!l&&!i&&!u?null:u?t.startsWith("saml.")?ec._create(t,u):Ai._fromParams({providerId:t,signInMethod:t,pendingToken:u,idToken:i,accessToken:a}):new Wl(t).credential({idToken:i,accessToken:a,rawNonce:p})}return n instanceof nn?r.credentialFromError(n):r.credentialFromResult(n)}function Kn(n,e){return e.catch(t=>{throw t instanceof nn&&B5(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:U5(t),additionalUserInfo:DN(t),user:Lf.getOrCreate(i)}})}async function Ly(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>Kn(n,t.confirm(r))}}class q5{constructor(e,t){this.resolver=t,this.auth=z5(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Kn(DT(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf=class Ou{constructor(e){this._delegate=e,this.multiFactor=MN(e)}static getOrCreate(e){return Ou.USER_MAP.has(e)||Ou.USER_MAP.set(e,new Ou(e)),Ou.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Kn(this.auth,lT(this._delegate,e))}async linkWithPhoneNumber(e,t){return Ly(this.auth,s3(this._delegate,e,t))}async linkWithPopup(e){return Kn(this.auth,f3(this._delegate,e,Zs))}async linkWithRedirect(e){return await My(Pt(this.auth)),b3(this._delegate,e,Zs)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Kn(this.auth,cT(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Ly(this.auth,o3(this._delegate,e,t))}reauthenticateWithPopup(e){return Kn(this.auth,p3(this._delegate,e,Zs))}async reauthenticateWithRedirect(e){return await My(Pt(this.auth)),x3(this._delegate,e,Zs)}sendEmailVerification(e){return xN(this._delegate,e)}async unlink(e){return await aN(this._delegate,e),this}updateEmail(e){return TN(this._delegate,e)}updatePassword(e){return kN(this._delegate,e)}updatePhoneNumber(e){return a3(this._delegate,e)}updateProfile(e){return EN(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return IN(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Lf.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=re;class Fy{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Tu(r,"invalid-api-key",{appName:e.name}),Tu(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Zs:void 0;this._delegate=t.initialize({options:{persistence:H5(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Y4),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Lf.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){FD(this._delegate,e,t)}applyActionCode(e){return hN(this._delegate,e)}checkActionCode(e){return uT(this._delegate,e)}confirmPasswordReset(e,t){return dN(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Kn(this._delegate,fN(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return _N(this._delegate,e)}isSignInWithEmailLink(e){return yN(this._delegate,e)}async getRedirectResult(){Tu(iy(),this._delegate,"operation-not-supported-in-this-environment");const e=await T3(this._delegate,Zs);return e?Kn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){k5(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:a,complete:l}=L1(e,t,r);return this._delegate.onAuthStateChanged(i,a,l)}onIdTokenChanged(e,t,r){const{next:i,error:a,complete:l}=L1(e,t,r);return this._delegate.onIdTokenChanged(i,a,l)}sendSignInLinkToEmail(e,t){return gN(this._delegate,e,t)}sendPasswordResetEmail(e,t){return uN(this._delegate,e,t||void 0)}async setPersistence(e){L5(this._delegate,e);let t;switch(e){case ar.SESSION:t=Ia;break;case ar.LOCAL:t=await lr(cd)._isAvailable()?cd:tw;break;case ar.NONE:t=Zl;break;default:return mn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Kn(this._delegate,oN(this._delegate))}signInWithCredential(e){return Kn(this._delegate,Rf(this._delegate,e))}signInWithCustomToken(e){return Kn(this._delegate,cN(this._delegate,e))}signInWithEmailAndPassword(e,t){return Kn(this._delegate,mN(this._delegate,e,t))}signInWithEmailLink(e,t){return Kn(this._delegate,vN(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Ly(this._delegate,i3(this._delegate,e,t))}async signInWithPopup(e){return Tu(iy(),this._delegate,"operation-not-supported-in-this-environment"),Kn(this._delegate,h3(this._delegate,e,Zs))}async signInWithRedirect(e){return Tu(iy(),this._delegate,"operation-not-supported-in-this-environment"),await My(this._delegate),w3(this._delegate,e,Zs)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return pN(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Fy.Persistence=ar;function L1(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:l=>i(l&&Lf.getOrCreate(l)),error:e,complete:t}}function H5(n,e){const t=F5(n,e);if(typeof self<"u"&&!t.includes(cd)&&t.push(cd),typeof window<"u")for(const r of[tw,Ia])t.includes(r)||t.push(r);return t.includes(Zl)||t.push(Zl),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{static credential(e,t){return ba.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new ba(DT(Tn.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}cw.PHONE_SIGN_IN_METHOD=ba.PHONE_SIGN_IN_METHOD;cw.PROVIDER_ID=ba.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=re;class W5{constructor(e,t,r=Tn.app()){$5(r.options?.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new n3(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5="auth-compat";function K5(n){n.INTERNAL.registerComponent(new fn(G5,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Fy(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Al.EMAIL_SIGNIN,PASSWORD_RESET:Al.PASSWORD_RESET,RECOVER_EMAIL:Al.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Al.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Al.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Al.VERIFY_EMAIL}},EmailAuthProvider:Io,FacebookAuthProvider:yi,GithubAuthProvider:wi,GoogleAuthProvider:vi,OAuthProvider:Wl,SAMLAuthProvider:Gp,PhoneAuthProvider:cw,PhoneMultiFactorGenerator:kT,RecaptchaVerifier:W5,TwitterAuthProvider:_i,Auth:Fy,AuthCredential:kc,Error:nn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(P5,S5)}K5(Tn);var F1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var so,OT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,T){function A(){}A.prototype=T.prototype,R.D=T.prototype,R.prototype=new A,R.prototype.constructor=R,R.C=function(N,F,V){for(var S=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)S[Me-2]=arguments[Me];return T.prototype[F].apply(N,S)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,T,A){A||(A=0);var N=Array(16);if(typeof T=="string")for(var F=0;16>F;++F)N[F]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(F=0;16>F;++F)N[F]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=R.g[0],A=R.g[1],F=R.g[2];var V=R.g[3],S=T+(V^A&(F^V))+N[0]+3614090360&4294967295;T=A+(S<<7&4294967295|S>>>25),S=V+(F^T&(A^F))+N[1]+3905402710&4294967295,V=T+(S<<12&4294967295|S>>>20),S=F+(A^V&(T^A))+N[2]+606105819&4294967295,F=V+(S<<17&4294967295|S>>>15),S=A+(T^F&(V^T))+N[3]+3250441966&4294967295,A=F+(S<<22&4294967295|S>>>10),S=T+(V^A&(F^V))+N[4]+4118548399&4294967295,T=A+(S<<7&4294967295|S>>>25),S=V+(F^T&(A^F))+N[5]+1200080426&4294967295,V=T+(S<<12&4294967295|S>>>20),S=F+(A^V&(T^A))+N[6]+2821735955&4294967295,F=V+(S<<17&4294967295|S>>>15),S=A+(T^F&(V^T))+N[7]+4249261313&4294967295,A=F+(S<<22&4294967295|S>>>10),S=T+(V^A&(F^V))+N[8]+1770035416&4294967295,T=A+(S<<7&4294967295|S>>>25),S=V+(F^T&(A^F))+N[9]+2336552879&4294967295,V=T+(S<<12&4294967295|S>>>20),S=F+(A^V&(T^A))+N[10]+4294925233&4294967295,F=V+(S<<17&4294967295|S>>>15),S=A+(T^F&(V^T))+N[11]+2304563134&4294967295,A=F+(S<<22&4294967295|S>>>10),S=T+(V^A&(F^V))+N[12]+1804603682&4294967295,T=A+(S<<7&4294967295|S>>>25),S=V+(F^T&(A^F))+N[13]+4254626195&4294967295,V=T+(S<<12&4294967295|S>>>20),S=F+(A^V&(T^A))+N[14]+2792965006&4294967295,F=V+(S<<17&4294967295|S>>>15),S=A+(T^F&(V^T))+N[15]+1236535329&4294967295,A=F+(S<<22&4294967295|S>>>10),S=T+(F^V&(A^F))+N[1]+4129170786&4294967295,T=A+(S<<5&4294967295|S>>>27),S=V+(A^F&(T^A))+N[6]+3225465664&4294967295,V=T+(S<<9&4294967295|S>>>23),S=F+(T^A&(V^T))+N[11]+643717713&4294967295,F=V+(S<<14&4294967295|S>>>18),S=A+(V^T&(F^V))+N[0]+3921069994&4294967295,A=F+(S<<20&4294967295|S>>>12),S=T+(F^V&(A^F))+N[5]+3593408605&4294967295,T=A+(S<<5&4294967295|S>>>27),S=V+(A^F&(T^A))+N[10]+38016083&4294967295,V=T+(S<<9&4294967295|S>>>23),S=F+(T^A&(V^T))+N[15]+3634488961&4294967295,F=V+(S<<14&4294967295|S>>>18),S=A+(V^T&(F^V))+N[4]+3889429448&4294967295,A=F+(S<<20&4294967295|S>>>12),S=T+(F^V&(A^F))+N[9]+568446438&4294967295,T=A+(S<<5&4294967295|S>>>27),S=V+(A^F&(T^A))+N[14]+3275163606&4294967295,V=T+(S<<9&4294967295|S>>>23),S=F+(T^A&(V^T))+N[3]+4107603335&4294967295,F=V+(S<<14&4294967295|S>>>18),S=A+(V^T&(F^V))+N[8]+1163531501&4294967295,A=F+(S<<20&4294967295|S>>>12),S=T+(F^V&(A^F))+N[13]+2850285829&4294967295,T=A+(S<<5&4294967295|S>>>27),S=V+(A^F&(T^A))+N[2]+4243563512&4294967295,V=T+(S<<9&4294967295|S>>>23),S=F+(T^A&(V^T))+N[7]+1735328473&4294967295,F=V+(S<<14&4294967295|S>>>18),S=A+(V^T&(F^V))+N[12]+2368359562&4294967295,A=F+(S<<20&4294967295|S>>>12),S=T+(A^F^V)+N[5]+4294588738&4294967295,T=A+(S<<4&4294967295|S>>>28),S=V+(T^A^F)+N[8]+2272392833&4294967295,V=T+(S<<11&4294967295|S>>>21),S=F+(V^T^A)+N[11]+1839030562&4294967295,F=V+(S<<16&4294967295|S>>>16),S=A+(F^V^T)+N[14]+4259657740&4294967295,A=F+(S<<23&4294967295|S>>>9),S=T+(A^F^V)+N[1]+2763975236&4294967295,T=A+(S<<4&4294967295|S>>>28),S=V+(T^A^F)+N[4]+1272893353&4294967295,V=T+(S<<11&4294967295|S>>>21),S=F+(V^T^A)+N[7]+4139469664&4294967295,F=V+(S<<16&4294967295|S>>>16),S=A+(F^V^T)+N[10]+3200236656&4294967295,A=F+(S<<23&4294967295|S>>>9),S=T+(A^F^V)+N[13]+681279174&4294967295,T=A+(S<<4&4294967295|S>>>28),S=V+(T^A^F)+N[0]+3936430074&4294967295,V=T+(S<<11&4294967295|S>>>21),S=F+(V^T^A)+N[3]+3572445317&4294967295,F=V+(S<<16&4294967295|S>>>16),S=A+(F^V^T)+N[6]+76029189&4294967295,A=F+(S<<23&4294967295|S>>>9),S=T+(A^F^V)+N[9]+3654602809&4294967295,T=A+(S<<4&4294967295|S>>>28),S=V+(T^A^F)+N[12]+3873151461&4294967295,V=T+(S<<11&4294967295|S>>>21),S=F+(V^T^A)+N[15]+530742520&4294967295,F=V+(S<<16&4294967295|S>>>16),S=A+(F^V^T)+N[2]+3299628645&4294967295,A=F+(S<<23&4294967295|S>>>9),S=T+(F^(A|~V))+N[0]+4096336452&4294967295,T=A+(S<<6&4294967295|S>>>26),S=V+(A^(T|~F))+N[7]+1126891415&4294967295,V=T+(S<<10&4294967295|S>>>22),S=F+(T^(V|~A))+N[14]+2878612391&4294967295,F=V+(S<<15&4294967295|S>>>17),S=A+(V^(F|~T))+N[5]+4237533241&4294967295,A=F+(S<<21&4294967295|S>>>11),S=T+(F^(A|~V))+N[12]+1700485571&4294967295,T=A+(S<<6&4294967295|S>>>26),S=V+(A^(T|~F))+N[3]+2399980690&4294967295,V=T+(S<<10&4294967295|S>>>22),S=F+(T^(V|~A))+N[10]+4293915773&4294967295,F=V+(S<<15&4294967295|S>>>17),S=A+(V^(F|~T))+N[1]+2240044497&4294967295,A=F+(S<<21&4294967295|S>>>11),S=T+(F^(A|~V))+N[8]+1873313359&4294967295,T=A+(S<<6&4294967295|S>>>26),S=V+(A^(T|~F))+N[15]+4264355552&4294967295,V=T+(S<<10&4294967295|S>>>22),S=F+(T^(V|~A))+N[6]+2734768916&4294967295,F=V+(S<<15&4294967295|S>>>17),S=A+(V^(F|~T))+N[13]+1309151649&4294967295,A=F+(S<<21&4294967295|S>>>11),S=T+(F^(A|~V))+N[4]+4149444226&4294967295,T=A+(S<<6&4294967295|S>>>26),S=V+(A^(T|~F))+N[11]+3174756917&4294967295,V=T+(S<<10&4294967295|S>>>22),S=F+(T^(V|~A))+N[2]+718787259&4294967295,F=V+(S<<15&4294967295|S>>>17),S=A+(V^(F|~T))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+T&4294967295,R.g[1]=R.g[1]+(F+(S<<21&4294967295|S>>>11))&4294967295,R.g[2]=R.g[2]+F&4294967295,R.g[3]=R.g[3]+V&4294967295}r.prototype.u=function(R,T){T===void 0&&(T=R.length);for(var A=T-this.blockSize,N=this.B,F=this.h,V=0;V<T;){if(F==0)for(;V<=A;)i(this,R,V),V+=this.blockSize;if(typeof R=="string"){for(;V<T;)if(N[F++]=R.charCodeAt(V++),F==this.blockSize){i(this,N),F=0;break}}else for(;V<T;)if(N[F++]=R[V++],F==this.blockSize){i(this,N),F=0;break}}this.h=F,this.o+=T},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var T=1;T<R.length-8;++T)R[T]=0;var A=8*this.o;for(T=R.length-8;T<R.length;++T)R[T]=A&255,A/=256;for(this.u(R),R=Array(16),T=A=0;4>T;++T)for(var N=0;32>N;N+=8)R[A++]=this.g[T]>>>N&255;return R};function a(R,T){var A=u;return Object.prototype.hasOwnProperty.call(A,R)?A[R]:A[R]=T(R)}function l(R,T){this.h=T;for(var A=[],N=!0,F=R.length-1;0<=F;F--){var V=R[F]|0;N&&V==T||(A[F]=V,N=!1)}this.g=A}var u={};function p(R){return-128<=R&&128>R?a(R,function(T){return new l([T|0],0>T?-1:0)}):new l([R|0],0>R?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return _;if(0>R)return C(f(-R));for(var T=[],A=1,N=0;R>=A;N++)T[N]=R/A|0,A*=4294967296;return new l(T,0)}function v(R,T){if(R.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(R.charAt(0)=="-")return C(v(R.substring(1),T));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=f(Math.pow(T,8)),N=_,F=0;F<R.length;F+=8){var V=Math.min(8,R.length-F),S=parseInt(R.substring(F,F+V),T);8>V?(V=f(Math.pow(T,V)),N=N.j(V).add(f(S))):(N=N.j(A),N=N.add(f(S)))}return N}var _=p(0),I=p(1),P=p(16777216);n=l.prototype,n.m=function(){if(z(this))return-C(this).m();for(var R=0,T=1,A=0;A<this.g.length;A++){var N=this.i(A);R+=(0<=N?N:4294967296+N)*T,T*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O(this))return"0";if(z(this))return"-"+C(this).toString(R);for(var T=f(Math.pow(R,6)),A=this,N="";;){var F=se(A,T).g;A=K(A,F.j(T));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(R);if(A=F,O(A))return V+N;for(;6>V.length;)V="0"+V;N=V+N}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function O(R){if(R.h!=0)return!1;for(var T=0;T<R.g.length;T++)if(R.g[T]!=0)return!1;return!0}function z(R){return R.h==-1}n.l=function(R){return R=K(this,R),z(R)?-1:O(R)?0:1};function C(R){for(var T=R.g.length,A=[],N=0;N<T;N++)A[N]=~R.g[N];return new l(A,~R.h).add(I)}n.abs=function(){return z(this)?C(this):this},n.add=function(R){for(var T=Math.max(this.g.length,R.g.length),A=[],N=0,F=0;F<=T;F++){var V=N+(this.i(F)&65535)+(R.i(F)&65535),S=(V>>>16)+(this.i(F)>>>16)+(R.i(F)>>>16);N=S>>>16,V&=65535,S&=65535,A[F]=S<<16|V}return new l(A,A[A.length-1]&-2147483648?-1:0)};function K(R,T){return R.add(C(T))}n.j=function(R){if(O(this)||O(R))return _;if(z(this))return z(R)?C(this).j(C(R)):C(C(this).j(R));if(z(R))return C(this.j(C(R)));if(0>this.l(P)&&0>R.l(P))return f(this.m()*R.m());for(var T=this.g.length+R.g.length,A=[],N=0;N<2*T;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(var F=0;F<R.g.length;F++){var V=this.i(N)>>>16,S=this.i(N)&65535,Me=R.i(F)>>>16,Xe=R.i(F)&65535;A[2*N+2*F]+=S*Xe,J(A,2*N+2*F),A[2*N+2*F+1]+=V*Xe,J(A,2*N+2*F+1),A[2*N+2*F+1]+=S*Me,J(A,2*N+2*F+1),A[2*N+2*F+2]+=V*Me,J(A,2*N+2*F+2)}for(N=0;N<T;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=T;N<2*T;N++)A[N]=0;return new l(A,0)};function J(R,T){for(;(R[T]&65535)!=R[T];)R[T+1]+=R[T]>>>16,R[T]&=65535,T++}function Q(R,T){this.g=R,this.h=T}function se(R,T){if(O(T))throw Error("division by zero");if(O(R))return new Q(_,_);if(z(R))return T=se(C(R),T),new Q(C(T.g),C(T.h));if(z(T))return T=se(R,C(T)),new Q(C(T.g),T.h);if(30<R.g.length){if(z(R)||z(T))throw Error("slowDivide_ only works with positive integers.");for(var A=I,N=T;0>=N.l(R);)A=ve(A),N=ve(N);var F=_e(A,1),V=_e(N,1);for(N=_e(N,2),A=_e(A,2);!O(N);){var S=V.add(N);0>=S.l(R)&&(F=F.add(A),V=S),N=_e(N,1),A=_e(A,1)}return T=K(R,F.j(T)),new Q(F,T)}for(F=_;0<=R.l(T);){for(A=Math.max(1,Math.floor(R.m()/T.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),V=f(A),S=V.j(T);z(S)||0<S.l(R);)A-=N,V=f(A),S=V.j(T);O(V)&&(V=I),F=F.add(V),R=K(R,S)}return new Q(F,R)}n.A=function(R){return se(this,R).h},n.and=function(R){for(var T=Math.max(this.g.length,R.g.length),A=[],N=0;N<T;N++)A[N]=this.i(N)&R.i(N);return new l(A,this.h&R.h)},n.or=function(R){for(var T=Math.max(this.g.length,R.g.length),A=[],N=0;N<T;N++)A[N]=this.i(N)|R.i(N);return new l(A,this.h|R.h)},n.xor=function(R){for(var T=Math.max(this.g.length,R.g.length),A=[],N=0;N<T;N++)A[N]=this.i(N)^R.i(N);return new l(A,this.h^R.h)};function ve(R){for(var T=R.g.length+1,A=[],N=0;N<T;N++)A[N]=R.i(N)<<1|R.i(N-1)>>>31;return new l(A,R.h)}function _e(R,T){var A=T>>5;T%=32;for(var N=R.g.length-A,F=[],V=0;V<N;V++)F[V]=0<T?R.i(V+A)>>>T|R.i(V+A+1)<<32-T:R.i(V+A);return new l(F,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,OT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=v,so=l}).apply(typeof F1<"u"?F1:typeof self<"u"?self:typeof window<"u"?window:{});var pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VT,Vu,MT,Ap,jy,LT,FT,jT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,x){return d==Array.prototype||d==Object.prototype||(d[g]=x.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof pp=="object"&&pp];for(var g=0;g<d.length;++g){var x=d[g];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=t(this);function i(d,g){if(g)e:{var x=r;d=d.split(".");for(var E=0;E<d.length-1;E++){var B=d[E];if(!(B in x))break e;x=x[B]}d=d[d.length-1],E=x[d],g=g(E),g!=E&&g!=null&&e(x,d,{configurable:!0,writable:!0,value:g})}}function a(d,g){d instanceof String&&(d+="");var x=0,E=!1,B={next:function(){if(!E&&x<d.length){var G=x++;return{value:g(G,d[G]),done:!1}}return E=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}i("Array.prototype.values",function(d){return d||function(){return a(this,function(g,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function p(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function f(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function v(d,g,x){return d.call.apply(d.bind,arguments)}function _(d,g,x){if(!d)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,E),d.apply(g,B)}}return function(){return d.apply(g,arguments)}}function I(d,g,x){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:_,I.apply(null,arguments)}function P(d,g){var x=Array.prototype.slice.call(arguments,1);return function(){var E=x.slice();return E.push.apply(E,arguments),d.apply(this,E)}}function O(d,g){function x(){}x.prototype=g.prototype,d.aa=g.prototype,d.prototype=new x,d.prototype.constructor=d,d.Qb=function(E,B,G){for(var le=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)le[nt-2]=arguments[nt];return g.prototype[B].apply(E,le)}}function z(d){const g=d.length;if(0<g){const x=Array(g);for(let E=0;E<g;E++)x[E]=d[E];return x}return[]}function C(d,g){for(let x=1;x<arguments.length;x++){const E=arguments[x];if(p(E)){const B=d.length||0,G=E.length||0;d.length=B+G;for(let le=0;le<G;le++)d[B+le]=E[le]}else d.push(E)}}class K{constructor(g,x){this.i=g,this.j=x,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function J(d){return/^[\s\xa0]*$/.test(d)}function Q(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function se(d){return se[" "](d),d}se[" "]=function(){};var ve=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function _e(d,g,x){for(const E in d)g.call(x,d[E],E,d)}function R(d,g){for(const x in d)g.call(void 0,d[x],x,d)}function T(d){const g={};for(const x in d)g[x]=d[x];return g}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(d,g){let x,E;for(let B=1;B<arguments.length;B++){E=arguments[B];for(x in E)d[x]=E[x];for(let G=0;G<A.length;G++)x=A[G],Object.prototype.hasOwnProperty.call(E,x)&&(d[x]=E[x])}}function F(d){var g=1;d=d.split(":");const x=[];for(;0<g&&d.length;)x.push(d.shift()),g--;return d.length&&x.push(d.join(":")),x}function V(d){u.setTimeout(()=>{throw d},0)}function S(){var d=ge;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class Me{constructor(){this.h=this.g=null}add(g,x){const E=Xe.get();E.set(g,x),this.h?this.h.next=E:this.g=E,this.h=E}}var Xe=new K(()=>new jt,d=>d.reset());class jt{constructor(){this.next=this.g=this.h=null}set(g,x){this.h=g,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let He,ae=!1,ge=new Me,pe=()=>{const d=u.Promise.resolve(void 0);He=()=>{d.then(j)}};var j=()=>{for(var d;d=S();){try{d.h.call(d.g)}catch(x){V(x)}var g=Xe;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}ae=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};u.addEventListener("test",x,g),u.removeEventListener("test",x,g)}catch{}return d}();function Ce(d,g){if(X.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var x=this.type=d.type,E=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(ve){e:{try{se(g.nodeName);var B=!0;break e}catch{}B=!1}B||(g=null)}}else x=="mouseover"?g=d.fromElement:x=="mouseout"&&(g=d.toElement);this.relatedTarget=g,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Oe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ce.aa.h.call(this)}}O(Ce,X);var Oe={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),We=0;function tt(d,g,x,E,B){this.listener=d,this.proxy=null,this.src=g,this.type=x,this.capture=!!E,this.ha=B,this.key=++We,this.da=this.fa=!1}function xt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Fn(d){this.src=d,this.g={},this.h=0}Fn.prototype.add=function(d,g,x,E,B){var G=d.toString();d=this.g[G],d||(d=this.g[G]=[],this.h++);var le=Sr(d,g,E,B);return-1<le?(g=d[le],x||(g.fa=!1)):(g=new tt(g,this.src,G,!!E,B),g.fa=x,d.push(g)),g};function Xn(d,g){var x=g.type;if(x in d.g){var E=d.g[x],B=Array.prototype.indexOf.call(E,g,void 0),G;(G=0<=B)&&Array.prototype.splice.call(E,B,1),G&&(xt(g),d.g[x].length==0&&(delete d.g[x],d.h--))}}function Sr(d,g,x,E){for(var B=0;B<d.length;++B){var G=d[B];if(!G.da&&G.listener==g&&G.capture==!!x&&G.ha==E)return B}return-1}var ti="closure_lm_"+(1e6*Math.random()|0),Ni={};function vs(d,g,x,E,B){if(Array.isArray(g)){for(var G=0;G<g.length;G++)vs(d,g[G],x,E,B);return null}return x=ke(x),d&&d[$e]?d.K(g,x,f(E)?!!E.capture:!1,B):pr(d,g,x,!1,E,B)}function pr(d,g,x,E,B,G){if(!g)throw Error("Invalid event type");var le=f(B)?!!B.capture:!!B,nt=_s(d);if(nt||(d[ti]=nt=new Fn(d)),x=nt.add(g,x,E,le,G),x.proxy)return x;if(E=ws(),x.proxy=E,E.src=d,E.listener=x,d.addEventListener)ue||(B=le),B===void 0&&(B=!1),d.addEventListener(g.toString(),E,B);else if(d.attachEvent)d.attachEvent(Cr(g.toString()),E);else if(d.addListener&&d.removeListener)d.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return x}function ws(){function d(x){return g.call(d.src,d.listener,x)}const g=Ao;return d}function Ar(d,g,x,E,B){if(Array.isArray(g))for(var G=0;G<g.length;G++)Ar(d,g[G],x,E,B);else E=f(E)?!!E.capture:!!E,x=ke(x),d&&d[$e]?(d=d.i,g=String(g).toString(),g in d.g&&(G=d.g[g],x=Sr(G,x,E,B),-1<x&&(xt(G[x]),Array.prototype.splice.call(G,x,1),G.length==0&&(delete d.g[g],d.h--)))):d&&(d=_s(d))&&(g=d.g[g.toString()],d=-1,g&&(d=Sr(g,x,E,B)),(x=-1<d?g[d]:null)&&jn(x))}function jn(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[$e])Xn(g.i,d);else{var x=d.type,E=d.proxy;g.removeEventListener?g.removeEventListener(x,E,d.capture):g.detachEvent?g.detachEvent(Cr(x),E):g.addListener&&g.removeListener&&g.removeListener(E),(x=_s(g))?(Xn(x,d),x.h==0&&(x.src=null,g[ti]=null)):xt(d)}}}function Cr(d){return d in Ni?Ni[d]:Ni[d]="on"+d}function Ao(d,g){if(d.da)d=!0;else{g=new Ce(g,this);var x=d.listener,E=d.ha||d.src;d.fa&&jn(d),d=x.call(E,g)}return d}function _s(d){return d=d[ti],d instanceof Fn?d:null}var de="__closure_events_fn_"+(1e9*Math.random()>>>0);function ke(d){return typeof d=="function"?d:(d[de]||(d[de]=function(g){return d.handleEvent(g)}),d[de])}function Le(){Y.call(this),this.i=new Fn(this),this.M=this,this.F=null}O(Le,Y),Le.prototype[$e]=!0,Le.prototype.removeEventListener=function(d,g,x,E){Ar(this,d,g,x,E)};function Fe(d,g){var x,E=d.F;if(E)for(x=[];E;E=E.F)x.push(E);if(d=d.M,E=g.type||g,typeof g=="string")g=new X(g,d);else if(g instanceof X)g.target=g.target||d;else{var B=g;g=new X(E,d),N(g,B)}if(B=!0,x)for(var G=x.length-1;0<=G;G--){var le=g.g=x[G];B=It(le,E,!0,g)&&B}if(le=g.g=d,B=It(le,E,!0,g)&&B,B=It(le,E,!1,g)&&B,x)for(G=0;G<x.length;G++)le=g.g=x[G],B=It(le,E,!1,g)&&B}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var x=d.g[g],E=0;E<x.length;E++)xt(x[E]);delete d.g[g],d.h--}}this.F=null},Le.prototype.K=function(d,g,x,E){return this.i.add(String(d),g,!1,x,E)},Le.prototype.L=function(d,g,x,E){return this.i.add(String(d),g,!0,x,E)};function It(d,g,x,E){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var B=!0,G=0;G<g.length;++G){var le=g[G];if(le&&!le.da&&le.capture==x){var nt=le.listener,$t=le.ha||le.src;le.fa&&Xn(d.i,le),B=nt.call($t,E)!==!1&&B}}return B&&!E.defaultPrevented}function Rr(d,g,x){if(typeof d=="function")x&&(d=I(d,x));else if(d&&typeof d.handleEvent=="function")d=I(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:u.setTimeout(d,g||0)}function Pn(d){d.g=Rr(()=>{d.g=null,d.i&&(d.i=!1,Pn(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class Dr extends Y{constructor(g,x){super(),this.m=g,this.l=x,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Pn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(d){Y.call(this),this.h=d,this.g={}}O(Nr,Y);var Oi=[];function ni(d){_e(d.g,function(g,x){this.g.hasOwnProperty(x)&&jn(g)},d),d.g={}}Nr.prototype.N=function(){Nr.aa.N.call(this),ni(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vi=u.JSON.stringify,Mi=u.JSON.parse,Li=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Or(){}Or.prototype.h=null;function xs(d){return d.h||(d.h=d.i())}function qa(){}var fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ri(){X.call(this,"d")}O(ri,X);function Ha(){X.call(this,"c")}O(Ha,X);var ii={},Lc=null;function Co(){return Lc=Lc||new Le}ii.La="serverreachability";function Fc(d){X.call(this,ii.La,d)}O(Fc,X);function Fi(d){const g=Co();Fe(g,new Fc(g))}ii.STAT_EVENT="statevent";function jc(d,g){X.call(this,ii.STAT_EVENT,d),this.stat=g}O(jc,X);function Nt(d){const g=Co();Fe(g,new jc(g,d))}ii.Ma="timingevent";function $a(d,g){X.call(this,ii.Ma,d),this.size=g}O($a,X);function Vr(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},g)}function Ro(){this.g=!0}Ro.prototype.xa=function(){this.g=!1};function Do(d,g,x,E,B,G){d.info(function(){if(d.g)if(G)for(var le="",nt=G.split("&"),$t=0;$t<nt.length;$t++){var Ge=nt[$t].split("=");if(1<Ge.length){var Yt=Ge[0];Ge=Ge[1];var zt=Yt.split("_");le=2<=zt.length&&zt[1]=="type"?le+(Yt+"="+Ge+"&"):le+(Yt+"=redacted&")}}else le=null;else le=G;return"XMLHTTP REQ ("+E+") [attempt "+B+"]: "+g+`
`+x+`
`+le})}function Wa(d,g,x,E,B,G,le){d.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+B+"]: "+g+`
`+x+`
`+G+" "+le})}function Mr(d,g,x,E){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+gm(d,x)+(E?" "+E:"")})}function zc(d,g){d.info(function(){return"TIMEOUT: "+g})}Ro.prototype.info=function(){};function gm(d,g){if(!d.g)return g;if(!g)return null;try{var x=JSON.parse(g);if(x){for(d=0;d<x.length;d++)if(Array.isArray(x[d])){var E=x[d];if(!(2>E.length)){var B=E[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var le=1;le<B.length;le++)B[le]=""}}}}return Vi(x)}catch{return g}}var Ga={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lr;function No(){}O(No,Or),No.prototype.g=function(){return new XMLHttpRequest},No.prototype.i=function(){return{}},Lr=new No;function Fr(d,g,x,E){this.j=d,this.i=g,this.l=x,this.R=E||1,this.U=new Nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xd}function Xd(){this.i=null,this.g="",this.h=!1}var Uc={},Ka={};function Qa(d,g,x){d.L=1,d.v=ks(er(g)),d.m=x,d.P=!0,Bc(d,null)}function Bc(d,g){d.F=Date.now(),at(d),d.A=er(d.v);var x=d.A,E=d.R;Array.isArray(E)||(E=[String(E)]),Ss(x.i,"t",E),d.C=0,x=d.j.J,d.h=new Xd,d.g=gh(d.j,x?g:null,!d.m),0<d.O&&(d.M=new Dr(I(d.Y,d,d.g),d.O)),g=d.U,x=d.g,E=d.ca;var B="readystatechange";Array.isArray(B)||(B&&(Oi[0]=B.toString()),B=Oi);for(var G=0;G<B.length;G++){var le=vs(x,B[G],E||g.handleEvent,!1,g.h||g);if(!le)break;g.g[le.key]=le}g=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),Fi(),Do(d.i,d.u,d.A,d.l,d.R,d.m)}Fr.prototype.ca=function(d){d=d.target;const g=this.M;g&&Un(d)==3?g.j():this.Y(d)},Fr.prototype.Y=function(d){try{if(d==this.g)e:{const zt=Un(this.g);var g=this.g.Ba();const yr=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||Kc(this.g)))){this.J||zt!=4||g==7||(g==8||0>=yr?Fi(3):Fi(2)),Oo(this);var x=this.g.Z();this.X=x;t:if(Zd(this)){var E=Kc(this.g);d="";var B=E.length,G=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mr(this),Is(this);var le="";break t}this.h.i=new u.TextDecoder}for(g=0;g<B;g++)this.h.h=!0,d+=this.h.i.decode(E[g],{stream:!(G&&g==B-1)});E.length=0,this.h.g+=d,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=x==200,Wa(this.i,this.u,this.A,this.l,this.R,zt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,$t=this.g;if((nt=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(nt)){var Ge=nt;break t}}Ge=null}if(x=Ge)Mr(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qc(this,x);else{this.o=!1,this.s=3,Nt(12),mr(this),Is(this);break e}}if(this.P){x=!0;let nr;for(;!this.J&&this.C<le.length;)if(nr=ym(this,le),nr==Ka){zt==4&&(this.s=4,Nt(14),x=!1),Mr(this.i,this.l,null,"[Incomplete Response]");break}else if(nr==Uc){this.s=4,Nt(15),Mr(this.i,this.l,le,"[Invalid Chunk]"),x=!1;break}else Mr(this.i,this.l,nr,null),qc(this,nr);if(Zd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||le.length!=0||this.h.h||(this.s=1,Nt(16),x=!1),this.o=this.o&&x,!x)Mr(this.i,this.l,le,"[Invalid Chunked Response]"),mr(this),Is(this);else if(0<le.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Yc(Yt),Yt.M=!0,Nt(11))}}else Mr(this.i,this.l,le,null),qc(this,le);zt==4&&mr(this),this.o&&!this.J&&(zt==4?ol(this.j,this):(this.o=!1,at(this)))}else tl(this.g),x==400&&0<le.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),mr(this),Is(this)}}}catch{}finally{}};function Zd(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ym(d,g){var x=d.C,E=g.indexOf(`
`,x);return E==-1?Ka:(x=Number(g.substring(x,E)),isNaN(x)?Uc:(E+=1,E+x>g.length?Ka:(g=g.slice(E,E+x),d.C=E+x,g)))}Fr.prototype.cancel=function(){this.J=!0,mr(this)};function at(d){d.S=Date.now()+d.I,eh(d,d.I)}function eh(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Vr(I(d.ba,d),g)}function Oo(d){d.B&&(u.clearTimeout(d.B),d.B=null)}Fr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(zc(this.i,this.A),this.L!=2&&(Fi(),Nt(17)),mr(this),this.s=2,Is(this)):eh(this,this.S-d)};function Is(d){d.j.G==0||d.J||ol(d.j,d)}function mr(d){Oo(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,ni(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function qc(d,g){try{var x=d.j;if(x.G!=0&&(x.g==d||Sn(x.h,d))){if(!d.K&&Sn(x.h,d)&&x.G==3){try{var E=x.Da.g.parse(g)}catch{E=null}if(Array.isArray(E)&&E.length==3){var B=E;if(B[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<d.F)sl(x),qr(x);else break e;il(x),Nt(18)}}else x.za=B[1],0<x.za-x.T&&37500>B[2]&&x.F&&x.v==0&&!x.C&&(x.C=Vr(I(x.Za,x),6e3));if(1>=nh(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else qi(x,11)}else if((d.K||x.g==d)&&sl(x),!J(g))for(B=x.Da.g.parse(g),g=0;g<B.length;g++){let Ge=B[g];if(x.T=Ge[0],Ge=Ge[1],x.G==2)if(Ge[0]=="c"){x.K=Ge[1],x.ia=Ge[2];const Yt=Ge[3];Yt!=null&&(x.la=Yt,x.j.info("VER="+x.la));const zt=Ge[4];zt!=null&&(x.Aa=zt,x.j.info("SVER="+x.Aa));const yr=Ge[5];yr!=null&&typeof yr=="number"&&0<yr&&(E=1.5*yr,x.L=E,x.j.info("backChannelRequestTimeoutMs_="+E)),E=x;const nr=d.g;if(nr){const Uo=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uo){var G=E.h;G.g||Uo.indexOf("spdy")==-1&&Uo.indexOf("quic")==-1&&Uo.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Hc(G,G.h),G.h=null))}if(E.D){const ll=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;ll&&(E.ya=ll,st(E.I,E.D,ll))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-d.F,x.j.info("Handshake RTT: "+x.R+"ms")),E=x;var le=d;if(E.qa=mh(E,E.J?E.ia:null,E.W),le.K){rh(E.h,le);var nt=le,$t=E.L;$t&&(nt.I=$t),nt.B&&(Oo(nt),at(nt)),E.g=le}else zo(E);0<x.i.length&&li(x)}else Ge[0]!="stop"&&Ge[0]!="close"||qi(x,7);else x.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?qi(x,7):an(x):Ge[0]!="noop"&&x.l&&x.l.ta(Ge),x.v=0)}}Fi(4)}catch{}}var th=class{constructor(d,g){this.g=d,this.map=g}};function Vo(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function nh(d){return d.h?1:d.g?d.g.size:0}function Sn(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function Hc(d,g){d.g?d.g.add(g):d.h=g}function rh(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}Vo.prototype.cancel=function(){if(this.i=ih(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ih(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const x of d.g.values())g=g.concat(x.D);return g}return z(d.i)}function Ya(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var g=[],x=d.length,E=0;E<x;E++)g.push(d[E]);return g}g=[],x=0;for(E in d)g[x++]=d[E];return g}function Ja(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(p(d)||typeof d=="string"){var g=[];d=d.length;for(var x=0;x<d;x++)g.push(x);return g}g=[],x=0;for(const E in d)g[x++]=E;return g}}}function bs(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var x=Ja(d),E=Ya(d),B=E.length,G=0;G<B;G++)g.call(void 0,E[G],x&&x[G],d)}var Mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vm(d,g){if(d){d=d.split("&");for(var x=0;x<d.length;x++){var E=d[x].indexOf("="),B=null;if(0<=E){var G=d[x].substring(0,E);B=d[x].substring(E+1)}else G=d[x];g(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function ji(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ji){this.h=d.h,Lo(this,d.j),this.o=d.o,this.g=d.g,Es(this,d.s),this.l=d.l;var g=d.i,x=new si;x.i=g.i,g.g&&(x.g=new Map(g.g),x.h=g.h),Ts(this,x),this.m=d.m}else d&&(g=String(d).match(Mo))?(this.h=!1,Lo(this,g[1]||"",!0),this.o=qe(g[2]||""),this.g=qe(g[3]||"",!0),Es(this,g[4]),this.l=qe(g[5]||"",!0),Ts(this,g[6]||"",!0),this.m=qe(g[7]||"")):(this.h=!1,this.i=new si(null,this.h))}ji.prototype.toString=function(){var d=[],g=this.j;g&&d.push(Ps(g,Xa,!0),":");var x=this.g;return(x||g=="file")&&(d.push("//"),(g=this.o)&&d.push(Ps(g,Xa,!0),"@"),d.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&d.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(Ps(x,x.charAt(0)=="/"?ah:oh,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",Ps(x,$c)),d.join("")};function er(d){return new ji(d)}function Lo(d,g,x){d.j=x?qe(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function Es(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function Ts(d,g,x){g instanceof si?(d.i=g,oi(d.i,d.h)):(x||(g=Ps(g,lh)),d.i=new si(g,d.h))}function st(d,g,x){d.i.set(g,x)}function ks(d){return st(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function qe(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ps(d,g,x){return typeof d=="string"?(d=encodeURI(d).replace(g,sh),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function sh(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Xa=/[#\/\?@]/g,oh=/[#\?:]/g,ah=/[#\?]/g,lh=/[#\?@]/g,$c=/#/g;function si(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function on(d){d.g||(d.g=new Map,d.h=0,d.i&&vm(d.i,function(g,x){d.add(decodeURIComponent(g.replace(/\+/g," ")),x)}))}n=si.prototype,n.add=function(d,g){on(this),this.i=null,d=gr(this,d);var x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(g),this.h+=1,this};function jr(d,g){on(d),g=gr(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function zr(d,g){return on(d),g=gr(d,g),d.g.has(g)}n.forEach=function(d,g){on(this),this.g.forEach(function(x,E){x.forEach(function(B){d.call(g,B,E,this)},this)},this)},n.na=function(){on(this);const d=Array.from(this.g.values()),g=Array.from(this.g.keys()),x=[];for(let E=0;E<g.length;E++){const B=d[E];for(let G=0;G<B.length;G++)x.push(g[E])}return x},n.V=function(d){on(this);let g=[];if(typeof d=="string")zr(this,d)&&(g=g.concat(this.g.get(gr(this,d))));else{d=Array.from(this.g.values());for(let x=0;x<d.length;x++)g=g.concat(d[x])}return g},n.set=function(d,g){return on(this),this.i=null,d=gr(this,d),zr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},n.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function Ss(d,g,x){jr(d,g),0<x.length&&(d.i=null,d.g.set(gr(d,g),z(x)),d.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(var x=0;x<g.length;x++){var E=g[x];const G=encodeURIComponent(String(E)),le=this.V(E);for(E=0;E<le.length;E++){var B=G;le[E]!==""&&(B+="="+encodeURIComponent(String(le[E]))),d.push(B)}}return this.i=d.join("&")};function gr(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function oi(d,g){g&&!d.j&&(on(d),d.i=null,d.g.forEach(function(x,E){var B=E.toLowerCase();E!=B&&(jr(this,E),Ss(this,B,x))},d)),d.j=g}function wm(d,g){const x=new Ro;if(u.Image){const E=new Image;E.onload=P(zn,x,"TestLoadImage: loaded",!0,g,E),E.onerror=P(zn,x,"TestLoadImage: error",!1,g,E),E.onabort=P(zn,x,"TestLoadImage: abort",!1,g,E),E.ontimeout=P(zn,x,"TestLoadImage: timeout",!1,g,E),u.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=d}else g(!1)}function ch(d,g){const x=new Ro,E=new AbortController,B=setTimeout(()=>{E.abort(),zn(x,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:E.signal}).then(G=>{clearTimeout(B),G.ok?zn(x,"TestPingServer: ok",!0,g):zn(x,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),zn(x,"TestPingServer: error",!1,g)})}function zn(d,g,x,E,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),E(x)}catch{}}function _m(){this.g=new Li}function uh(d,g,x){const E=x||"";try{bs(d,function(B,G){let le=B;f(B)&&(le=Vi(B)),g.push(E+G+"="+encodeURIComponent(le))})}catch(B){throw g.push(E+"type="+encodeURIComponent("_badmap")),B}}function zi(d){this.l=d.Ub||null,this.j=d.eb||!1}O(zi,Or),zi.prototype.g=function(){return new Fo(this.l,this.j)},zi.prototype.i=function(d){return function(){return d}}({});function Fo(d,g){Le.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Fo,Le),n=Fo.prototype,n.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,Br(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||u).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dh(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function dh(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?Ur(this):Br(this),this.readyState==3&&dh(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Ur(this))},n.Qa=function(d){this.g&&(this.response=d,Ur(this))},n.ga=function(){this.g&&Ur(this)};function Ur(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Br(d)}n.setRequestHeader=function(d,g){this.u.append(d,g)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var x=g.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=g.next();return d.join(`\r
`)};function Br(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ui(d){let g="";return _e(d,function(x,E){g+=E,g+=":",g+=x,g+=`\r
`}),g}function As(d,g,x){e:{for(E in x){var E=!1;break e}E=!0}E||(x=Ui(x),typeof d=="string"?x!=null&&encodeURIComponent(String(x)):st(d,g,x))}function gt(d){Le.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(gt,Le);var xm=/^https?$/i,Wc=["POST","PUT"];n=gt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,g,x,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lr.g(),this.v=this.o?xs(this.o):xs(Lr),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(G){jo(this,G);return}if(d=x||"",x=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var B in E)x.set(B,E[B]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const G of E.keys())x.set(G,E.get(G));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(x.keys()).find(G=>G.toLowerCase()=="content-type"),B=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Wc,g,void 0))||E||B||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,le]of x)this.g.setRequestHeader(G,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{el(this),this.u=!0,this.g.send(d),this.u=!1}catch(G){jo(this,G)}};function jo(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,Za(d),tr(d)}function Za(d){d.A||(d.A=!0,Fe(d,"complete"),Fe(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Fe(this,"complete"),Fe(this,"abort"),tr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tr(this,!0)),gt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Gc(this):this.bb())},n.bb=function(){Gc(this)};function Gc(d){if(d.h&&typeof l<"u"&&(!d.v[1]||Un(d)!=4||d.Z()!=2)){if(d.u&&Un(d)==4)Rr(d.Ea,0,d);else if(Fe(d,"readystatechange"),Un(d)==4){d.h=!1;try{const le=d.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var x;if(!(x=g)){var E;if(E=le===0){var B=String(d.D).match(Mo)[1]||null;!B&&u.self&&u.self.location&&(B=u.self.location.protocol.slice(0,-1)),E=!xm.test(B?B.toLowerCase():"")}x=E}if(x)Fe(d,"complete"),Fe(d,"success");else{d.m=6;try{var G=2<Un(d)?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.Z()+"]",Za(d)}}finally{tr(d)}}}}function tr(d,g){if(d.g){el(d);const x=d.g,E=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||Fe(d,"ready");try{x.onreadystatechange=E}catch{}}}function el(d){d.I&&(u.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Un(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),Mi(g)}};function Kc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function tl(d){const g={};d=(d.g&&2<=Un(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<d.length;E++){if(J(d[E]))continue;var x=F(d[E]);const B=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const G=g[B]||[];g[B]=G,G.push(x)}R(g,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ai(d,g,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||g}function Qc(d){this.Aa=0,this.i=[],this.j=new Ro,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ai("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ai("baseRetryDelayMs",5e3,d),this.cb=ai("retryDelaySeedMs",1e4,d),this.Wa=ai("forwardChannelMaxRetries",2,d),this.wa=ai("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Vo(d&&d.concurrentRequestLimit),this.Da=new _m,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Qc.prototype,n.la=8,n.G=1,n.connect=function(d,g,x,E){Nt(0),this.W=d,this.H=g||{},x&&E!==void 0&&(this.H.OSID=x,this.H.OAID=E),this.F=this.X,this.I=mh(this,null,this.W),li(this)};function an(d){if(nl(d),d.G==3){var g=d.U++,x=er(d.I);if(st(x,"SID",d.K),st(x,"RID",g),st(x,"TYPE","terminate"),Bi(d,x),g=new Fr(d,d.j,g),g.L=2,g.v=ks(er(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(g.v.toString(),"")}catch{}!x&&u.Image&&(new Image().src=g.v,x=!0),x||(g.g=gh(g.j,null),g.g.ea(g.v)),g.F=Date.now(),at(g)}fh(d)}function qr(d){d.g&&(Yc(d),d.g.cancel(),d.g=null)}function nl(d){qr(d),d.u&&(u.clearTimeout(d.u),d.u=null),sl(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function li(d){if(!Zn(d.h)&&!d.s){d.s=!0;var g=d.Ga;He||pe(),ae||(He(),ae=!0),ge.add(g,d),d.B=0}}function Im(d,g){return nh(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Vr(I(d.Ga,d,g),ph(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const B=new Fr(this,this.j,d);let G=this.o;if(this.S&&(G?(G=T(G),N(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)e:{for(var g=0,x=0;x<this.i.length;x++){t:{var E=this.i[x];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(g+=E,4096<g){g=x;break e}if(g===4096||x===this.i.length-1){g=x+1;break e}}g=1e3}else g=1e3;g=Cs(this,B,g),x=er(this.I),st(x,"RID",d),st(x,"CVER",22),this.D&&st(x,"X-HTTP-Session-Id",this.D),Bi(this,x),G&&(this.O?g="headers="+encodeURIComponent(String(Ui(G)))+"&"+g:this.m&&As(x,this.m,G)),Hc(this.h,B),this.Ua&&st(x,"TYPE","init"),this.P?(st(x,"$req",g),st(x,"SID","null"),B.T=!0,Qa(B,x,null)):Qa(B,x,g),this.G=2}}else this.G==3&&(d?rl(this,d):this.i.length==0||Zn(this.h)||rl(this))};function rl(d,g){var x;g?x=g.l:x=d.U++;const E=er(d.I);st(E,"SID",d.K),st(E,"RID",x),st(E,"AID",d.T),Bi(d,E),d.m&&d.o&&As(E,d.m,d.o),x=new Fr(d,d.j,x,d.B+1),d.m===null&&(x.H=d.o),g&&(d.i=g.D.concat(d.i)),g=Cs(d,x,1e3),x.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Hc(d.h,x),Qa(x,E,g)}function Bi(d,g){d.H&&_e(d.H,function(x,E){st(g,E,x)}),d.l&&bs({},function(x,E){st(g,E,x)})}function Cs(d,g,x){x=Math.min(d.i.length,x);var E=d.l?I(d.l.Na,d.l,d):null;e:{var B=d.i;let G=-1;for(;;){const le=["count="+x];G==-1?0<x?(G=B[0].g,le.push("ofs="+G)):G=0:le.push("ofs="+G);let nt=!0;for(let $t=0;$t<x;$t++){let Ge=B[$t].g;const Yt=B[$t].map;if(Ge-=G,0>Ge)G=Math.max(0,B[$t].g-100),nt=!1;else try{uh(Yt,le,"req"+Ge+"_")}catch{E&&E(Yt)}}if(nt){E=le.join("&");break e}}}return d=d.i.splice(0,x),g.D=d,E}function zo(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;He||pe(),ae||(He(),ae=!0),ge.add(g,d),d.v=0}}function il(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Vr(I(d.Fa,d),ph(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,hh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Vr(I(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),qr(this),hh(this))};function Yc(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function hh(d){d.g=new Fr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=er(d.qa);st(g,"RID","rpc"),st(g,"SID",d.K),st(g,"AID",d.T),st(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&st(g,"TO",d.ja),st(g,"TYPE","xmlhttp"),Bi(d,g),d.m&&d.o&&As(g,d.m,d.o),d.L&&(d.g.I=d.L);var x=d.g;d=d.ia,x.L=1,x.v=ks(er(g)),x.m=null,x.P=!0,Bc(x,d)}n.Za=function(){this.C!=null&&(this.C=null,qr(this),il(this),Nt(19))};function sl(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function ol(d,g){var x=null;if(d.g==g){sl(d),Yc(d),d.g=null;var E=2}else if(Sn(d.h,g))x=g.D,rh(d.h,g),E=1;else return;if(d.G!=0){if(g.o)if(E==1){x=g.m?g.m.length:0,g=Date.now()-g.F;var B=d.B;E=Co(),Fe(E,new $a(E,x)),li(d)}else zo(d);else if(B=g.s,B==3||B==0&&0<g.X||!(E==1&&Im(d,g)||E==2&&il(d)))switch(x&&0<x.length&&(g=d.h,g.i=g.i.concat(x)),B){case 1:qi(d,5);break;case 4:qi(d,10);break;case 3:qi(d,6);break;default:qi(d,2)}}}function ph(d,g){let x=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(x*=2),x*g}function qi(d,g){if(d.j.info("Error code "+g),g==2){var x=I(d.fb,d),E=d.Xa;const B=!E;E=new ji(E||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Lo(E,"https"),ks(E),B?wm(E.toString(),x):ch(E.toString(),x)}else Nt(2);d.G=0,d.l&&d.l.sa(g),fh(d),nl(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function fh(d){if(d.G=0,d.ka=[],d.l){const g=ih(d.h);(g.length!=0||d.i.length!=0)&&(C(d.ka,g),C(d.ka,d.i),d.h.i.length=0,z(d.i),d.i.length=0),d.l.ra()}}function mh(d,g,x){var E=x instanceof ji?er(x):new ji(x);if(E.g!="")g&&(E.g=g+"."+E.g),Es(E,E.s);else{var B=u.location;E=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;var G=new ji(null);E&&Lo(G,E),g&&(G.g=g),B&&Es(G,B),x&&(G.l=x),E=G}return x=d.D,g=d.ya,x&&g&&st(E,x,g),st(E,"VER",d.la),Bi(d,E),E}function gh(d,g,x){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new gt(new zi({eb:x})):new gt(d.pa),g.Ha(d.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jc(){}n=Jc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function al(){}al.prototype.g=function(d,g){return new An(d,g)};function An(d,g){Le.call(this),this.g=new Qc(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!J(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!J(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new ci(this)}O(An,Le),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){an(this.g)},An.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.u&&(x={},x.__data__=Vi(d),d=x);g.i.push(new th(g.Ya++,d)),g.G==3&&li(g)},An.prototype.N=function(){this.g.l=null,delete this.j,an(this.g),delete this.g,An.aa.N.call(this)};function yh(d){ri.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const x in g){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}O(yh,ri);function vh(){Ha.call(this),this.status=1}O(vh,Ha);function ci(d){this.g=d}O(ci,Jc),ci.prototype.ua=function(){Fe(this.g,"a")},ci.prototype.ta=function(d){Fe(this.g,new yh(d))},ci.prototype.sa=function(d){Fe(this.g,new vh)},ci.prototype.ra=function(){Fe(this.g,"b")},al.prototype.createWebChannel=al.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,jT=function(){return new al},FT=function(){return Co()},LT=ii,jy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ga.NO_ERROR=0,Ga.TIMEOUT=8,Ga.HTTP_ERROR=6,Ap=Ga,Jd.COMPLETE="complete",MT=Jd,qa.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",Le.prototype.listen=Le.prototype.K,Vu=qa,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,VT=gt}).apply(typeof pp<"u"?pp:typeof self<"u"?self:typeof window<"u"?window:{});const j1="@firebase/firestore",z1="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=new Pd("@firebase/firestore");function Fl(){return ho.logLevel}function Q5(n){ho.setLogLevel(n)}function te(n,...e){if(ho.logLevel<=ze.DEBUG){const t=e.map(uw);ho.debug(`Firestore (${Sc}): ${n}`,...t)}}function Vt(n,...e){if(ho.logLevel<=ze.ERROR){const t=e.map(uw);ho.error(`Firestore (${Sc}): ${n}`,...t)}}function Ci(n,...e){if(ho.logLevel<=ze.WARN){const t=e.map(uw);ho.warn(`Firestore (${Sc}): ${n}`,...t)}}function uw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,zT(n,r,t)}function zT(n,e,t){let r=`FIRESTORE (${Sc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Vt(r),new Error(r)}function Ie(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||zT(e,i,r)}function Y5(n,e){n||fe(57014,e)}function he(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends nn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class J5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tn.UNAUTHENTICATED))}shutdown(){}}class X5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Z5{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ie(this.o===void 0,42304);let r=this.i;const i=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let a=new pn;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new pn,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await i(this.currentUser)})},u=p=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(p=>u(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?u(p):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new pn)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new UT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class eO{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tO{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new eO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class U1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ft(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ie(this.o===void 0,3512);const r=a=>{a.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,te("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new U1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ie(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new U1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=rO(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Re(n,e){return n<e?-1:n>e?1:0}function zy(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),a=e.charAt(r);if(i!==a)return sy(i)===sy(a)?Re(i,a):sy(i)?1:-1}return Re(n.length,e.length)}const iO=55296,sO=57343;function sy(n){const e=n.charCodeAt(0);return e>=iO&&e<=sO}function tc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function BT(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="__name__";class mi{constructor(e,t,r){t===void 0?t=0:t>e.length&&fe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&fe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=mi.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Re(e.length,t.length)}static compareSegments(e,t){const r=mi.isNumericId(e),i=mi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?mi.extractNumericId(e).compare(mi.extractNumericId(t)):zy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return so.fromString(e.substring(4,e.length-2))}}class Ue extends mi{construct(e,t,r){return new Ue(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ue(t)}static emptyPath(){return new Ue([])}}const oO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends mi{construct(e,t,r){return new wt(e,t,r)}static isValidIdentifier(e){return oO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B1}static keyField(){return new wt([B1])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Z(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Z(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Z(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new Z(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(t)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Ue.fromString(e))}static fromName(e){return new ce(Ue.fromString(e).popFirst(5))}static empty(){return new ce(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ue.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Ue(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(n,e,t){if(!t)throw new Z(W.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qT(n,e,t,r){if(e===!0&&r===!0)throw new Z(W.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function q1(n){if(!ce.isDocumentKey(n))throw new Z(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function H1(n){if(ce.isDocumentKey(n))throw new Z(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function HT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ff(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":fe(12329,{type:typeof n})}function Je(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Z(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ff(n);throw new Z(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function $T(n,e){if(e<=0)throw new Z(W.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(n,e){const t={typeString:n};return e&&(t.value=e),t}function Vd(n,e){if(!HT(n))throw new Z(W.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(i&&typeof l!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new Z(W.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=-62135596800,W1=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*W1);return new et(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Z(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Z(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$1)throw new Z(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W1}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vd(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:Ht("string",et._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new et(0,0))}static max(){return new Te(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=-1;class Jp{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Uy(n){return n.fields.find(e=>e.kind===2)}function ra(n){return n.fields.filter(e=>e.kind!==2)}Jp.UNKNOWN_ID=-1;class Cp{constructor(e,t){this.fieldPath=e,this.kind=t}}class ud{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ud(0,hr.min())}}function WT(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new et(t+1,0):new et(t,r));return new hr(i,ce.empty(),e)}function GT(n){return new hr(n.readTime,n.key,nc)}class hr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new hr(Te.min(),ce.empty(),nc)}static max(){return new hr(Te.max(),ce.empty(),nc)}}function pw(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ce.comparator(n.documentKey,e.documentKey),t!==0?t:Re(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(n){if(n.code!==W.FAILED_PRECONDITION||n.message!==KT)throw n;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof U?t:U.resolve(t)}catch(t){return U.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):U.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):U.reject(t)}static resolve(e){return new U((t,r)=>{t(e)})}static reject(e){return new U((t,r)=>{r(e)})}static waitFor(e){return new U((t,r)=>{let i=0,a=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++a,l&&a===i&&t()},p=>r(p))}),l=!0,a===i&&t()})}static or(e){let t=U.resolve(!1);for(const r of e)t=t.next(i=>i?U.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new U((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let p=0;p<a;p++){const f=p;t(e[f]).next(v=>{l[f]=v,++u,u===a&&r(l)},v=>i(v))}})}static doWhile(e,t){return new U((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="SimpleDb";class jf{static open(e,t,r,i){try{return new jf(t,e.transaction(i,r))}catch(a){throw new Wu(t,a)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new pn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Wu(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=fw(r.target.error);this.S.reject(new Wu(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(te(or,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new lO(t)}}class Ti{static delete(e){return te(or,"Removing database:",e),sa(Dv().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!xa())return!1;if(Ti.F())return!0;const e=kt(),t=Ti.M(e),r=0<t&&t<10,i=YT(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,Ti.M(kt())===12.2&&Vt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(te(or,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const l=a.target.result;t(l)},i.onblocked=()=>{r(new Wu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const l=a.target.error;l.name==="VersionError"?r(new Z(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new Z(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new Wu(e,l))},i.onupgradeneeded=a=>{te(or,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const l=a.target.result;this.N.k(l,i.transaction,a.oldVersion,this.version).next(()=>{te(or,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const a=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const u=jf.open(this.db,e,a?"readonly":"readwrite",r),p=i(u).next(f=>(u.C(),f)).catch(f=>(u.abort(f),U.reject(f))).toPromise();return p.catch(()=>{}),await u.D,p}catch(u){const p=u,f=p.name!=="FirebaseError"&&l<3;if(te(or,"Transaction failed with error:",p.message,"Retrying:",f),this.close(),!f)return Promise.reject(p)}}}close(){this.db&&this.db.close(),this.db=void 0}}function YT(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class aO{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return sa(this.U.delete())}}class Wu extends Z{constructor(e,t){super(W.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Eo(n){return n.name==="IndexedDbTransactionError"}class lO{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(te(or,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(te(or,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),sa(r)}add(e){return te(or,"ADD",this.store.name,e,e),sa(this.store.add(e))}get(e){return sa(this.store.get(e)).next(t=>(t===void 0&&(t=null),te(or,"GET",this.store.name,e,t),t))}delete(e){return te(or,"DELETE",this.store.name,e),sa(this.store.delete(e))}count(){return te(or,"COUNT",this.store.name),sa(this.store.count())}J(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new U((l,u)=>{a.onerror=p=>{u(p.target.error)},a.onsuccess=p=>{l(p.target.result)}})}{const a=this.cursor(r),l=[];return this.H(a,(u,p)=>{l.push(p)}).next(()=>l)}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new U((i,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}Z(e,t){te(or,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(a,l,u)=>u.delete())}ee(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}te(e){const t=this.cursor({});return new U((r,i)=>{t.onerror=a=>{const l=fw(a.target.error);i(l)},t.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next(u=>{u?l.continue():r()}):r()}})}H(e,t){const r=[];return new U((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void i();const p=new aO(u),f=t(u.primaryKey,u.value,p);if(f instanceof U){const v=f.catch(_=>(p.done(),U.reject(_)));r.push(v)}p.isDone?i():p.G===null?u.continue():u.continue(p.G)}}).next(()=>U.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function sa(n){return new U((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=fw(r.target.error);t(i)}})}let G1=!1;function fw(n){const e=Ti.M(kt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Z("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return G1||(G1=!0,setTimeout(()=>{throw r},0)),r}}return n}const Gu="IndexBackfiller";class cO{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){te(Gu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ne.ie();te(Gu,`Documents written: ${t}`)}catch(t){Eo(t)?te(Gu,"Ignoring IndexedDB error during index backfill: ",t):await bo(t)}await this.re(6e4)})}}class uO{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.se(t,e))}se(e,t){const r=new Set;let i=t,a=!0;return U.doWhile(()=>a===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(l!==null&&!r.has(l))return te(Gu,`Processing collection: ${l}`),this.oe(e,l,i).next(u=>{i-=u,r.add(l)});a=!1})).next(()=>t-i)}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this._e(i,a)).next(u=>(te(Gu,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u))).next(()=>l.size)}))}_e(e,t){let r=e;return t.changes.forEach((i,a)=>{const l=GT(a);pw(l,r)>0&&(r=l)}),new hr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qn.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=-1;function Md(n){return n==null}function dd(n){return n===0&&1/n==-1/0}function JT(n){return typeof n=="number"&&Number.isInteger(n)&&!dd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="";function En(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=K1(e)),e=dO(n.get(t),e);return K1(e)}function dO(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case Xp:t+="";break;default:t+=a}}return t}function K1(n){return n+Xp+""}function bi(n){const e=n.length;if(Ie(e>=2,64408,{path:n}),e===2)return Ie(n.charAt(0)===Xp&&n.charAt(1)==="",56145,{path:n}),Ue.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const l=n.indexOf(Xp,a);switch((l<0||l>t)&&fe(50515,{path:n}),n.charAt(l+1)){case"":const u=n.substring(a,l);let p;i.length===0?p=u:(i+=u,p=i,i=""),r.push(p);break;case"":i+=n.substring(a,l),i+="\0";break;case"":i+=n.substring(a,l+1);break;default:fe(61167,{path:n})}a=l+2}return new Ue(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="remoteDocuments",Ld="owner",Cl="owner",hd="mutationQueues",hO="userId",Yr="mutations",Q1="batchId",pa="userMutationsIndex",Y1=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(n,e){return[n,En(e)]}function XT(n,e,t){return[n,En(e),t]}const pO={},rc="documentMutations",Zp="remoteDocumentsV14",fO=["prefixPath","collectionGroup","readTime","documentId"],Dp="documentKeyIndex",mO=["prefixPath","collectionGroup","documentId"],ZT="collectionGroupIndex",gO=["collectionGroup","readTime","prefixPath","documentId"],pd="remoteDocumentGlobal",By="remoteDocumentGlobalKey",ic="targets",e2="queryTargetsIndex",yO=["canonicalId","targetId"],sc="targetDocuments",vO=["targetId","path"],mw="documentTargetsIndex",wO=["path","targetId"],ef="targetGlobalKey",wa="targetGlobal",fd="collectionParents",_O=["collectionId","parent"],oc="clientMetadata",xO="clientId",zf="bundles",IO="bundleId",Uf="namedQueries",bO="name",gw="indexConfiguration",EO="indexId",qy="collectionGroupIndex",TO="collectionGroup",Ku="indexState",kO=["indexId","uid"],t2="sequenceNumberIndex",PO=["uid","sequenceNumber"],Qu="indexEntries",SO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],n2="documentKeyIndex",AO=["indexId","uid","orderedDocumentKey"],Bf="documentOverlays",CO=["userId","collectionPath","documentId"],Hy="collectionPathOverlayIndex",RO=["userId","collectionPath","largestBatchId"],r2="collectionGroupOverlayIndex",DO=["userId","collectionGroup","largestBatchId"],yw="globals",NO="name",i2=[hd,Yr,rc,ia,ic,Ld,wa,sc,oc,pd,fd,zf,Uf],OO=[...i2,Bf],s2=[hd,Yr,rc,Zp,ic,Ld,wa,sc,oc,pd,fd,zf,Uf,Bf],o2=s2,vw=[...o2,gw,Ku,Qu],VO=vw,a2=[...vw,yw],MO=a2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y extends QT{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Qt(n,e){const t=he(n);return Ti.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function To(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function l2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||un.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fp(this.root,e,this.comparator,!1)}getReverseIterator(){return new fp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fp(this.root,e,this.comparator,!0)}}class fp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??un.RED,this.left=i??un.EMPTY,this.right=a??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new un(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return un.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fe(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new un(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new X1(this.data.getIterator())}getIteratorFrom(e){return new X1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new it(this.comparator);return t.data=e,t}}class X1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Rl(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new Yn([])}unionWith(e){let t=new it(wt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new c2("Invalid base64 string: "+a):a}}(e);return new Ct(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Ct(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const FO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(n){if(Ie(!!n,39018),typeof n=="string"){let e=0;const t=FO.exec(n);if(Ie(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(n.seconds),nanos:vt(n.nanos)}}function vt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ls(n){return typeof n=="string"?Ct.fromBase64String(n):Ct.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="server_timestamp",d2="__type__",h2="__previous_value__",p2="__local_write_time__";function qf(n){return(n?.mapValue?.fields||{})[d2]?.stringValue===u2}function Hf(n){const e=n.mapValue.fields[h2];return qf(e)?Hf(e):e}function md(n){const e=as(n.mapValue.fields[p2].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,t,r,i,a,l,u,p,f,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=p,this.useFetchStreams=f,this.isUsingEmulator=v}}const Wy="(default)";class po{constructor(e,t){this.projectId=e,this.database=t||Wy}static empty(){return new po("","")}get isDefaultDatabase(){return this.database===Wy}isEqual(e){return e instanceof po&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="__type__",f2="__max__",eo={mapValue:{fields:{__type__:{stringValue:f2}}}},_w="__vector__",ac="value",Np={nullValue:"NULL_VALUE"};function fo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qf(n)?4:m2(n)?9007199254740991:$f(n)?10:11:fe(28295,{value:n})}function Ri(n,e){if(n===e)return!0;const t=fo(n);if(t!==fo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return md(n).isEqual(md(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=as(i.timestampValue),u=as(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return ls(i.bytesValue).isEqual(ls(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return vt(i.geoPointValue.latitude)===vt(a.geoPointValue.latitude)&&vt(i.geoPointValue.longitude)===vt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return vt(i.integerValue)===vt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=vt(i.doubleValue),u=vt(a.doubleValue);return l===u?dd(l)===dd(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return tc(n.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(J1(l)!==J1(u))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(u[p]===void 0||!Ri(l[p],u[p])))return!1;return!0}(n,e);default:return fe(52216,{left:n})}}function gd(n,e){return(n.values||[]).find(t=>Ri(t,e))!==void 0}function mo(n,e){if(n===e)return 0;const t=fo(n),r=fo(e);if(t!==r)return Re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Re(n.booleanValue,e.booleanValue);case 2:return function(a,l){const u=vt(a.integerValue||a.doubleValue),p=vt(l.integerValue||l.doubleValue);return u<p?-1:u>p?1:u===p?0:isNaN(u)?isNaN(p)?0:-1:1}(n,e);case 3:return Z1(n.timestampValue,e.timestampValue);case 4:return Z1(md(n),md(e));case 5:return zy(n.stringValue,e.stringValue);case 6:return function(a,l){const u=ls(a),p=ls(l);return u.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),p=l.split("/");for(let f=0;f<u.length&&f<p.length;f++){const v=Re(u[f],p[f]);if(v!==0)return v}return Re(u.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const u=Re(vt(a.latitude),vt(l.latitude));return u!==0?u:Re(vt(a.longitude),vt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return eI(n.arrayValue,e.arrayValue);case 10:return function(a,l){const u=a.fields||{},p=l.fields||{},f=u[ac]?.arrayValue,v=p[ac]?.arrayValue,_=Re(f?.values?.length||0,v?.values?.length||0);return _!==0?_:eI(f,v)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===eo.mapValue&&l===eo.mapValue)return 0;if(a===eo.mapValue)return 1;if(l===eo.mapValue)return-1;const u=a.fields||{},p=Object.keys(u),f=l.fields||{},v=Object.keys(f);p.sort(),v.sort();for(let _=0;_<p.length&&_<v.length;++_){const I=zy(p[_],v[_]);if(I!==0)return I;const P=mo(u[p[_]],f[v[_]]);if(P!==0)return P}return Re(p.length,v.length)}(n.mapValue,e.mapValue);default:throw fe(23264,{he:t})}}function Z1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Re(n,e);const t=as(n),r=as(e),i=Re(t.seconds,r.seconds);return i!==0?i:Re(t.nanos,r.nanos)}function eI(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=mo(t[i],r[i]);if(a)return a}return Re(t.length,r.length)}function lc(n){return Gy(n)}function Gy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=as(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ls(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ce.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=Gy(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Gy(t.fields[l])}`;return i+"}"}(n.mapValue):fe(61005,{value:n})}function Op(n){switch(fo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hf(n);return e?16+Op(e):16;case 5:return 2*n.stringValue.length;case 6:return ls(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Op(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return To(r.fields,(a,l)=>{i+=a.length+Op(l)}),i}(n.mapValue);default:throw fe(13486,{value:n})}}function Ta(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ky(n){return!!n&&"integerValue"in n}function yd(n){return!!n&&"arrayValue"in n}function tI(n){return!!n&&"nullValue"in n}function nI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vp(n){return!!n&&"mapValue"in n}function $f(n){return(n?.mapValue?.fields||{})[ww]?.stringValue===_w}function Yu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return To(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Yu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yu(n.arrayValue.values[t]);return e}return{...n}}function m2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===f2}const g2={mapValue:{fields:{[ww]:{stringValue:_w},[ac]:{arrayValue:{}}}}};function zO(n){return"nullValue"in n?Np:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ta(po.empty(),ce.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?$f(n)?g2:{mapValue:{}}:fe(35942,{value:n})}function UO(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ta(po.empty(),ce.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?g2:"mapValue"in n?$f(n)?{mapValue:{}}:eo:fe(61959,{value:n})}function rI(n,e){const t=mo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function iI(n,e){const t=mo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yu(t)}setAll(e){let t=wt.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const p=this.getFieldsMap(t);this.applyChanges(p,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=Yu(l):i.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Vp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Vp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){To(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new dn(Yu(this.value))}}function y2(n){const e=[];return To(n.fields,(t,r)=>{const i=new wt([t]);if(Vp(r)){const a=y2(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t,r,i,a,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new pt(e,0,Te.min(),Te.min(),Te.min(),dn.empty(),0)}static newFoundDocument(e,t,r,i){return new pt(e,1,t,Te.min(),r,i,0)}static newNoDocument(e,t){return new pt(e,2,t,Te.min(),Te.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new pt(e,3,t,Te.min(),Te.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,t){this.position=e,this.inclusive=t}}function sI(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=ce.comparator(ce.fromName(l.referenceValue),t.key):r=mo(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function oI(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ri(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,t="asc"){this.field=e,this.dir=t}}function BO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{}class Be extends v2{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new qO(e,t,r):t==="array-contains"?new WO(e,r):t==="in"?new E2(e,r):t==="not-in"?new GO(e,r):t==="array-contains-any"?new KO(e,r):new Be(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new HO(e,r):new $O(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(mo(t,this.value)):t!==null&&fo(this.value)===fo(t)&&this.matchesComparison(mo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rt extends v2{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new rt(e,t)}matches(e){return cc(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cc(n){return n.op==="and"}function Qy(n){return n.op==="or"}function xw(n){return w2(n)&&cc(n)}function w2(n){for(const e of n.filters)if(e instanceof rt)return!1;return!0}function Yy(n){if(n instanceof Be)return n.field.canonicalString()+n.op.toString()+lc(n.value);if(xw(n))return n.filters.map(e=>Yy(e)).join(",");{const e=n.filters.map(t=>Yy(t)).join(",");return`${n.op}(${e})`}}function _2(n,e){return n instanceof Be?function(r,i){return i instanceof Be&&r.op===i.op&&r.field.isEqual(i.field)&&Ri(r.value,i.value)}(n,e):n instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,u)=>a&&_2(l,i.filters[u]),!0):!1}(n,e):void fe(19439)}function x2(n,e){const t=n.filters.concat(e);return rt.create(t,n.op)}function I2(n){return n instanceof Be?function(t){return`${t.field.canonicalString()} ${t.op} ${lc(t.value)}`}(n):n instanceof rt?function(t){return t.op.toString()+" {"+t.getFilters().map(I2).join(" ,")+"}"}(n):"Filter"}class qO extends Be{constructor(e,t,r){super(e,t,r),this.key=ce.fromName(r.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class HO extends Be{constructor(e,t){super(e,"in",t),this.keys=b2("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $O extends Be{constructor(e,t){super(e,"not-in",t),this.keys=b2("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function b2(n,e){return(e.arrayValue?.values||[]).map(t=>ce.fromName(t.referenceValue))}class WO extends Be{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yd(t)&&gd(t.arrayValue,this.value)}}class E2 extends Be{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gd(this.value.arrayValue,t)}}class GO extends Be{constructor(e,t){super(e,"not-in",t)}matches(e){if(gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gd(this.value.arrayValue,t)}}class KO extends Be{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,t=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function Jy(n,e=null,t=[],r=[],i=null,a=null,l=null){return new QO(n,e,t,r,i,a,l)}function ka(n){const e=he(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Yy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Md(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>lc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>lc(r)).join(",")),e.Te=t}return e.Te}function Fd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!BO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!_2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!oI(n.startAt,e.startAt)&&oI(n.endAt,e.endAt)}function tf(n){return ce.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function nf(n,e){return n.filters.filter(t=>t instanceof Be&&t.field.isEqual(e))}function aI(n,e,t){let r=Np,i=!0;for(const a of nf(n,e)){let l=Np,u=!0;switch(a.op){case"<":case"<=":l=zO(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,u=!1;break;case"!=":case"not-in":l=Np}rI({value:r,inclusive:i},{value:l,inclusive:u})<0&&(r=l,i=u)}if(t!==null){for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];rI({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}function lI(n,e,t){let r=eo,i=!0;for(const a of nf(n,e)){let l=eo,u=!0;switch(a.op){case">=":case">":l=UO(a.value),u=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,u=!1;break;case"!=":case"not-in":l=eo}iI({value:r,inclusive:i},{value:l,inclusive:u})>0&&(r=l,i=u)}if(t!==null){for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];iI({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,t=null,r=[],i=[],a=null,l="F",u=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function T2(n,e,t,r,i,a,l,u){return new ps(n,e,t,r,i,a,l,u)}function Ac(n){return new ps(n)}function cI(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Iw(n){return n.collectionGroup!==null}function Kl(n){const e=he(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new it(wt.comparator);return l.filters.forEach(p=>{p.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new vd(a,r))}),t.has(wt.keyField().canonicalString())||e.Ie.push(new vd(wt.keyField(),r))}return e.Ie}function Mn(n){const e=he(n);return e.Ee||(e.Ee=YO(e,Kl(n))),e.Ee}function YO(n,e){if(n.limitType==="F")return Jy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new vd(i.field,a)});const t=n.endAt?new go(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new go(n.startAt.position,n.startAt.inclusive):null;return Jy(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Xy(n,e){const t=n.filters.concat([e]);return new ps(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function rf(n,e,t){return new ps(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jd(n,e){return Fd(Mn(n),Mn(e))&&n.limitType===e.limitType}function k2(n){return`${ka(Mn(n))}|lt:${n.limitType}`}function jl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>I2(i)).join(", ")}]`),Md(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>lc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>lc(i)).join(",")),`Target(${r})`}(Mn(n))}; limitType=${n.limitType})`}function zd(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ce.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Kl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,p){const f=sI(l,u,p);return l.inclusive?f<=0:f<0}(r.startAt,Kl(r),i)||r.endAt&&!function(l,u,p){const f=sI(l,u,p);return l.inclusive?f>=0:f>0}(r.endAt,Kl(r),i))}(n,e)}function P2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function S2(n){return(e,t)=>{let r=!1;for(const i of Kl(n)){const a=JO(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function JO(n,e,t){const r=n.field.isKeyField()?ce.comparator(e.key,t.key):function(a,l,u){const p=l.data.field(a),f=u.data.field(a);return p!==null&&f!==null?mo(p,f):fe(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return fe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return l2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=new ut(ce.comparator);function Jn(){return XO}const A2=new ut(ce.comparator);function Mu(...n){let e=A2;for(const t of n)e=e.insert(t.key,t);return e}function C2(n){let e=A2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ei(){return Ju()}function R2(){return Ju()}function Ju(){return new fs(n=>n.toString(),(n,e)=>n.isEqual(e))}const ZO=new ut(ce.comparator),eV=new it(ce.comparator);function Ve(...n){let e=eV;for(const t of n)e=e.add(t);return e}const tV=new it(Re);function bw(){return tV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dd(e)?"-0":e}}function D2(n){return{integerValue:""+n}}function N2(n,e){return JT(e)?D2(e):Ew(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(){this._=void 0}}function nV(n,e,t){return n instanceof uc?function(i,a){const l={fields:{[d2]:{stringValue:u2},[p2]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&qf(a)&&(a=Hf(a)),a&&(l.fields[h2]=a),{mapValue:l}}(t,e):n instanceof Pa?V2(n,e):n instanceof Sa?M2(n,e):function(i,a){const l=O2(i,a),u=uI(l)+uI(i.Ae);return Ky(l)&&Ky(i.Ae)?D2(u):Ew(i.serializer,u)}(n,e)}function rV(n,e,t){return n instanceof Pa?V2(n,e):n instanceof Sa?M2(n,e):t}function O2(n,e){return n instanceof dc?function(r){return Ky(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class uc extends Wf{}class Pa extends Wf{constructor(e){super(),this.elements=e}}function V2(n,e){const t=L2(e);for(const r of n.elements)t.some(i=>Ri(i,r))||t.push(r);return{arrayValue:{values:t}}}class Sa extends Wf{constructor(e){super(),this.elements=e}}function M2(n,e){let t=L2(e);for(const r of n.elements)t=t.filter(i=>!Ri(i,r));return{arrayValue:{values:t}}}class dc extends Wf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function uI(n){return vt(n.integerValue||n.doubleValue)}function L2(n){return yd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,t){this.field=e,this.transform=t}}function iV(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Pa&&i instanceof Pa||r instanceof Sa&&i instanceof Sa?tc(r.elements,i.elements,Ri):r instanceof dc&&i instanceof dc?Ri(r.Ae,i.Ae):r instanceof uc&&i instanceof uc}(n.transform,e.transform)}class sV{constructor(e,t){this.version=e,this.transformResults=t}}class _t{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _t}static exists(e){return new _t(void 0,e)}static updateTime(e){return new _t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Gf{}function F2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Rc(n.key,_t.none()):new Cc(n.key,n.data,_t.none());{const t=n.data,r=dn.empty();let i=new it(wt.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new ms(n.key,r,new Yn(i.toArray()),_t.none())}}function oV(n,e,t){n instanceof Cc?function(i,a,l){const u=i.value.clone(),p=hI(i.fieldTransforms,a,l.transformResults);u.setAll(p),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof ms?function(i,a,l){if(!Mp(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=hI(i.fieldTransforms,a,l.transformResults),p=a.data;p.setAll(j2(i)),p.setAll(u),a.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Xu(n,e,t,r){return n instanceof Cc?function(a,l,u,p){if(!Mp(a.precondition,l))return u;const f=a.value.clone(),v=pI(a.fieldTransforms,p,l);return f.setAll(v),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof ms?function(a,l,u,p){if(!Mp(a.precondition,l))return u;const f=pI(a.fieldTransforms,p,l),v=l.data;return v.setAll(j2(a)),v.setAll(f),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(a,l,u){return Mp(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function aV(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=O2(r.transform,i||null);a!=null&&(t===null&&(t=dn.empty()),t.set(r.field,a))}return t||null}function dI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&tc(r,i,(a,l)=>iV(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Cc extends Gf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ms extends Gf{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function j2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function hI(n,e,t){const r=new Map;Ie(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,rV(l,u,t[i]))}return r}function pI(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,nV(a,l,e))}return r}class Rc extends Gf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tw extends Gf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&oV(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Xu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Xu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=R2();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(i.key)?null:u;const p=F2(l,u);p!==null&&r.set(i.key,p),l.isValidDocument()||l.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&tc(this.mutations,e.mutations,(t,r)=>dI(t,r))&&tc(this.baseMutations,e.baseMutations,(t,r)=>dI(t,r))}}class Pw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ie(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return ZO}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Pw(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,Ke;function z2(n){switch(n){case W.OK:return fe(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return fe(15467,{code:n})}}function U2(n){if(n===void 0)return Vt("GRPC error has no .code"),W.UNKNOWN;switch(n){case Bt.OK:return W.OK;case Bt.CANCELLED:return W.CANCELLED;case Bt.UNKNOWN:return W.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return W.INTERNAL;case Bt.UNAVAILABLE:return W.UNAVAILABLE;case Bt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Bt.NOT_FOUND:return W.NOT_FOUND;case Bt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Bt.ABORTED:return W.ABORTED;case Bt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Bt.DATA_LOSS:return W.DATA_LOSS;default:return fe(39323,{code:n})}}(Ke=Bt||(Bt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=new so([4294967295,4294967295],0);function fI(n){const e=B2().encode(n),t=new OT;return t.update(e),new Uint8Array(t.digest())}function mI(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new so([t,r],0),new so([i,a],0)]}class Aw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Lu(`Invalid padding: ${t}`);if(r<0)throw new Lu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Lu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Lu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=so.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(so.fromNumber(r)));return i.compare(cV)===1&&(i=new so([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=fI(e),[r,i]=mI(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Aw(a,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.ge===0)return;const t=fI(e),[r,i]=mI(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,qd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Bd(Te.min(),i,new ut(Re),Jn(),Ve())}}class qd{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new qd(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class q2{constructor(e,t){this.targetId=e,this.Ce=t}}class H2{constructor(e,t,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class gI{constructor(){this.ve=0,this.Fe=yI(),this.Me=Ct.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),t=Ve(),r=Ve();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:fe(38017,{changeType:a})}}),new qd(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=yI()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jn(),this.Je=mp(),this.He=mp(),this.Ye=new ut(Re)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:fe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(tf(a))if(r===0){const l=new ce(a.path);this.et(t,l,pt.newNoDocument(l,Te.min()))}else Ie(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),p=u?this.ct(u,e,l):1;if(p!==0){this.it(t);const f=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,u;try{l=ls(r).toUint8Array()}catch(p){if(p instanceof c2)return Ci("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{u=new Aw(l,i,a)}catch(p){return Ci(p instanceof Lu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(t,a,null),i++)}),i}Tt(e){const t=new Map;this.ze.forEach((a,l)=>{const u=this.ot(l);if(u){if(a.current&&tf(u.target)){const p=new ce(u.target.path);this.It(p).has(l)||this.Et(l,p)||this.et(l,p,pt.newNoDocument(p,e))}a.Be&&(t.set(l,a.ke()),a.qe())}});let r=Ve();this.He.forEach((a,l)=>{let u=!0;l.forEachWhile(p=>{const f=this.ot(p);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.je.forEach((a,l)=>l.setReadTime(e));const i=new Bd(e,t,this.Ye,this.je,r);return this.je=Jn(),this.Je=mp(),this.He=mp(),this.Ye=new ut(Re),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new gI,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new it(Re),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new it(Re),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||te("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gI),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function mp(){return new ut(ce.comparator)}function yI(){return new ut(ce.comparator)}const dV={asc:"ASCENDING",desc:"DESCENDING"},hV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pV={and:"AND",or:"OR"};class fV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zy(n,e){return n.useProto3Json||Md(e)?e:{value:e}}function hc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function mV(n,e){return hc(n,e.toTimestamp())}function Lt(n){return Ie(!!n,49232),Te.fromTimestamp(function(t){const r=as(t);return new et(r.seconds,r.nanos)}(n))}function Cw(n,e){return ev(n,e).canonicalString()}function ev(n,e){const t=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function W2(n){const e=Ue.fromString(n);return Ie(nk(e),10190,{key:e.toString()}),e}function wd(n,e){return Cw(n.databaseId,e.path)}function ki(n,e){const t=W2(e);if(t.get(1)!==n.databaseId.projectId)throw new Z(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Z(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ce(Q2(t))}function G2(n,e){return Cw(n.databaseId,e)}function K2(n){const e=W2(n);return e.length===4?Ue.emptyPath():Q2(e)}function tv(n){return new Ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Q2(n){return Ie(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function vI(n,e,t){return{name:wd(n,e),fields:t.value.mapValue.fields}}function Y2(n,e,t){const r=ki(n,e.name),i=Lt(e.updateTime),a=e.createTime?Lt(e.createTime):Te.min(),l=new dn({mapValue:{fields:e.fields}}),u=pt.newFoundDocument(r,i,a,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function gV(n,e){return"found"in e?function(r,i){Ie(!!i.found,43571),i.found.name,i.found.updateTime;const a=ki(r,i.found.name),l=Lt(i.found.updateTime),u=i.found.createTime?Lt(i.found.createTime):Te.min(),p=new dn({mapValue:{fields:i.found.fields}});return pt.newFoundDocument(a,l,u,p)}(n,e):"missing"in e?function(r,i){Ie(!!i.missing,3894),Ie(!!i.readTime,22933);const a=ki(r,i.missing),l=Lt(i.readTime);return pt.newNoDocument(a,l)}(n,e):fe(7234,{result:e})}function yV(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:fe(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,v){return f.useProto3Json?(Ie(v===void 0||typeof v=="string",58123),Ct.fromBase64String(v||"")):(Ie(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ct.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const v=f.code===void 0?W.UNKNOWN:U2(f.code);return new Z(v,f.message||"")}(l);t=new H2(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ki(n,r.document.name),a=Lt(r.document.updateTime),l=r.document.createTime?Lt(r.document.createTime):Te.min(),u=new dn({mapValue:{fields:r.document.fields}}),p=pt.newFoundDocument(i,a,l,u),f=r.targetIds||[],v=r.removedTargetIds||[];t=new Lp(f,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ki(n,r.document),a=r.readTime?Lt(r.readTime):Te.min(),l=pt.newNoDocument(i,a),u=r.removedTargetIds||[];t=new Lp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ki(n,r.document),a=r.removedTargetIds||[];t=new Lp([],a,i,null)}else{if(!("filter"in e))return fe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new lV(i,a),u=r.targetId;t=new q2(u,l)}}return t}function _d(n,e){let t;if(e instanceof Cc)t={update:vI(n,e.key,e.value)};else if(e instanceof Rc)t={delete:wd(n,e.key)};else if(e instanceof ms)t={update:vI(n,e.key,e.data),updateMask:bV(e.fieldMask)};else{if(!(e instanceof Tw))return fe(16599,{Vt:e.type});t={verify:wd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const u=l.transform;if(u instanceof uc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Pa)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Sa)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof dc)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw fe(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:mV(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:fe(27497)}(n,e.precondition)),t}function nv(n,e){const t=e.currentDocument?function(a){return a.updateTime!==void 0?_t.updateTime(Lt(a.updateTime)):a.exists!==void 0?_t.exists(a.exists):_t.none()}(e.currentDocument):_t.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,u){let p=null;if("setToServerValue"in u)Ie(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),p=new uc;else if("appendMissingElements"in u){const v=u.appendMissingElements.values||[];p=new Pa(v)}else if("removeAllFromArray"in u){const v=u.removeAllFromArray.values||[];p=new Sa(v)}else"increment"in u?p=new dc(l,u.increment):fe(16584,{proto:u});const f=wt.fromServerFormat(u.fieldPath);return new Ud(f,p)}(n,i)):[];if(e.update){e.update.name;const i=ki(n,e.update.name),a=new dn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=function(p){const f=p.fieldPaths||[];return new Yn(f.map(v=>wt.fromServerFormat(v)))}(e.updateMask);return new ms(i,a,l,t,r)}return new Cc(i,a,t,r)}if(e.delete){const i=ki(n,e.delete);return new Rc(i,t)}if(e.verify){const i=ki(n,e.verify);return new Tw(i,t)}return fe(1463,{proto:e})}function vV(n,e){return n&&n.length>0?(Ie(e!==void 0,14353),n.map(t=>function(i,a){let l=i.updateTime?Lt(i.updateTime):Lt(a);return l.isEqual(Te.min())&&(l=Lt(a)),new sV(l,i.transformResults||[])}(t,e))):[]}function J2(n,e){return{documents:[G2(n,e.path)]}}function X2(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=G2(n,i);const a=function(f){if(f.length!==0)return tk(rt.create(f,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(v=>function(I){return{field:zl(I.field),direction:_V(I.dir)}}(v))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Zy(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ft:t,parent:i}}function Z2(n){let e=K2(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ie(r===1,65062);const v=t.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(_){const I=ek(_);return I instanceof rt&&xw(I)?I.getFilters():[I]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(I=>function(O){return new vd(Ul(O.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(I))}(t.orderBy));let u=null;t.limit&&(u=function(_){let I;return I=typeof _=="object"?_.value:_,Md(I)?null:I}(t.limit));let p=null;t.startAt&&(p=function(_){const I=!!_.before,P=_.values||[];return new go(P,I)}(t.startAt));let f=null;return t.endAt&&(f=function(_){const I=!_.before,P=_.values||[];return new go(P,I)}(t.endAt)),T2(e,i,l,a,u,"F",p,f)}function wV(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ek(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ul(t.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ul(t.unaryFilter.field);return Be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ul(t.unaryFilter.field);return Be.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ul(t.unaryFilter.field);return Be.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fe(61313);default:return fe(60726)}}(n):n.fieldFilter!==void 0?function(t){return Be.create(Ul(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fe(58110);default:return fe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return rt.create(t.compositeFilter.filters.map(r=>ek(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe(1026)}}(t.compositeFilter.op))}(n):fe(30097,{filter:n})}function _V(n){return dV[n]}function xV(n){return hV[n]}function IV(n){return pV[n]}function zl(n){return{fieldPath:n.canonicalString()}}function Ul(n){return wt.fromServerFormat(n.fieldPath)}function tk(n){return n instanceof Be?function(t){if(t.op==="=="){if(nI(t.value))return{unaryFilter:{field:zl(t.field),op:"IS_NAN"}};if(tI(t.value))return{unaryFilter:{field:zl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nI(t.value))return{unaryFilter:{field:zl(t.field),op:"IS_NOT_NAN"}};if(tI(t.value))return{unaryFilter:{field:zl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zl(t.field),op:xV(t.op),value:t.value}}}(n):n instanceof rt?function(t){const r=t.getFilters().map(i=>tk(i));return r.length===1?r[0]:{compositeFilter:{op:IV(t.op),filters:r}}}(n):fe(54877,{filter:n})}function bV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function nk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,t,r,i,a=Te.min(),l=Te.min(),u=Ct.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=p}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e){this.yt=e}}function EV(n,e){let t;if(e.document)t=Y2(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ce.fromSegments(e.noDocument.path),i=Ca(e.noDocument.readTime);t=pt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return fe(56709);{const r=ce.fromSegments(e.unknownDocument.path),i=Ca(e.unknownDocument.version);t=pt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const a=new et(i[0],i[1]);return Te.fromTimestamp(a)}(e.readTime)),t}function wI(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:sf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(a,l){return{name:wd(a,l.key),fields:l.data.value.mapValue.fields,updateTime:hc(a,l.version.toTimestamp()),createTime:hc(a,l.createTime.toTimestamp())}}(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Aa(e.version)};else{if(!e.isUnknownDocument())return fe(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:Aa(e.version)}}return r}function sf(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Aa(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ca(n){const e=new et(n.seconds,n.nanoseconds);return Te.fromTimestamp(e)}function oa(n,e){const t=(e.baseMutations||[]).map(a=>nv(n.yt,a));for(let a=0;a<e.mutations.length-1;++a){const l=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const u=e.mutations[a+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map(a=>nv(n.yt,a)),i=et.fromMillis(e.localWriteTimeMs);return new kw(e.batchId,i,t,r)}function Fu(n){const e=Ca(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Ca(n.lastLimboFreeSnapshotVersion):Te.min();let r;return r=function(a){return a.documents!==void 0}(n.query)?function(a){const l=a.documents.length;return Ie(l===1,1966,{count:l}),Mn(Ac(K2(a.documents[0])))}(n.query):function(a){return Mn(Z2(a))}(n.query),new ts(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ct.fromBase64String(n.resumeToken))}function ik(n,e){const t=Aa(e.snapshotVersion),r=Aa(e.lastLimboFreeSnapshotVersion);let i;i=tf(e.target)?J2(n.yt,e.target):X2(n.yt,e.target).ft;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ka(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Rw(n){const e=Z2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?rf(e,e.limit,"L"):e}function oy(n,e){return new Sw(e.largestBatchId,nv(n.yt,e.overlayMutation))}function _I(n,e){const t=e.path.lastSegment();return[n,En(e.path.popLast()),t]}function xI(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Aa(r.readTime),documentKey:En(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{getBundleMetadata(e,t){return II(e).get(t).next(r=>{if(r)return function(a){return{id:a.bundleId,createTime:Ca(a.createTime),version:a.version}}(r)})}saveBundleMetadata(e,t){return II(e).put(function(i){return{bundleId:i.id,createTime:Aa(Lt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return bI(e).get(t).next(r=>{if(r)return function(a){return{name:a.name,query:Rw(a.bundledQuery),readTime:Ca(a.readTime)}}(r)})}saveNamedQuery(e,t){return bI(e).put(function(i){return{name:i.name,readTime:Aa(Lt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function II(n){return Qt(n,zf)}function bI(n){return Qt(n,Uf)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new Kf(e,r)}getOverlay(e,t){return ku(e).get(_I(this.userId,t)).next(r=>r?oy(this.serializer,r):null)}getOverlays(e,t){const r=Ei();return U.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,l)=>{const u=new Sw(t,l);i.push(this.St(e,u))}),U.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(En(l.getCollectionPath())));const a=[];return i.forEach(l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(ku(e).Z(Hy,u))}),U.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Ei(),a=En(t),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return ku(e).J(Hy,l).next(u=>{for(const p of u){const f=oy(this.serializer,p);i.set(f.getKey(),f)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Ei();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ku(e).ee({index:r2,range:u},(p,f,v)=>{const _=oy(this.serializer,f);a.size()<i||_.largestBatchId===l?(a.set(_.getKey(),_),l=_.largestBatchId):v.done()}).next(()=>a)}St(e,t){return ku(e).put(function(i,a,l){const[u,p,f]=_I(a,l.mutation.key);return{userId:a,collectionPath:p,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:_d(i.yt,l.mutation)}}(this.serializer,this.userId,t))}}function ku(n){return Qt(n,Bf)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{bt(e){return Qt(e,yw)}getSessionToken(e){return this.bt(e).get("sessionToken").next(t=>{const r=t?.value;return r?Ct.fromUint8Array(r):Ct.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(vt(e.integerValue));else if("doubleValue"in e){const r=vt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),dd(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=as(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ls(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?m2(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):$f(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):fe(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const i=ac,a=r[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(vt(a)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),ce.fromName(e).path.forEach(r=>{this.Ft(t,60),this.Ut(r,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}aa.Kt=new aa;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=255;function PV(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function EI(n){const e=64-function(r){let i=0;for(let a=0;a<8;++a){const l=PV(255&r[a]);if(i+=l,l!==8)break}return i}(n);return Math.ceil(e/8)}class SV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=t.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=t.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const t=this.en(e),r=EI(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}nn(e){const t=this.en(e),r=EI(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}rn(){this.sn(Dl),this.sn(255)}_n(){this.an(Dl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=function(a){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,a,!1),new Uint8Array(l.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Dl?(this.sn(Dl),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Dl?(this.an(Dl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class AV{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class CV{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Pu{constructor(){this.cn=new SV,this.ln=new AV(this.cn),this.hn=new CV(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t,r,i){this.Tn=e,this.In=t,this.En=r,this.dn=i}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new la(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:Fp(this.En),directionalValue:Fp(this.dn),orderedDocumentKey:Fp(t),documentKey:r.path.toArray()}}Vn(e,t,r){const i=this.Rn(e,t,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Ws(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=TI(n.En,e.En),t!==0?t:(t=TI(n.dn,e.dn),t!==0?t:ce.comparator(n.In,e.In)))}function TI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Fp(n){return _E()?function(t){let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return r}(n):n}function kI(n){return typeof n!="string"?n:function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(n)}class PI{constructor(e){this.mn=new it((t,r)=>wt.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ie(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=Uy(e);if(t!==void 0&&!this.wn(t))return!1;const r=ra(e);let i=new Set,a=0,l=0;for(;a<r.length&&this.wn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const p=r[a];if(!this.Sn(u,p)||!this.bn(this.fn[l++],p))return!1}++a}for(;a<r.length;++a){const u=r[a];if(l>=this.fn.length||!this.bn(this.fn[l++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new it(wt.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Cp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Cp(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Cp(r.field,r.dir==="asc"?0:1)));return new Jp(Jp.UNKNOWN_ID,this.collectionId,t,ud.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(n){if(Ie(n instanceof Be||n instanceof rt,20012),n instanceof Be){if(n instanceof E2){const t=n.value.arrayValue?.values?.map(r=>Be.create(n.field,"==",r))||[];return rt.create(t,"or")}return n}const e=n.filters.map(t=>sk(t));return rt.create(e,n.op)}function RV(n){if(n.getFilters().length===0)return[];const e=sv(sk(n));return Ie(ok(e),7391),rv(e)||iv(e)?[e]:e.getFilters()}function rv(n){return n instanceof Be}function iv(n){return n instanceof rt&&xw(n)}function ok(n){return rv(n)||iv(n)||function(t){if(t instanceof rt&&Qy(t)){for(const r of t.getFilters())if(!rv(r)&&!iv(r))return!1;return!0}return!1}(n)}function sv(n){if(Ie(n instanceof Be||n instanceof rt,34018),n instanceof Be)return n;if(n.filters.length===1)return sv(n.filters[0]);const e=n.filters.map(r=>sv(r));let t=rt.create(e,n.op);return t=of(t),ok(t)?t:(Ie(t instanceof rt,64498),Ie(cc(t),40251),Ie(t.filters.length>1,57927),t.filters.reduce((r,i)=>Dw(r,i)))}function Dw(n,e){let t;return Ie(n instanceof Be||n instanceof rt,38388),Ie(e instanceof Be||e instanceof rt,25473),t=n instanceof Be?e instanceof Be?function(i,a){return rt.create([i,a],"and")}(n,e):SI(n,e):e instanceof Be?SI(e,n):function(i,a){if(Ie(i.filters.length>0&&a.filters.length>0,48005),cc(i)&&cc(a))return x2(i,a.getFilters());const l=Qy(i)?i:a,u=Qy(i)?a:i,p=l.filters.map(f=>Dw(f,u));return rt.create(p,"or")}(n,e),of(t)}function SI(n,e){if(cc(e))return x2(e,n.getFilters());{const t=e.filters.map(r=>Dw(n,r));return rt.create(t,"or")}}function of(n){if(Ie(n instanceof Be||n instanceof rt,11850),n instanceof Be)return n;const e=n.getFilters();if(e.length===1)return of(e[0]);if(w2(n))return n;const t=e.map(i=>of(i)),r=[];return t.forEach(i=>{i instanceof Be?r.push(i):i instanceof rt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:rt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(){this.Cn=new Nw}addToCollectionParentIndex(e,t){return this.Cn.add(t),U.resolve()}getCollectionParents(e,t){return U.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return U.resolve()}deleteFieldIndex(e,t){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,t){return U.resolve()}getDocumentsMatchingTarget(e,t){return U.resolve(null)}getIndexType(e,t){return U.resolve(0)}getFieldIndexes(e,t){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,t){return U.resolve(hr.min())}getMinOffsetFromCollectionGroup(e,t){return U.resolve(hr.min())}updateCollectionGroup(e,t,r){return U.resolve()}updateIndexEntries(e,t){return U.resolve()}}class Nw{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new it(Ue.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="IndexedDbIndexManager",gp=new Uint8Array(0);class NV{constructor(e,t){this.databaseId=t,this.vn=new Nw,this.Fn=new fs(r=>ka(r),(r,i)=>Fd(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.vn.add(t)});const a={collectionId:r,parent:En(i)};return CI(e).put(a)}return U.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[BT(t),""],!1,!0);return CI(e).J(i).next(a=>{for(const l of a){if(l.collectionId!==t)break;r.push(bi(l.parent))}return r})}addFieldIndex(e,t){const r=Su(e),i=function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])}}(t);delete i.indexId;const a=r.add(i);if(t.indexState){const l=Ol(e);return a.next(u=>{l.put(xI(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=Su(e),i=Ol(e),a=Nl(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Su(e),r=Nl(e),i=Ol(e);return t.Z().next(()=>r.Z()).next(()=>i.Z())}createTargetIndexes(e,t){return U.forEach(this.Mn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const a=new PI(r).Dn();if(a!=null)return this.addFieldIndex(e,a)}}))}getDocumentsMatchingTarget(e,t){const r=Nl(e);let i=!0;const a=new Map;return U.forEach(this.Mn(t),l=>this.xn(e,l).next(u=>{i&&(i=!!u),a.set(l,u)})).next(()=>{if(i){let l=Ve();const u=[];return U.forEach(a,(p,f)=>{te(AI,`Using index ${function(Q){return`id=${Q.indexId}|cg=${Q.collectionGroup}|f=${Q.fields.map(se=>`${se.fieldPath}:${se.kind}`).join(",")}`}(p)} to execute ${ka(t)}`);const v=function(Q,se){const ve=Uy(se);if(ve===void 0)return null;for(const _e of nf(Q,ve.fieldPath))switch(_e.op){case"array-contains-any":return _e.value.arrayValue.values||[];case"array-contains":return[_e.value]}return null}(f,p),_=function(Q,se){const ve=new Map;for(const _e of ra(se))for(const R of nf(Q,_e.fieldPath))switch(R.op){case"==":case"in":ve.set(_e.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return ve.set(_e.fieldPath.canonicalString(),R.value),Array.from(ve.values())}return null}(f,p),I=function(Q,se){const ve=[];let _e=!0;for(const R of ra(se)){const T=R.kind===0?aI(Q,R.fieldPath,Q.startAt):lI(Q,R.fieldPath,Q.startAt);ve.push(T.value),_e&&(_e=T.inclusive)}return new go(ve,_e)}(f,p),P=function(Q,se){const ve=[];let _e=!0;for(const R of ra(se)){const T=R.kind===0?lI(Q,R.fieldPath,Q.endAt):aI(Q,R.fieldPath,Q.endAt);ve.push(T.value),_e&&(_e=T.inclusive)}return new go(ve,_e)}(f,p),O=this.On(p,f,I),z=this.On(p,f,P),C=this.Nn(p,f,_),K=this.Bn(p.indexId,v,O,I.inclusive,z,P.inclusive,C);return U.forEach(K,J=>r.Y(J,t.limit).next(Q=>{Q.forEach(se=>{const ve=ce.fromSegments(se.documentKey);l.has(ve)||(l=l.add(ve),u.push(ve))})}))}).next(()=>u)}return U.resolve(null)})}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=RV(rt.create(e.filters,"and")).map(r=>Jy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,t),t)}Bn(e,t,r,i,a,l,u){const p=(t!=null?t.length:1)*Math.max(r.length,a.length),f=p/(t!=null?t.length:1),v=[];for(let _=0;_<p;++_){const I=t?this.Ln(t[_/f]):gp,P=this.kn(e,I,r[_%f],i),O=this.qn(e,I,a[_%f],l),z=u.map(C=>this.kn(e,I,C,!0));v.push(...this.createRange(P,O,z))}return v}kn(e,t,r,i){const a=new la(e,ce.empty(),t,r);return i?a:a.An()}qn(e,t,r,i){const a=new la(e,ce.empty(),t,r);return i?a.An():a}xn(e,t){const r=new PI(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let l=null;for(const u of a)r.yn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l})}getIndexType(e,t){let r=2;const i=this.Mn(t);return U.forEach(i,a=>this.xn(e,a).next(l=>{l?r!==0&&l.fields.length<function(p){let f=new it(wt.comparator),v=!1;for(const _ of p.filters)for(const I of _.getFlattenedFilters())I.field.isKeyField()||(I.op==="array-contains"||I.op==="array-contains-any"?v=!0:f=f.add(I.field));for(const _ of p.orderBy)_.field.isKeyField()||(f=f.add(_.field));return f.size+(v?1:0)}(a)&&(r=1):r=0})).next(()=>function(l){return l.limit!==null}(t)&&i.length>1&&r===2?1:r)}Qn(e,t){const r=new Pu;for(const i of ra(e)){const a=t.data.field(i.fieldPath);if(a==null)return null;const l=r.Pn(i.kind);aa.Kt.Dt(a,l)}return r.un()}Ln(e){const t=new Pu;return aa.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new Pu;return aa.Kt.Dt(Ta(this.databaseId,t),r.Pn(function(a){const l=ra(a);return l.length===0?0:l[l.length-1].kind}(e))),r.un()}Nn(e,t,r){if(r===null)return[];let i=[];i.push(new Pu);let a=0;for(const l of ra(e)){const u=r[a++];for(const p of i)if(this.Un(t,l.fieldPath)&&yd(u))i=this.Kn(i,l,u);else{const f=p.Pn(l.kind);aa.Kt.Dt(u,f)}}return this.Wn(i)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const i=[...e],a=[];for(const l of r.arrayValue.values||[])for(const u of i){const p=new Pu;p.seed(u.un()),aa.Kt.Dt(l,p.Pn(t.kind)),a.push(p)}return a}Un(e,t){return!!e.filters.find(r=>r instanceof Be&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=Su(e),i=Ol(e);return(t?r.J(qy,IDBKeyRange.bound(t,t)):r.J()).next(a=>{const l=[];return U.forEach(a,u=>i.get([u.indexId,this.uid]).next(p=>{l.push(function(v,_){const I=_?new ud(_.sequenceNumber,new hr(Ca(_.readTime),new ce(bi(_.documentKey)),_.largestBatchId)):ud.empty(),P=v.fields.map(([O,z])=>new Cp(wt.fromServerFormat(O),z));return new Jp(v.indexId,v.collectionGroup,P,I)}(u,p))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:Re(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Su(e),a=Ol(e);return this.Gn(e).next(l=>i.J(qy,IDBKeyRange.bound(t,t)).next(u=>U.forEach(u,p=>a.put(xI(p.indexId,this.uid,l,r)))))}updateIndexEntries(e,t){const r=new Map;return U.forEach(t,(i,a)=>{const l=r.get(i.collectionGroup);return(l?U.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(u=>(r.set(i.collectionGroup,u),U.forEach(u,p=>this.zn(e,i,p).next(f=>{const v=this.jn(a,p);return f.isEqual(v)?U.resolve():this.Jn(e,a,p,f,v)}))))})}Hn(e,t,r,i){return Nl(e).put(i.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,i){return Nl(e).delete(i.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const i=Nl(e);let a=new it(Ws);return i.ee({index:n2,range:IDBKeyRange.only([r.indexId,this.uid,Fp(this.$n(r,t))])},(l,u)=>{a=a.add(new la(r.indexId,t,kI(u.arrayValue),kI(u.directionalValue)))}).next(()=>a)}jn(e,t){let r=new it(Ws);const i=this.Qn(t,e);if(i==null)return r;const a=Uy(t);if(a!=null){const l=e.data.field(a.fieldPath);if(yd(l))for(const u of l.arrayValue.values||[])r=r.add(new la(t.indexId,e.key,this.Ln(u),i))}else r=r.add(new la(t.indexId,e.key,gp,i));return r}Jn(e,t,r,i,a){te(AI,"Updating index entries for document '%s'",t.key);const l=[];return function(p,f,v,_,I){const P=p.getIterator(),O=f.getIterator();let z=Rl(P),C=Rl(O);for(;z||C;){let K=!1,J=!1;if(z&&C){const Q=v(z,C);Q<0?J=!0:Q>0&&(K=!0)}else z!=null?J=!0:K=!0;K?(_(C),C=Rl(O)):J?(I(z),z=Rl(P)):(z=Rl(P),C=Rl(O))}}(i,a,Ws,u=>{l.push(this.Hn(e,t,r,u))},u=>{l.push(this.Yn(e,t,r,u))}),U.waitFor(l)}Gn(e){let t=1;return Ol(e).ee({index:t2,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,u)=>Ws(l,u)).filter((l,u,p)=>!u||Ws(l,p[u-1])!==0);const i=[];i.push(e);for(const l of r){const u=Ws(l,e),p=Ws(l,t);if(u===0)i[0]=e.An();else if(u>0&&p<0)i.push(l),i.push(l.An());else if(p>0)break}i.push(t);const a=[];for(let l=0;l<i.length;l+=2){if(this.Zn(i[l],i[l+1]))return[];const u=i[l].Vn(this.uid,gp,ce.empty()),p=i[l+1].Vn(this.uid,gp,ce.empty());a.push(IDBKeyRange.bound(u,p))}return a}Zn(e,t){return Ws(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(RI)}getMinOffset(e,t){return U.mapArray(this.Mn(t),r=>this.xn(e,r).next(i=>i||fe(44426))).next(RI)}}function CI(n){return Qt(n,fd)}function Nl(n){return Qt(n,Qu)}function Su(n){return Qt(n,gw)}function Ol(n){return Qt(n,Ku)}function RI(n){Ie(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;pw(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new hr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ak=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(n,e,t){const r=n.store(Yr),i=n.store(rc),a=[],l=IDBKeyRange.only(t.batchId);let u=0;const p=r.ee({range:l},(v,_,I)=>(u++,I.delete()));a.push(p.next(()=>{Ie(u===1,47070,{batchId:t.batchId})}));const f=[];for(const v of t.mutations){const _=XT(e,v.key.path,t.batchId);a.push(i.delete(_)),f.push(v.key)}return U.waitFor(a).next(()=>f)}function af(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw fe(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(ak,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class Qf{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,t,r,i){Ie(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new Qf(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gs(e).ee({index:pa,range:r},(i,a,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Bl(e),l=Gs(e);return l.add({}).next(u=>{Ie(typeof u=="number",49019);const p=new kw(u,t,r,i),f=function(P,O,z){const C=z.baseMutations.map(J=>_d(P.yt,J)),K=z.mutations.map(J=>_d(P.yt,J));return{userId:O,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:C,mutations:K}}(this.serializer,this.userId,p),v=[];let _=new it((I,P)=>Re(I.canonicalString(),P.canonicalString()));for(const I of i){const P=XT(this.userId,I.key.path,u);_=_.add(I.key.path.popLast()),v.push(l.put(f)),v.push(a.put(P,pO))}return _.forEach(I=>{v.push(this.indexManager.addToCollectionParentIndex(e,I))}),e.addOnCommittedListener(()=>{this.Xn[u]=p.keys()}),U.waitFor(v).next(()=>p)})}lookupMutationBatch(e,t){return Gs(e).get(t).next(r=>r?(Ie(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),oa(this.serializer,r)):null)}er(e,t){return this.Xn[t]?U.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Xn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Gs(e).ee({index:pa,range:i},(l,u,p)=>{u.userId===this.userId&&(Ie(u.batchId>=r,47524,{tr:r}),a=oa(this.serializer,u)),p.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=oo;return Gs(e).ee({index:pa,range:t,reverse:!0},(i,a,l)=>{r=a.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,oo],[this.userId,Number.POSITIVE_INFINITY]);return Gs(e).J(pa,t).next(r=>r.map(i=>oa(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Rp(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Bl(e).ee({range:i},(l,u,p)=>{const[f,v,_]=l,I=bi(v);if(f===this.userId&&t.path.isEqual(I))return Gs(e).get(_).next(P=>{if(!P)throw fe(61480,{nr:l,batchId:_});Ie(P.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:P.userId,batchId:_}),a.push(oa(this.serializer,P))});p.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new it(Re);const i=[];return t.forEach(a=>{const l=Rp(this.userId,a.path),u=IDBKeyRange.lowerBound(l),p=Bl(e).ee({range:u},(f,v,_)=>{const[I,P,O]=f,z=bi(P);I===this.userId&&a.path.isEqual(z)?r=r.add(O):_.done()});i.push(p)}),U.waitFor(i).next(()=>this.rr(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=Rp(this.userId,r),l=IDBKeyRange.lowerBound(a);let u=new it(Re);return Bl(e).ee({range:l},(p,f,v)=>{const[_,I,P]=p,O=bi(I);_===this.userId&&r.isPrefixOf(O)?O.length===i&&(u=u.add(P)):v.done()}).next(()=>this.rr(e,u))}rr(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Gs(e).get(a).next(l=>{if(l===null)throw fe(35274,{batchId:a});Ie(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:a}),r.push(oa(this.serializer,l))}))}),U.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return lk(e.le,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ir(t.batchId)}),U.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return U.resolve();const r=IDBKeyRange.lowerBound(function(l){return[l]}(this.userId)),i=[];return Bl(e).ee({range:r},(a,l,u)=>{if(a[0]===this.userId){const p=bi(a[1]);i.push(p)}else u.done()}).next(()=>{Ie(i.length===0,56720,{sr:i.map(a=>a.canonicalString())})})})}containsKey(e,t){return ck(e,this.userId,t)}_r(e){return uk(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:oo,lastStreamToken:""})}}function ck(n,e,t){const r=Rp(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return Bl(n).ee({range:a,X:!0},(u,p,f)=>{const[v,_,I]=u;v===e&&_===i&&(l=!0),f.done()}).next(()=>l)}function Gs(n){return Qt(n,Yr)}function Bl(n){return Qt(n,rc)}function uk(n){return Qt(n,hd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ra(0)}static cr(){return new Ra(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next(t=>{const r=new Ra(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(t=>Te.fromTimestamp(new et(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.lr(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.hr(e,i)))}addTargetData(e,t){return this.Pr(e,t).next(()=>this.lr(e).next(r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Vl(e).delete(t.targetId)).next(()=>this.lr(e)).next(r=>(Ie(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Vl(e).ee((l,u)=>{const p=Fu(u);p.sequenceNumber<=t&&r.get(p.targetId)===null&&(i++,a.push(this.removeTargetData(e,p)))}).next(()=>U.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Vl(e).ee((r,i)=>{const a=Fu(i);t(a)})}lr(e){return NI(e).get(ef).next(t=>(Ie(t!==null,2888),t))}hr(e,t){return NI(e).put(ef,t)}Pr(e,t){return Vl(e).put(ik(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next(t=>t.targetCount)}getTargetData(e,t){const r=ka(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Vl(e).ee({range:i,index:e2},(l,u,p)=>{const f=Fu(u);Fd(t,f.target)&&(a=f,p.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Js(e);return t.forEach(l=>{const u=En(l.path);i.push(a.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,l))}),U.waitFor(i)}removeMatchingKeys(e,t,r){const i=Js(e);return U.forEach(t,a=>{const l=En(a.path);return U.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Js(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Js(e);let a=Ve();return i.ee({range:r,X:!0},(l,u,p)=>{const f=bi(l[1]),v=new ce(f);a=a.add(v)}).next(()=>a)}containsKey(e,t){const r=En(t.path),i=IDBKeyRange.bound([r],[BT(r)],!1,!0);let a=0;return Js(e).ee({index:mw,X:!0,range:i},([l,u],p,f)=>{l!==0&&(a++,f.done())}).next(()=>a>0)}At(e,t){return Vl(e).get(t).next(r=>r?Fu(r):null)}}function Vl(n){return Qt(n,ic)}function NI(n){return Qt(n,wa)}function Js(n){return Qt(n,sc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="LruGarbageCollector",VV=1048576;function VI([n,e],[t,r]){const i=Re(n,t);return i===0?Re(e,r):i}class MV{constructor(e){this.Ir=e,this.buffer=new it(VI),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();VI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){te(OI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Eo(t)?te(OI,"Ignoring IndexedDB error during garbage collection: ",t):await bo(t)}await this.Vr(3e5)})}}class LV{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return U.resolve(Qn.ce);const r=new MV(t);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(DI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DI):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,a,l,u,p,f;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,u=Date.now(),this.removeTargets(e,r,t))).next(_=>(a=_,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(f=Date.now(),Fl()<=ze.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-v}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(p-u)+`ms
	Removed ${_} documents in `+(f-p)+`ms
Total Duration: ${f-v}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_})))}}function hk(n,e){return new LV(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,t){this.db=e,this.garbageCollector=hk(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,(r,i)=>t(i))}addReference(e,t,r){return yp(e,r)}removeReference(e,t,r){return yp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return yp(e,t)}br(e,t){return function(i,a){let l=!1;return uk(i).te(u=>ck(i,u,a).next(p=>(p&&(l=!0),U.resolve(!p)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Sr(e,(l,u)=>{if(u<=t){const p=this.br(e,l).next(f=>{if(!f)return a++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Te.min()),Js(e).delete(function(_){return[0,En(_.path)]}(l))))});i.push(p)}}).next(()=>U.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return yp(e,t)}Sr(e,t){const r=Js(e);let i,a=Qn.ce;return r.ee({index:mw},([l,u],{path:p,sequenceNumber:f})=>{l===0?(a!==Qn.ce&&t(new ce(bi(i)),a),a=f,i=p):a=Qn.ce}).next(()=>{a!==Qn.ce&&t(new ce(bi(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function yp(n,e){return Js(n).put(function(r,i){return{targetId:0,path:En(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.changes=new fs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?U.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ea(e).put(r)}removeEntry(e,t,r){return ea(e).delete(function(a,l){const u=a.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],sf(l),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Dr(e,r)))}getEntry(e,t){let r=pt.newInvalidDocument(t);return ea(e).ee({index:Dp,range:IDBKeyRange.only(Au(t))},(i,a)=>{r=this.Cr(t,a)}).next(()=>r)}vr(e,t){let r={size:0,document:pt.newInvalidDocument(t)};return ea(e).ee({index:Dp,range:IDBKeyRange.only(Au(t))},(i,a)=>{r={document:this.Cr(t,a),size:af(a)}}).next(()=>r)}getEntries(e,t){let r=Jn();return this.Fr(e,t,(i,a)=>{const l=this.Cr(i,a);r=r.insert(i,l)}).next(()=>r)}Mr(e,t){let r=Jn(),i=new ut(ce.comparator);return this.Fr(e,t,(a,l)=>{const u=this.Cr(a,l);r=r.insert(a,u),i=i.insert(a,af(l))}).next(()=>({documents:r,Or:i}))}Fr(e,t,r){if(t.isEmpty())return U.resolve();let i=new it(FI);t.forEach(p=>i=i.add(p));const a=IDBKeyRange.bound(Au(i.first()),Au(i.last())),l=i.getIterator();let u=l.getNext();return ea(e).ee({index:Dp,range:a},(p,f,v)=>{const _=ce.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;u&&FI(u,_)<0;)r(u,null),u=l.getNext();u&&u.isEqual(_)&&(r(u,f),u=l.hasNext()?l.getNext():null),u?v.j(Au(u)):v.done()}).next(()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,a){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),sf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],p=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ea(e).J(IDBKeyRange.bound(u,p,!0)).next(f=>{a?.incrementDocumentReadCount(f.length);let v=Jn();for(const _ of f){const I=this.Cr(ce.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);I.isFoundDocument()&&(zd(t,I)||i.has(I.key))&&(v=v.insert(I.key,I))}return v})}getAllFromCollectionGroup(e,t,r,i){let a=Jn();const l=LI(t,r),u=LI(t,hr.max());return ea(e).ee({index:ZT,range:IDBKeyRange.bound(l,u,!0)},(p,f,v)=>{const _=this.Cr(ce.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);a=a.insert(_.key,_),a.size===i&&v.done()}).next(()=>a)}newChangeBuffer(e){return new zV(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return MI(e).get(By).next(t=>(Ie(!!t,20021),t))}Dr(e,t){return MI(e).put(By,t)}Cr(e,t){if(t){const r=EV(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Te.min())))return r}return pt.newInvalidDocument(e)}}function fk(n){return new jV(n)}class zV extends pk{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new fs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new it((a,l)=>Re(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const u=this.Br.get(a);if(t.push(this.Nr.removeEntry(e,a,u.readTime)),l.isValidDocument()){const p=wI(this.Nr.serializer,l);i=i.add(a.path.popLast());const f=af(p);r+=f-u.size,t.push(this.Nr.addEntry(e,a,p))}else if(r-=u.size,this.trackRemovals){const p=wI(this.Nr.serializer,l.convertToNoDocument(Te.min()));t.push(this.Nr.addEntry(e,a,p))}}),i.forEach(a=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Nr.updateMetadata(e,r)),U.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next(r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next(({documents:r,Or:i})=>(i.forEach((a,l)=>{this.Br.set(a,{size:l,readTime:r.get(a).readTime})}),r))}}function MI(n){return Qt(n,pd)}function ea(n){return Qt(n,Zp)}function Au(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function LI(n,e){const t=e.documentKey.path.toArray();return[n,sf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function FI(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Re(t[a],r[a]),i)return i;return i=Re(t.length,r.length),i||(i=Re(t[t.length-2],r[r.length-2]),i||Re(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Xu(r.mutation,i,Yn.empty(),et.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ve()){const i=Ei();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=Mu();return a.forEach((u,p)=>{l=l.insert(u,p.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Ei();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ve()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let a=Jn();const l=Ju(),u=function(){return Ju()}();return t.forEach((p,f)=>{const v=r.get(f.key);i.has(f.key)&&(v===void 0||v.mutation instanceof ms)?a=a.insert(f.key,f):v!==void 0?(l.set(f.key,v.mutation.getFieldMask()),Xu(v.mutation,f,v.mutation.getFieldMask(),et.now())):l.set(f.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((f,v)=>l.set(f,v)),t.forEach((f,v)=>u.set(f,new UV(v,l.get(f)??null))),u))}recalculateAndSaveOverlays(e,t){const r=Ju();let i=new ut((l,u)=>l-u),a=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(p=>{const f=t.get(p);if(f===null)return;let v=r.get(p)||Yn.empty();v=u.applyToLocalView(f,v),r.set(p,v);const _=(i.get(u.batchId)||Ve()).add(p);i=i.insert(u.batchId,_)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const p=u.getNext(),f=p.key,v=p.value,_=R2();v.forEach(I=>{if(!a.has(I)){const P=F2(t.get(I),r.get(I));P!==null&&_.set(I,P),a=a.add(I)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,_))}return U.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return ce.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Iw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):U.resolve(Ei());let u=nc,p=a;return l.next(f=>U.forEach(f,(v,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),a.get(v)?U.resolve():this.remoteDocumentCache.getEntry(e,v).next(I=>{p=p.insert(v,I)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,p,f,Ve())).next(v=>({batchId:u,changes:C2(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next(r=>{let i=Mu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=Mu();return this.indexManager.getCollectionParents(e,a).next(u=>U.forEach(u,p=>{const f=function(_,I){return new ps(I,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(v=>{v.forEach((_,I)=>{l=l.insert(_,I)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((p,f)=>{const v=f.getKey();l.get(v)===null&&(l=l.insert(v,pt.newInvalidDocument(v)))});let u=Mu();return l.forEach((p,f)=>{const v=a.get(p);v!==void 0&&Xu(v.mutation,f,Yn.empty(),et.now()),zd(t,f)&&(u=u.insert(p,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return U.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Lt(i.createTime)}}(t)),U.resolve()}getNamedQuery(e,t){return U.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(i){return{name:i.name,query:Rw(i.bundledQuery),readTime:Lt(i.readTime)}}(t)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(){this.overlays=new ut(ce.comparator),this.qr=new Map}getOverlay(e,t){return U.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ei();return U.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.St(e,t,a)}),U.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,t,r){const i=Ei(),a=t.length+1,l=new ce(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const p=u.getNext().value,f=p.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&p.largestBatchId>r&&i.set(p.getKey(),p)}return U.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new ut((f,v)=>f-v);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let v=a.get(f.largestBatchId);v===null&&(v=Ei(),a=a.insert(f.largestBatchId,v)),v.set(f.getKey(),f)}}const u=Ei(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((f,v)=>u.set(f,v)),!(u.size()>=i)););return U.resolve(u)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Sw(t,r));let a=this.qr.get(t);a===void 0&&(a=Ve(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.Qr=new it(en.$r),this.Ur=new it(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new en(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new en(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new ce(new Ue([])),r=new en(t,e),i=new en(t,e+1),a=[];return this.Ur.forEachInRange([r,i],l=>{this.Gr(l),a.push(l.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ce(new Ue([])),r=new en(t,e),i=new en(t,e+1);let a=Ve();return this.Ur.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new en(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ce.comparator(e.key,t.key)||Re(e.Yr,t.Yr)}static Kr(e,t){return Re(e.Yr,t.Yr)||ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new it(en.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new kw(a,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new en(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return U.resolve(l)}lookupMutationBatch(e,t){return U.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),a=i<0?0:i;return U.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?oo:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new en(t,0),i=new en(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],l=>{const u=this.Xr(l.Yr);a.push(u)}),U.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new it(Re);return t.forEach(i=>{const a=new en(i,0),l=new en(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],u=>{r=r.add(u.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;ce.isDocumentKey(a)||(a=a.child(""));const l=new en(new ce(a),0);let u=new it(Re);return this.Zr.forEachWhile(p=>{const f=p.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(p.Yr)),!0)},l),U.resolve(this.ti(u))}ti(e){const t=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ie(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(t.mutations,i=>{const a=new en(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new en(t,0),i=this.Zr.firstAfterOrEqual(r);return U.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.ri=e,this.docs=function(){return new ut(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return U.resolve(r?r.document.mutableCopy():pt.newInvalidDocument(t))}getEntries(e,t){let r=Jn();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():pt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Jn();const l=t.path,u=new ce(l.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(u);for(;p.hasNext();){const{key:f,value:{document:v}}=p.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||pw(GT(v),r)<=0||(i.has(v.key)||zd(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return U.resolve(a)}getAllFromCollectionGroup(e,t,r,i){fe(9500)}ii(e,t){return U.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new GV(this)}getSize(e){return U.resolve(this.size)}}class GV extends pk{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),U.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.persistence=e,this.si=new fs(t=>ka(t),Fd),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Ow,this.targetCount=0,this.ai=Ra.ur()}forEachTarget(e,t){return this.si.forEach((r,i)=>t(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),U.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ra(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,U.resolve()}updateTargetData(e,t){return this.Pr(t),U.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.si.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),U.waitFor(a).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return U.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),U.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),U.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),U.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return U.resolve(r)}containsKey(e,t){return U.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,t){this.ui={},this.overlays={},this.ci=new Qn(0),this.li=!1,this.li=!0,this.hi=new HV,this.referenceDelegate=e(this),this.Pi=new KV(this),this.indexManager=new DV,this.remoteDocumentCache=function(i){return new WV(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new rk(t),this.Ii=new BV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new $V(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){te("MemoryPersistence","Starting transaction:",e);const i=new QV(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,t){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class QV extends QT{constructor(e){super(),this.currentSequenceNumber=e}}class Yf{constructor(e){this.persistence=e,this.Ri=new Ow,this.Vi=null}static mi(e){return new Yf(e)}get fi(){if(this.Vi)return this.Vi;throw fe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),U.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),U.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const i=ce.fromPath(r);return this.gi(e,i).next(a=>{a||t.removeEntry(i,Te.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return U.or([()=>U.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class lf{constructor(e,t){this.persistence=e,this.pi=new fs(r=>En(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=hk(this,t)}static mi(e,t){return new lf(e,t)}Ei(){}di(e){return U.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return U.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?U.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,l=>this.br(e,l,t).next(u=>{u||(r++,a.removeEntry(l,Te.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),U.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),U.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Op(e.data.value)),t}br(e,t,r){return U.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.serializer=e}k(e,t,r,i){const a=new jf("createOrUpgrade",t);r<1&&i>=1&&(function(p){p.createObjectStore(Ld)}(e),function(p){p.createObjectStore(hd,{keyPath:hO}),p.createObjectStore(Yr,{keyPath:Q1,autoIncrement:!0}).createIndex(pa,Y1,{unique:!0}),p.createObjectStore(rc)}(e),jI(e),function(p){p.createObjectStore(ia)}(e));let l=U.resolve();return r<3&&i>=3&&(r!==0&&(function(p){p.deleteObjectStore(sc),p.deleteObjectStore(ic),p.deleteObjectStore(wa)}(e),jI(e)),l=l.next(()=>function(p){const f=p.store(wa),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Te.min().toTimestamp(),targetCount:0};return f.put(ef,v)}(a))),r<4&&i>=4&&(r!==0&&(l=l.next(()=>function(p,f){return f.store(Yr).J().next(_=>{p.deleteObjectStore(Yr),p.createObjectStore(Yr,{keyPath:Q1,autoIncrement:!0}).createIndex(pa,Y1,{unique:!0});const I=f.store(Yr),P=_.map(O=>I.put(O));return U.waitFor(P)})}(e,a))),l=l.next(()=>{(function(p){p.createObjectStore(oc,{keyPath:xO})})(e)})),r<5&&i>=5&&(l=l.next(()=>this.yi(a))),r<6&&i>=6&&(l=l.next(()=>(function(p){p.createObjectStore(pd)}(e),this.wi(a)))),r<7&&i>=7&&(l=l.next(()=>this.Si(a))),r<8&&i>=8&&(l=l.next(()=>this.bi(e,a))),r<9&&i>=9&&(l=l.next(()=>{(function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(l=l.next(()=>this.Di(a))),r<11&&i>=11&&(l=l.next(()=>{(function(p){p.createObjectStore(zf,{keyPath:IO})})(e),function(p){p.createObjectStore(Uf,{keyPath:bO})}(e)})),r<12&&i>=12&&(l=l.next(()=>{(function(p){const f=p.createObjectStore(Bf,{keyPath:CO});f.createIndex(Hy,RO,{unique:!1}),f.createIndex(r2,DO,{unique:!1})})(e)})),r<13&&i>=13&&(l=l.next(()=>function(p){const f=p.createObjectStore(Zp,{keyPath:fO});f.createIndex(Dp,mO),f.createIndex(ZT,gO)}(e)).next(()=>this.Ci(e,a)).next(()=>e.deleteObjectStore(ia))),r<14&&i>=14&&(l=l.next(()=>this.Fi(e,a))),r<15&&i>=15&&(l=l.next(()=>function(p){p.createObjectStore(gw,{keyPath:EO,autoIncrement:!0}).createIndex(qy,TO,{unique:!1}),p.createObjectStore(Ku,{keyPath:kO}).createIndex(t2,PO,{unique:!1}),p.createObjectStore(Qu,{keyPath:SO}).createIndex(n2,AO,{unique:!1})}(e))),r<16&&i>=16&&(l=l.next(()=>{t.objectStore(Ku).clear()}).next(()=>{t.objectStore(Qu).clear()})),r<17&&i>=17&&(l=l.next(()=>{(function(p){p.createObjectStore(yw,{keyPath:NO})})(e)})),r<18&&i>=18&&_E()&&(l=l.next(()=>{t.objectStore(Ku).clear()}).next(()=>{t.objectStore(Qu).clear()})),l}wi(e){let t=0;return e.store(ia).ee((r,i)=>{t+=af(i)}).next(()=>{const r={byteSize:t};return e.store(pd).put(By,r)})}yi(e){const t=e.store(hd),r=e.store(Yr);return t.J().next(i=>U.forEach(i,a=>{const l=IDBKeyRange.bound([a.userId,oo],[a.userId,a.lastAcknowledgedBatchId]);return r.J(pa,l).next(u=>U.forEach(u,p=>{Ie(p.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:p.batchId});const f=oa(this.serializer,p);return lk(e,a.userId,f).next(()=>{})}))}))}Si(e){const t=e.store(sc),r=e.store(ia);return e.store(wa).get(ef).next(i=>{const a=[];return r.ee((l,u)=>{const p=new Ue(l),f=function(_){return[0,En(_)]}(p);a.push(t.get(f).next(v=>v?U.resolve():(_=>t.put({targetId:0,path:En(_),sequenceNumber:i.highestListenSequenceNumber}))(p)))}).next(()=>U.waitFor(a))})}bi(e,t){e.createObjectStore(fd,{keyPath:_O});const r=t.store(fd),i=new Nw,a=l=>{if(i.add(l)){const u=l.lastSegment(),p=l.popLast();return r.put({collectionId:u,parent:En(p)})}};return t.store(ia).ee({X:!0},(l,u)=>{const p=new Ue(l);return a(p.popLast())}).next(()=>t.store(rc).ee({X:!0},([l,u,p],f)=>{const v=bi(u);return a(v.popLast())}))}Di(e){const t=e.store(ic);return t.ee((r,i)=>{const a=Fu(i),l=ik(this.serializer,a);return t.put(l)})}Ci(e,t){const r=t.store(ia),i=[];return r.ee((a,l)=>{const u=t.store(Zp),p=function(_){return _.document?new ce(Ue.fromString(_.document.name).popFirst(5)):_.noDocument?ce.fromSegments(_.noDocument.path):_.unknownDocument?ce.fromSegments(_.unknownDocument.path):fe(36783)}(l).path.toArray(),f={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(u.put(f))}).next(()=>U.waitFor(i))}Fi(e,t){const r=t.store(Yr),i=fk(this.serializer),a=new Vw(Yf.mi,this.serializer.yt);return r.J().next(l=>{const u=new Map;return l.forEach(p=>{let f=u.get(p.userId)??Ve();oa(this.serializer,p).keys().forEach(v=>f=f.add(v)),u.set(p.userId,f)}),U.forEach(u,(p,f)=>{const v=new tn(f),_=Kf.wt(this.serializer,v),I=a.getIndexManager(v),P=Qf.wt(v,this.serializer,I,a.referenceDelegate);return new mk(i,P,_,I).recalculateAndSaveOverlaysForDocumentKeys(new $y(t,Qn.ce),p).next()})})}}function jI(n){n.createObjectStore(sc,{keyPath:vO}).createIndex(mw,wO,{unique:!0}),n.createObjectStore(ic,{keyPath:"targetId"}).createIndex(e2,yO,{unique:!0}),n.createObjectStore(wa)}const Ks="IndexedDbPersistence",ay=18e5,ly=5e3,cy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gk="main";class Mw{constructor(e,t,r,i,a,l,u,p,f,v,_=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=a,this.window=l,this.document=u,this.xi=f,this.Oi=v,this.Ni=_,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=I=>Promise.resolve(),!Mw.v())throw new Z(W.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new FV(this,i),this.$i=t+gk,this.serializer=new rk(p),this.Ui=new Ti(this.$i,this.Ni,new YV(this.serializer)),this.hi=new kV,this.Pi=new OV(this.referenceDelegate,this.serializer),this.remoteDocumentCache=fk(this.serializer),this.Ii=new TV,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,v===!1&&Vt(Ks,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Z(W.FAILED_PRECONDITION,cy);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new Qn(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>vp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(t=>this.isPrimary&&!t?this.Zi(e).next(()=>!1):!!t&&this.Xi(e).next(()=>!0))).catch(e=>{if(Eo(e))return te(Ks,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return te(Ks,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return Cu(e).get(Cl).next(t=>U.resolve(this.es(t)))}ts(e){return vp(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,ay)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=Qt(t,oc);return r.J().next(i=>{const a=this.ss(i,ay),l=i.filter(u=>a.indexOf(u)===-1);return U.forEach(l,u=>r.delete(u.clientId)).next(()=>l)})}).catch(()=>[]);if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?U.resolve(!0):Cu(e).get(Cl).next(t=>{if(t!==null&&this.rs(t.leaseTimestampMs,ly)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new Z(W.FAILED_PRECONDITION,cy);return!1}}return!(!this.networkEnabled||!this.inForeground)||vp(e).J().next(r=>this.ss(r,ly).find(i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(a||l&&u)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&te(Ks,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Ld,oc],e=>{const t=new $y(e,Qn.ce);return this.Zi(t).next(()=>this.ts(t))}),this.Ui.close(),this.Ps()}ss(e,t){return e.filter(r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>vp(e).J().next(t=>this.ss(t,ay).map(r=>r.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return Qf.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new NV(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Kf.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){te(Ks,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",a=function(p){return p===18?MO:p===17?a2:p===16?VO:p===15?vw:p===14?o2:p===13?s2:p===12?OO:p===11?i2:void fe(60245)}(this.Ni);let l;return this.Ui.runTransaction(e,i,a,u=>(l=new $y(u,this.ci?this.ci.next():Qn.ce),t==="readwrite-primary"?this.Hi(l).next(p=>!!p||this.Yi(l)).next(p=>{if(!p)throw Vt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new Z(W.FAILED_PRECONDITION,KT);return r(l)}).next(p=>this.Xi(l).next(()=>p)):this.Is(l).next(()=>r(l)))).then(u=>(l.raiseOnCommittedEvent(),u))}Is(e){return Cu(e).get(Cl).next(t=>{if(t!==null&&this.rs(t.leaseTimestampMs,ly)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Z(W.FAILED_PRECONDITION,cy)})}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cu(e).put(Cl,t)}static v(){return Ti.v()}Zi(e){const t=Cu(e);return t.get(Cl).next(r=>this.es(r)?(te(Ks,"Releasing primary lease."),t.delete(Cl)):U.resolve())}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Vt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;wE()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return te(Ks,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return Vt(Ks,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Vt("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Cu(n){return Qt(n,Ld)}function vp(n){return Qt(n,oc)}function Lw(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=Ve(),i=Ve();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Fw(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return wE()?8:YT(kt())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ys(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ws(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new JV;return this.Ss(e,t,l).next(u=>{if(a.result=u,this.Vs)return this.bs(e,t,l,u.size)})}).next(()=>a.result)}bs(e,t,r,i){return r.documentReadCount<this.fs?(Fl()<=ze.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",jl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(Fl()<=ze.DEBUG&&te("QueryEngine","Query:",jl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Fl()<=ze.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",jl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(t))):U.resolve())}ys(e,t){if(cI(t))return U.resolve(null);let r=Mn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=rf(t,null,"F"),r=Mn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Ve(...a);return this.ps.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(p=>{const f=this.Ds(t,u);return this.Cs(t,f,l,p.readTime)?this.ys(e,rf(t,null,"F")):this.vs(e,f,t,p)}))})))}ws(e,t,r,i){return cI(t)||i.isEqual(Te.min())?U.resolve(null):this.ps.getDocuments(e,r).next(a=>{const l=this.Ds(t,a);return this.Cs(t,l,r,i)?U.resolve(null):(Fl()<=ze.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jl(t)),this.vs(e,l,t,WT(i,nc)).next(u=>u))})}Ds(e,t){let r=new it(S2(e));return t.forEach((i,a)=>{zd(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return Fl()<=ze.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",jl(t)),this.ps.getDocumentsMatchingQuery(e,t,hr.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="LocalStore",XV=3e8;class ZV{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new ut(Re),this.xs=new fs(a=>ka(a),Fd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function vk(n,e,t,r){return new ZV(n,e,t,r)}async function wk(n,e){const t=he(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],u=[];let p=Ve();for(const f of i){l.push(f.batchId);for(const v of f.mutations)p=p.add(v.key)}for(const f of a){u.push(f.batchId);for(const v of f.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(r,p).next(f=>({Ls:f,removedBatchIds:l,addedBatchIds:u}))})})}function eM(n,e){const t=he(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return function(u,p,f,v){const _=f.batch,I=_.keys();let P=U.resolve();return I.forEach(O=>{P=P.next(()=>v.getEntry(p,O)).next(z=>{const C=f.docVersions.get(O);Ie(C!==null,48541),z.version.compareTo(C)<0&&(_.applyToRemoteDocument(z,f),z.isValidDocument()&&(z.setReadTime(f.commitVersion),v.addEntry(z)))})}),P.next(()=>u.mutationQueue.removeMutationBatch(p,_))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let p=Ve();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(p=p.add(u.batch.mutations[f].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function _k(n){const e=he(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function tM(n,e){const t=he(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const u=[];e.targetChanges.forEach((v,_)=>{const I=i.get(_);if(!I)return;u.push(t.Pi.removeMatchingKeys(a,v.removedDocuments,_).next(()=>t.Pi.addMatchingKeys(a,v.addedDocuments,_)));let P=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?P=P.withResumeToken(Ct.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):v.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(v.resumeToken,r)),i=i.insert(_,P),function(z,C,K){return z.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=XV?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(I,P,v)&&u.push(t.Pi.updateTargetData(a,P))});let p=Jn(),f=Ve();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),u.push(xk(a,l,e.documentUpdates).next(v=>{p=v.ks,f=v.qs})),!r.isEqual(Te.min())){const v=t.Pi.getLastRemoteSnapshotVersion(a).next(_=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(v)}return U.waitFor(u).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,f)).next(()=>p)}).then(a=>(t.Ms=i,a))}function xk(n,e,t){let r=Ve(),i=Ve();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Jn();return t.forEach((u,p)=>{const f=a.get(u);p.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(u,p.readTime),l=l.insert(u,p)):!f.isValidDocument()||p.version.compareTo(f.version)>0||p.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(p),l=l.insert(u,p)):te(jw,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",p.version)}),{ks:l,qs:i}})}function nM(n,e){const t=he(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=oo),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pc(n,e){const t=he(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Pi.getTargetData(r,e).next(a=>a?(i=a,U.resolve(i)):t.Pi.allocateTargetId(r).next(l=>(i=new ts(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function fc(n,e,t){const r=he(n),i=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Eo(l))throw l;te(jw,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function cf(n,e,t){const r=he(n);let i=Te.min(),a=Ve();return r.persistence.runTransaction("Execute query","readwrite",l=>function(p,f,v){const _=he(p),I=_.xs.get(v);return I!==void 0?U.resolve(_.Ms.get(I)):_.Pi.getTargetData(f,v)}(r,l,Mn(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next(p=>{a=p})}).next(()=>r.Fs.getDocumentsMatchingQuery(l,e,t?i:Te.min(),t?a:Ve())).next(u=>(Ek(r,P2(e),u),{documents:u,Qs:a})))}function Ik(n,e){const t=he(n),r=he(t.Pi),i=t.Ms.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.At(a,e).next(l=>l?l.target:null))}function bk(n,e){const t=he(n),r=t.Os.get(e)||Te.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Ns.getAllFromCollectionGroup(i,e,WT(r,nc),Number.MAX_SAFE_INTEGER)).then(i=>(Ek(t,e,i),i))}function Ek(n,e,t){let r=n.Os.get(e)||Te.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Os.set(e,r)}async function rM(n,e,t,r){const i=he(n);let a=Ve(),l=Jn();for(const f of t){const v=e.$s(f.metadata.name);f.document&&(a=a.add(v));const _=e.Us(f);_.setReadTime(e.Ks(f.metadata.readTime)),l=l.insert(v,_)}const u=i.Ns.newChangeBuffer({trackRemovals:!0}),p=await pc(i,function(v){return Mn(Ac(Ue.fromString(`__bundle__/docs/${v}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",f=>xk(f,u,l).next(v=>(u.apply(f),v)).next(v=>i.Pi.removeMatchingKeysForTargetId(f,p.targetId).next(()=>i.Pi.addMatchingKeys(f,a,p.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,v.ks,v.qs)).next(()=>v.ks)))}async function iM(n,e,t=Ve()){const r=await pc(n,Mn(Rw(e.bundledQuery))),i=he(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const l=Lt(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ii.saveNamedQuery(a,e);const u=r.withResumeToken(Ct.EMPTY_BYTE_STRING,l);return i.Ms=i.Ms.insert(u.targetId,u),i.Pi.updateTargetData(a,u).next(()=>i.Pi.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Pi.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ii.saveNamedQuery(a,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="firestore_clients";function zI(n,e){return`${Tk}_${n}_${e}`}const kk="firestore_mutations";function UI(n,e,t){let r=`${kk}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const Pk="firestore_targets";function uy(n,e){return`${Pk}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi="SharedClientState";class uf{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ws(e,t,r){const i=JSON.parse(r);let a,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(a=new Z(i.error.code,i.error.message))),l?new uf(e,t,i.state,a):(Vt(gi,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zu{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ws(e,t){const r=JSON.parse(t);let i,a=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return a&&r.error&&(a=typeof r.error.message=="string"&&typeof r.error.code=="string",a&&(i=new Z(r.error.code,r.error.message))),a?new Zu(e,r.state,i):(Vt(gi,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class df{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,a=bw();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=JT(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return i?new df(e,a):(Vt(gi,`Failed to parse client data for instance '${e}': ${t}`),null)}}class zw{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new zw(t.clientId,t.onlineState):(Vt(gi,`Failed to parse online state: ${e}`),null)}}class ov{constructor(){this.activeTargetIds=bw()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dy{constructor(e,t,r,i,a){this.window=e,this.Mi=t,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new ut(Re),this.started=!1,this.Xs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.eo=zI(this.persistenceKey,this.Js),this.no=function(p){return`firestore_sequence_number_${p}`}(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new ov),this.ro=new RegExp(`^${Tk}_${l}_([^_]*)$`),this.io=new RegExp(`^${kk}_${l}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${Pk}_${l}_(\\d+)$`),this.oo=function(p){return`firestore_online_state_${p}`}(this.persistenceKey),this._o=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(zI(this.persistenceKey,r));if(i){const a=df.Ws(r,i);a&&(this.Zs=this.Zs.insert(a.clientId,a))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const r=this.uo(t);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,r){this.ho(e,t,r),this.Po(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(uy(this.persistenceKey,e));if(i){const a=Zu.Ws(e,i);a&&(r=a.state)}}return t&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(uy(this.persistenceKey,e))}updateQueryState(e,t,r){this.Io(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Po(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return te(gi,"READ",e,t),t}setItem(e,t){te(gi,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){te(gi,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(te(gi,"EVENT",t.key,t.newValue),t.key===this.eo)return void Vt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const r=this.Ro(t.key);return this.Vo(r,null)}{const r=this.mo(t.key,t.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.yo(t.key,t.newValue);if(r)return this.wo(r)}}else if(t.key===this.oo){if(t.newValue!==null){const r=this.uo(t.newValue);if(r)return this.co(r)}}else if(t.key===this.no){const r=function(a){let l=Qn.ce;if(a!=null)try{const u=JSON.parse(a);Ie(typeof u=="number",30636,{So:a}),l=u}catch(u){Vt(gi,"Failed to read sequence number from WebStorage",u)}return l}(t.newValue);r!==Qn.ce&&this.sequenceNumberHandler(r)}else if(t.key===this._o){const r=this.bo(t.newValue);await Promise.all(r.map(i=>this.syncEngine.Do(i)))}}}else this.Xs.push(t)})}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,r){const i=new uf(this.currentUser,e,t,r),a=UI(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Gs())}Po(e){const t=UI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,r){const i=uy(this.persistenceKey,e),a=new Zu(e,t,r);this.setItem(i,a.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const r=this.Ro(e);return df.Ws(r,t)}fo(e,t){const r=this.io.exec(e),i=Number(r[1]),a=r[2]!==void 0?r[2]:null;return uf.Ws(new tn(a),i,t)}yo(e,t){const r=this.so.exec(e),i=Number(r[1]);return Zu.Ws(i,t)}uo(e){return zw.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);te(gi,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const r=t?this.Zs.insert(e,t):this.Zs.remove(e),i=this.lo(this.Zs),a=this.lo(r),l=[],u=[];return a.forEach(p=>{i.has(p)||l.push(p)}),i.forEach(p=>{a.has(p)||u.push(p)}),this.syncEngine.Fo(l,u).then(()=>{this.Zs=r})}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=bw();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Sk{constructor(){this.Mo=new ov,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ov,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="ConnectivityMonitor";class qI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){te(BI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){te(BI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wp=null;function av(){return wp===null?wp=function(){return 268435456+Math.round(2147483648*Math.random())}():wp++,"0x"+wp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="RestConnection",oM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Wy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,a){const l=av(),u=this.zo(e,t.toUriEncodedString());te(hy,`Sending RPC '${e}' ${l}:`,u,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,i,a);const{host:f}=new URL(u),v=xo(f);return this.Jo(e,u,p,r,v).then(_=>(te(hy,`Received RPC '${e}' ${l}: `,_),_),_=>{throw Ci(hy,`RPC '${e}' ${l} failed with error: `,_,"url: ",u,"request:",r),_})}Ho(e,t,r,i,a,l){return this.Go(e,t,r,i,a)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,t){const r=oM[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class cM extends aM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const l=av();return new Promise((u,p)=>{const f=new VT;f.setWithCredentials(!0),f.listenOnce(MT.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Ap.NO_ERROR:const _=f.getResponseJson();te(_n,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),u(_);break;case Ap.TIMEOUT:te(_n,`RPC '${e}' ${l} timed out`),p(new Z(W.DEADLINE_EXCEEDED,"Request time out"));break;case Ap.HTTP_ERROR:const I=f.getStatus();if(te(_n,`RPC '${e}' ${l} failed with status:`,I,"response text:",f.getResponseText()),I>0){let P=f.getResponseJson();Array.isArray(P)&&(P=P[0]);const O=P?.error;if(O&&O.status&&O.message){const z=function(K){const J=K.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(J)>=0?J:W.UNKNOWN}(O.status);p(new Z(z,O.message))}else p(new Z(W.UNKNOWN,"Server responded with status "+f.getStatus()))}else p(new Z(W.UNAVAILABLE,"Connection failed."));break;default:fe(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{te(_n,`RPC '${e}' ${l} completed.`)}});const v=JSON.stringify(i);te(_n,`RPC '${e}' ${l} sending request:`,i),f.send(t,"POST",v,r,15)})}T_(e,t,r){const i=av(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=jT(),u=FT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(p.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const v=a.join("");te(_n,`Creating RPC '${e}' stream ${i}: ${v}`,p);const _=l.createWebChannel(v,p);this.I_(_);let I=!1,P=!1;const O=new lM({Yo:C=>{P?te(_n,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(I||(te(_n,`Opening RPC '${e}' stream ${i} transport.`),_.open(),I=!0),te(_n,`RPC '${e}' stream ${i} sending:`,C),_.send(C))},Zo:()=>_.close()}),z=(C,K,J)=>{C.listen(K,Q=>{try{J(Q)}catch(se){setTimeout(()=>{throw se},0)}})};return z(_,Vu.EventType.OPEN,()=>{P||(te(_n,`RPC '${e}' stream ${i} transport opened.`),O.o_())}),z(_,Vu.EventType.CLOSE,()=>{P||(P=!0,te(_n,`RPC '${e}' stream ${i} transport closed`),O.a_(),this.E_(_))}),z(_,Vu.EventType.ERROR,C=>{P||(P=!0,Ci(_n,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),O.a_(new Z(W.UNAVAILABLE,"The operation could not be completed")))}),z(_,Vu.EventType.MESSAGE,C=>{if(!P){const K=C.data[0];Ie(!!K,16349);const J=K,Q=J?.error||J[0]?.error;if(Q){te(_n,`RPC '${e}' stream ${i} received error:`,Q);const se=Q.status;let ve=function(T){const A=Bt[T];if(A!==void 0)return U2(A)}(se),_e=Q.message;ve===void 0&&(ve=W.INTERNAL,_e="Unknown error status: "+se+" with message "+Q.message),P=!0,O.a_(new Z(ve,_e)),_.close()}else te(_n,`RPC '${e}' stream ${i} received:`,K),O.u_(K)}}),z(u,LT.STAT_EVENT,C=>{C.stat===jy.PROXY?te(_n,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===jy.NOPROXY&&te(_n,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{O.__()},0),O}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(){return typeof window<"u"?window:null}function jp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(n){return new fV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="PersistentStream";class Ck{constructor(e,t,r,i,a,l,u,p){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Uw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(Vt(t.toString()),Vt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{const i=new Z(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return te(HI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(te(HI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uM extends Ck{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=yV(this.serializer,e),r=function(a){if(!("targetChange"in a))return Te.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Te.min():l.readTime?Lt(l.readTime):Te.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=tv(this.serializer),t.addTarget=function(a,l){let u;const p=l.target;if(u=tf(p)?{documents:J2(a,p)}:{query:X2(a,p).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=$2(a,l.resumeToken);const f=Zy(a,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Te.min())>0){u.readTime=hc(a,l.snapshotVersion.toTimestamp());const f=Zy(a,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=wV(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=tv(this.serializer),t.removeTarget=e,this.q_(t)}}class dM extends Ck{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=vV(e.writeResults,e.commitTime),r=Lt(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=tv(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>_d(this.serializer,r))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{}class pM extends hM{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Z(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Go(e,ev(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Z(W.UNKNOWN,a.toString())})}Ho(e,t,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Ho(e,ev(t,r),i,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Z(W.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class fM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vt(t),this.aa=!1):te("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class mM{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(l=>{r.enqueueAndForget(async()=>{ko(this)&&(te(Da,"Restarting streams for network reachability change."),await async function(p){const f=he(p);f.Ea.add(4),await Dc(f),f.Ra.set("Unknown"),f.Ea.delete(4),await $d(f)}(this))})}),this.Ra=new fM(r,i)}}async function $d(n){if(ko(n))for(const e of n.da)await e(!0)}async function Dc(n){for(const e of n.da)await e(!1)}function Jf(n,e){const t=he(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Hw(t)?qw(t):Oc(t).O_()&&Bw(t,e))}function mc(n,e){const t=he(n),r=Oc(t);t.Ia.delete(e),r.O_()&&Rk(t,e),t.Ia.size===0&&(r.O_()?r.L_():ko(t)&&t.Ra.set("Unknown"))}function Bw(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Oc(n).Y_(e)}function Rk(n,e){n.Va.Ue(e),Oc(n).Z_(e)}function qw(n){n.Va=new uV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Oc(n).start(),n.Ra.ua()}function Hw(n){return ko(n)&&!Oc(n).x_()&&n.Ia.size>0}function ko(n){return he(n).Ea.size===0}function Dk(n){n.Va=void 0}async function gM(n){n.Ra.set("Online")}async function yM(n){n.Ia.forEach((e,t)=>{Bw(n,e)})}async function vM(n,e){Dk(n),Hw(n)?(n.Ra.ha(e),qw(n)):n.Ra.set("Unknown")}async function wM(n,e,t){if(n.Ra.set("Online"),e instanceof H2&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))}(n,e)}catch(r){te(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hf(n,r)}else if(e instanceof Lp?n.Va.Ze(e):e instanceof q2?n.Va.st(e):n.Va.tt(e),!t.isEqual(Te.min()))try{const r=await _k(n.localStore);t.compareTo(r)>=0&&await function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach((p,f)=>{if(p.resumeToken.approximateByteSize()>0){const v=a.Ia.get(f);v&&a.Ia.set(f,v.withResumeToken(p.resumeToken,l))}}),u.targetMismatches.forEach((p,f)=>{const v=a.Ia.get(p);if(!v)return;a.Ia.set(p,v.withResumeToken(Ct.EMPTY_BYTE_STRING,v.snapshotVersion)),Rk(a,p);const _=new ts(v.target,p,f,v.sequenceNumber);Bw(a,_)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){te(Da,"Failed to raise snapshot:",r),await hf(n,r)}}async function hf(n,e,t){if(!Eo(e))throw e;n.Ea.add(1),await Dc(n),n.Ra.set("Offline"),t||(t=()=>_k(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{te(Da,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await $d(n)})}function Nk(n,e){return e().catch(t=>hf(n,t,e))}async function Nc(n){const e=he(n),t=yo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:oo;for(;_M(e);)try{const i=await nM(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,xM(e,i)}catch(i){await hf(e,i)}Ok(e)&&Vk(e)}function _M(n){return ko(n)&&n.Ta.length<10}function xM(n,e){n.Ta.push(e);const t=yo(n);t.O_()&&t.X_&&t.ea(e.mutations)}function Ok(n){return ko(n)&&!yo(n).x_()&&n.Ta.length>0}function Vk(n){yo(n).start()}async function IM(n){yo(n).ra()}async function bM(n){const e=yo(n);for(const t of n.Ta)e.ea(t.mutations)}async function EM(n,e,t){const r=n.Ta.shift(),i=Pw.from(r,e,t);await Nk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Nc(n)}async function TM(n,e){e&&yo(n).X_&&await async function(r,i){if(function(l){return z2(l)&&l!==W.ABORTED}(i.code)){const a=r.Ta.shift();yo(r).B_(),await Nk(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Nc(r)}}(n,e),Ok(n)&&Vk(n)}async function $I(n,e){const t=he(n);t.asyncQueue.verifyOperationInProgress(),te(Da,"RemoteStore received new credentials");const r=ko(t);t.Ea.add(3),await Dc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await $d(t)}async function lv(n,e){const t=he(n);e?(t.Ea.delete(2),await $d(t)):e||(t.Ea.add(2),await Dc(t),t.Ra.set("Unknown"))}function Oc(n){return n.ma||(n.ma=function(t,r,i){const a=he(t);return a.sa(),new uM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Xo:gM.bind(null,n),t_:yM.bind(null,n),r_:vM.bind(null,n),H_:wM.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),Hw(n)?qw(n):n.Ra.set("Unknown")):(await n.ma.stop(),Dk(n))})),n.ma}function yo(n){return n.fa||(n.fa=function(t,r,i){const a=he(t);return a.sa(),new dM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:IM.bind(null,n),r_:TM.bind(null,n),ta:bM.bind(null,n),na:EM.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await Nc(n)):(await n.fa.stop(),n.Ta.length>0&&(te(Da,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,u=new $w(e,t,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vc(n,e){if(Vt("AsyncQueue",`${e}: ${n}`),Eo(n))return new Z(W.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{static emptySet(e){return new Ql(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ce.comparator(t.key,r.key):(t,r)=>ce.comparator(t.key,r.key),this.keyedMap=Mu(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ql)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ql;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.ga=new ut(ce.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):fe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class gc{constructor(e,t,r,i,a,l,u,p,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=p,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new gc(e,t,Ql.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class PM{constructor(){this.queries=GI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=he(t),a=i.queries;i.queries=GI(),a.forEach((l,u)=>{for(const p of u.Sa)p.onError(r)})})(this,new Z(W.ABORTED,"Firestore shutting down"))}}function GI(){return new fs(n=>k2(n),jd)}async function Ww(n,e){const t=he(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new kM,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Vc(l,`Initialization of query '${jl(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Kw(t)}async function Gw(n,e){const t=he(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function SM(n,e){const t=he(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&Kw(t)}function AM(n,e,t){const r=he(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function Kw(n){n.Ca.forEach(e=>{e.next()})}var cv,KI;(KI=cv||(cv={})).Ma="default",KI.Cache="cache";class Qw{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cv.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,t){this.Qa=e,this.byteLength=t}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.serializer=e}$s(e){return ki(this.serializer,e)}Us(e){return e.metadata.exists?Y2(this.serializer,e.document,!1):pt.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return Lt(e)}}class RM{constructor(e,t){this.Ua=e,this.serializer=t,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=Mk(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++t;const r=Ue.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,r=new QI(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.$s(i.metadata.name);for(const l of i.metadata.queries){const u=(t.get(l)||Ve()).add(a);t.set(l,u)}}return t}async ja(e){const t=await rM(e,new QI(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await iM(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:t}}}function Mk(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.key=e}}class Fk{constructor(e){this.key=e}}class jk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=S2(e),this.tu=new Ql(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new WI,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((v,_)=>{const I=i.get(v),P=zd(this.query,_)?_:null,O=!!I&&this.mutatedKeys.has(I.key),z=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let C=!1;I&&P?I.data.isEqual(P.data)?O!==z&&(r.track({type:3,doc:P}),C=!0):this.su(I,P)||(r.track({type:2,doc:P}),C=!0,(p&&this.eu(P,p)>0||f&&this.eu(P,f)<0)&&(u=!0)):!I&&P?(r.track({type:0,doc:P}),C=!0):I&&!P&&(r.track({type:1,doc:I}),C=!0,(p||f)&&(u=!0)),C&&(P?(l=l.add(P),a=z?a.add(v):a.delete(v)):(l=l.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const v=this.query.limitType==="F"?l.last():l.first();l=l.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort((v,_)=>function(P,O){const z=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe(20277,{Rt:C})}};return z(P)-z(O)}(v.type,_.type)||this.eu(v.doc,_.doc)),this.ou(r),i=i??!1;const u=t&&!i?this._u():[],p=this.Xa.size===0&&this.current&&!i?1:0,f=p!==this.Za;return this.Za=p,l.length!==0||f?{snapshot:new gc(this.query,e.tu,a,l,e.mutatedKeys,p===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new WI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new Fk(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new Lk(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ve();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return gc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Po="SyncEngine";class DM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class NM{constructor(e){this.key=e,this.hu=!1}}class OM{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new fs(u=>k2(u),jd),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ce.comparator),this.Au=new Map,this.Ru=new Ow,this.Vu={},this.mu=new Map,this.fu=Ra.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VM(n,e,t=!0){const r=Xf(n);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await zk(r,e,t,!0),i}async function MM(n,e){const t=Xf(n);await zk(t,e,!0,!1)}async function zk(n,e,t,r){const i=await pc(n.localStore,Mn(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return r&&(u=await Yw(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&Jf(n.remoteStore,i),u}async function Yw(n,e,t,r,i){n.pu=(_,I,P)=>async function(z,C,K,J){let Q=C.view.ru(K);Q.Cs&&(Q=await cf(z.localStore,C.query,!1).then(({documents:R})=>C.view.ru(R,Q)));const se=J&&J.targetChanges.get(C.targetId),ve=J&&J.targetMismatches.get(C.targetId)!=null,_e=C.view.applyChanges(Q,z.isPrimaryClient,se,ve);return uv(z,C.targetId,_e.au),_e.snapshot}(n,_,I,P);const a=await cf(n.localStore,e,!0),l=new jk(e,a.Qs),u=l.ru(a.documents),p=qd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(u,n.isPrimaryClient,p);uv(n,t,f.au);const v=new DM(e,t,l);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function LM(n,e,t){const r=he(n),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(l=>!jd(l,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&mc(r.remoteStore,i.targetId),yc(r,i.targetId)}).catch(bo)):(yc(r,i.targetId),await fc(r.localStore,i.targetId,!0))}async function FM(n,e){const t=he(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),mc(t.remoteStore,r.targetId))}async function jM(n,e,t){const r=e_(n);try{const i=await function(l,u){const p=he(l),f=et.now(),v=u.reduce((P,O)=>P.add(O.key),Ve());let _,I;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let O=Jn(),z=Ve();return p.Ns.getEntries(P,v).next(C=>{O=C,O.forEach((K,J)=>{J.isValidDocument()||(z=z.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,O)).next(C=>{_=C;const K=[];for(const J of u){const Q=aV(J,_.get(J.key).overlayedDocument);Q!=null&&K.push(new ms(J.key,Q,y2(Q.value.mapValue),_t.exists(!0)))}return p.mutationQueue.addMutationBatch(P,f,K,u)}).next(C=>{I=C;const K=C.applyToLocalDocumentSet(_,z);return p.documentOverlayCache.saveOverlays(P,C.batchId,K)})}).then(()=>({batchId:I.batchId,changes:C2(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,p){let f=l.Vu[l.currentUser.toKey()];f||(f=new ut(Re)),f=f.insert(u,p),l.Vu[l.currentUser.toKey()]=f}(r,i.batchId,t),await gs(r,i.changes),await Nc(r.remoteStore)}catch(i){const a=Vc(i,"Failed to persist write");t.reject(a)}}async function Uk(n,e){const t=he(n);try{const r=await tM(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Au.get(a);l&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Ie(l.hu,14607):i.removedDocuments.size>0&&(Ie(l.hu,42227),l.hu=!1))}),await gs(t,r,e)}catch(r){await bo(r)}}function YI(n,e,t){const r=he(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach((a,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const p=he(l);p.onlineState=u;let f=!1;p.queries.forEach((v,_)=>{for(const I of _.Sa)I.va(u)&&(f=!0)}),f&&Kw(p)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zM(n,e,t){const r=he(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new ut(ce.comparator);l=l.insert(a,pt.newNoDocument(a,Te.min()));const u=Ve().add(a),p=new Bd(Te.min(),new Map,new ut(Re),l,u);await Uk(r,p),r.du=r.du.remove(a),r.Au.delete(e),Zw(r)}else await fc(r.localStore,e,!1).then(()=>yc(r,e,t)).catch(bo)}async function UM(n,e){const t=he(n),r=e.batch.batchId;try{const i=await eM(t.localStore,e);Xw(t,r,null),Jw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await gs(t,i)}catch(i){await bo(i)}}async function BM(n,e,t){const r=he(n);try{const i=await function(l,u){const p=he(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let v;return p.mutationQueue.lookupMutationBatch(f,u).next(_=>(Ie(_!==null,37113),v=_.keys(),p.mutationQueue.removeMutationBatch(f,_))).next(()=>p.mutationQueue.performConsistencyCheck(f)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(f,v,u)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,v)).next(()=>p.localDocuments.getDocuments(f,v))})}(r.localStore,e);Xw(r,e,t),Jw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await gs(r,i)}catch(i){await bo(i)}}async function qM(n,e){const t=he(n);ko(t.remoteStore)||te(Po,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(l){const u=he(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>u.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(r===oo)return void e.resolve();const i=t.mu.get(r)||[];i.push(e),t.mu.set(r,i)}catch(r){const i=Vc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Jw(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function Xw(n,e,t){const r=he(n);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function yc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||Bk(n,r)})}function Bk(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(mc(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Zw(n))}function uv(n,e,t){for(const r of t)r instanceof Lk?(n.Ru.addReference(r.key,e),HM(n,r)):r instanceof Fk?(te(Po,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||Bk(n,r.key)):fe(19791,{wu:r})}function HM(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(te(Po,"New document in limbo: "+t),n.Eu.add(r),Zw(n))}function Zw(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ce(Ue.fromString(e)),r=n.fu.next();n.Au.set(r,new NM(t)),n.du=n.du.insert(t,r),Jf(n.remoteStore,new ts(Mn(Ac(t.path)),r,"TargetPurposeLimboResolution",Qn.ce))}}async function gs(n,e,t){const r=he(n),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach((u,p)=>{l.push(r.pu(p,e,t).then(f=>{if((f||t)&&r.isPrimaryClient){const v=f?!f.fromCache:t?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(f){i.push(f);const v=Fw.As(p.targetId,f);a.push(v)}}))}),await Promise.all(l),r.Pu.H_(i),await async function(p,f){const v=he(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>U.forEach(f,I=>U.forEach(I.Es,P=>v.persistence.referenceDelegate.addReference(_,I.targetId,P)).next(()=>U.forEach(I.ds,P=>v.persistence.referenceDelegate.removeReference(_,I.targetId,P)))))}catch(_){if(!Eo(_))throw _;te(jw,"Failed to update sequence numbers: "+_)}for(const _ of f){const I=_.targetId;if(!_.fromCache){const P=v.Ms.get(I),O=P.snapshotVersion,z=P.withLastLimboFreeSnapshotVersion(O);v.Ms=v.Ms.insert(I,z)}}}(r.localStore,a))}async function $M(n,e){const t=he(n);if(!t.currentUser.isEqual(e)){te(Po,"User change. New user:",e.toKey());const r=await wk(t.localStore,e);t.currentUser=e,function(a,l){a.mu.forEach(u=>{u.forEach(p=>{p.reject(new Z(W.CANCELLED,l))})}),a.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gs(t,r.Ls)}}function WM(n,e){const t=he(n),r=t.Au.get(e);if(r&&r.hu)return Ve().add(r.key);{let i=Ve();const a=t.Iu.get(e);if(!a)return i;for(const l of a){const u=t.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}async function GM(n,e){const t=he(n),r=await cf(t.localStore,e.query,!0),i=e.view.cu(r);return t.isPrimaryClient&&uv(t,e.targetId,i.au),i}async function KM(n,e){const t=he(n);return bk(t.localStore,e).then(r=>gs(t,r))}async function QM(n,e,t,r){const i=he(n),a=await function(u,p){const f=he(u),v=he(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",_=>v.er(_,p).next(I=>I?f.localDocuments.getDocuments(_,I):U.resolve(null)))}(i.localStore,e);a!==null?(t==="pending"?await Nc(i.remoteStore):t==="acknowledged"||t==="rejected"?(Xw(i,e,r||null),Jw(i,e),function(u,p){he(he(u).mutationQueue).ir(p)}(i.localStore,e)):fe(6720,"Unknown batchState",{Su:t}),await gs(i,a)):te(Po,"Cannot apply mutation batch with id: "+e)}async function YM(n,e){const t=he(n);if(Xf(t),e_(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await JI(t,r.toArray());t.gu=!0,await lv(t.remoteStore,!0);for(const a of i)Jf(t.remoteStore,a)}else if(e===!1&&t.gu!==!1){const r=[];let i=Promise.resolve();t.Iu.forEach((a,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(yc(t,l),fc(t.localStore,l,!0))),mc(t.remoteStore,l)}),await i,await JI(t,r),function(l){const u=he(l);u.Au.forEach((p,f)=>{mc(u.remoteStore,f)}),u.Ru.Jr(),u.Au=new Map,u.du=new ut(ce.comparator)}(t),t.gu=!1,await lv(t.remoteStore,!1)}}async function JI(n,e,t){const r=he(n),i=[],a=[];for(const l of e){let u;const p=r.Iu.get(l);if(p&&p.length!==0){u=await pc(r.localStore,Mn(p[0]));for(const f of p){const v=r.Tu.get(f),_=await GM(r,v);_.snapshot&&a.push(_.snapshot)}}else{const f=await Ik(r.localStore,l);u=await pc(r.localStore,f),await Yw(r,qk(f),l,!1,u.resumeToken)}i.push(u)}return r.Pu.H_(a),i}function qk(n){return T2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function JM(n){return function(t){return he(he(t).persistence).Ts()}(he(n).localStore)}async function XM(n,e,t,r){const i=he(n);if(i.gu)return void te(Po,"Ignoring unexpected query state notification.");const a=i.Iu.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const l=await bk(i.localStore,P2(a[0])),u=Bd.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Ct.EMPTY_BYTE_STRING);await gs(i,l,u);break}case"rejected":await fc(i.localStore,e,!0),yc(i,e,r);break;default:fe(64155,t)}}async function ZM(n,e,t){const r=Xf(n);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){te(Po,"Adding an already active target "+i);continue}const a=await Ik(r.localStore,i),l=await pc(r.localStore,a);await Yw(r,qk(a),l.targetId,!1,l.resumeToken),Jf(r.remoteStore,l)}for(const i of t)r.Iu.has(i)&&await fc(r.localStore,i,!1).then(()=>{mc(r.remoteStore,i),yc(r,i)}).catch(bo)}}function Xf(n){const e=he(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Uk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zM.bind(null,e),e.Pu.H_=SM.bind(null,e.eventManager),e.Pu.yu=AM.bind(null,e.eventManager),e}function e_(n){const e=he(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BM.bind(null,e),e}function eL(n,e,t){const r=he(n);(async function(a,l,u){try{const p=await l.getMetadata();if(await function(P,O){const z=he(P),C=Lt(O.createTime);return z.persistence.runTransaction("hasNewerBundle","readonly",K=>z.Ii.getBundleMetadata(K,O.id)).then(K=>!!K&&K.createTime.compareTo(C)>=0)}(a.localStore,p))return await l.close(),u._completeWith(function(P){return{taskState:"Success",documentsLoaded:P.totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}}(p)),Promise.resolve(new Set);u._updateProgress(Mk(p));const f=new RM(p,l.serializer);let v=await l.bu();for(;v;){const I=await f.Ga(v);I&&u._updateProgress(I),v=await l.bu()}const _=await f.ja(a.localStore);return await gs(a,_.Ha,void 0),await function(P,O){const z=he(P);return z.persistence.runTransaction("Save bundle","readwrite",C=>z.Ii.saveBundleMetadata(C,O))}(a.localStore,p),u._completeWith(_.progress),Promise.resolve(_.Ja)}catch(p){return Ci(Po,`Loading bundle failed with ${p}`),u._failWith(p),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return vk(this.persistence,new yk,e.initialUser,this.serializer)}Cu(e){return new Vw(Yf.mi,this.serializer)}Du(e){return new Sk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xd.provider={build:()=>new xd};class tL extends xd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ie(this.persistence.referenceDelegate instanceof lf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new dk(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new Vw(r=>lf.mi(r,t),this.serializer)}}class Hk extends xd{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await e_(this.xu.syncEngine),await Nc(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return vk(this.persistence,new yk,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new dk(r,e.asyncQueue,t)}Mu(e,t){const r=new uO(t,this.persistence);return new cO(e.asyncQueue,r)}Cu(e){const t=Lw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new Mw(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Ak(),jp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new Sk}}class nL extends Hk{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof dy&&(this.sharedClientState.syncEngine={Co:QM.bind(null,t),vo:XM.bind(null,t),Fo:ZM.bind(null,t),Ts:JM.bind(null,t),Do:KM.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji(async r=>{await YM(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Du(e){const t=Ak();if(!dy.v(t))throw new Z(W.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Lw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dy(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Id{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$M.bind(null,this.syncEngine),await lv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PM}()}createDatastore(e){const t=Hd(e.databaseInfo.databaseId),r=function(a){return new cM(a)}(e.databaseInfo);return function(a,l,u,p){return new pM(a,l,u,p)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,u){return new mM(r,i,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>YI(this.syncEngine,t,0),function(){return qI.v()?new qI:new sM}())}createSyncEngine(e,t){return function(i,a,l,u,p,f,v){const _=new OM(i,a,l,u,p,f);return v&&(_.gu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const r=he(t);te(Da,"RemoteStore shutting down."),r.Ea.add(5),await Dc(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Id.provider={build:()=>new Id};function XI(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new pn,this.buffer=new Uint8Array,this.Lu=function(){return new TextDecoder("utf-8")}(),this.ku().then(r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.Qa)}`))},r=>this.metadata.reject(r))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const t=this.Lu.decode(e),r=Number(t);isNaN(r)&&this.Qu(`length string (${t}) is not valid number`);const i=await this.$u(r);return new CM(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex(e=>e===123)}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Z(W.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,a){const l=he(i),u={documents:a.map(_=>wd(l.serializer,_))},p=await l.Ho("BatchGetDocuments",l.serializer.databaseId,Ue.emptyPath(),u,a.length),f=new Map;p.forEach(_=>{const I=gV(l.serializer,_);f.set(I.key.toString(),I)});const v=[];return a.forEach(_=>{const I=f.get(_.toString());Ie(!!I,55234,{key:_}),v.push(I)}),v}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Rc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=ce.fromPath(r);this.mutations.push(new Tw(i,this.precondition(i)))}),await async function(r,i){const a=he(r),l={writes:i.map(u=>_d(a.serializer,u))};await a.Go("Commit",a.serializer.databaseId,Ue.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw fe(50498,{Gu:e.constructor.name});t=Te.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Z(W.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Te.min())?_t.exists(!1):_t.updateTime(t):_t.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Te.min()))throw new Z(W.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _t.updateTime(t)}return _t.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.zu=r.maxAttempts,this.M_=new Uw(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const e=new iL(this.datastore),t=this.Hu(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Yu(i)}))}).catch(r=>{this.Yu(r)})})}Hu(e){try{const t=this.updateFunction(e);return!Md(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!z2(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo="FirestoreClient";class oL{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=tn.UNAUTHENTICATED,this.clientId=dw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{te(vo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(te(vo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Vc(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function py(n,e){n.asyncQueue.verifyOperationInProgress(),te(vo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await wk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function ZI(n,e){n.asyncQueue.verifyOperationInProgress();const t=await t_(n);te(vo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>$I(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>$I(e.remoteStore,i)),n._onlineComponents=e}async function t_(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){te(vo,"Using user provided OfflineComponentProvider");try{await py(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===W.FAILED_PRECONDITION||i.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ci("Error using user provided cache. Falling back to memory cache: "+t),await py(n,new xd)}}else te(vo,"Using default OfflineComponentProvider"),await py(n,new tL(void 0));return n._offlineComponents}async function em(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(te(vo,"Using user provided OnlineComponentProvider"),await ZI(n,n._uninitializedComponentsProvider._online)):(te(vo,"Using default OnlineComponentProvider"),await ZI(n,new Id))),n._onlineComponents}function $k(n){return t_(n).then(e=>e.persistence)}function n_(n){return t_(n).then(e=>e.localStore)}function Wk(n){return em(n).then(e=>e.remoteStore)}function r_(n){return em(n).then(e=>e.syncEngine)}function aL(n){return em(n).then(e=>e.datastore)}async function vc(n){const e=await em(n),t=e.eventManager;return t.onListen=VM.bind(null,e.syncEngine),t.onUnlisten=LM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=MM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=FM.bind(null,e.syncEngine),t}function lL(n){return n.asyncQueue.enqueue(async()=>{const e=await $k(n),t=await Wk(n);return e.setNetworkEnabled(!0),function(i){const a=he(i);return a.Ea.delete(0),$d(a)}(t)})}function cL(n){return n.asyncQueue.enqueue(async()=>{const e=await $k(n),t=await Wk(n);return e.setNetworkEnabled(!1),async function(i){const a=he(i);a.Ea.add(0),await Dc(a),a.Ra.set("Offline")}(t)})}function uL(n,e){const t=new pn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,a,l){try{const u=await function(f,v){const _=he(f);return _.persistence.runTransaction("read document","readonly",I=>_.localDocuments.getDocument(I,v))}(i,a);u.isFoundDocument()?l.resolve(u):u.isNoDocument()?l.resolve(null):l.reject(new Z(W.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const p=Vc(u,`Failed to get document '${a} from cache`);l.reject(p)}}(await n_(n),e,t)),t.promise}function Gk(n,e,t={}){const r=new pn;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,p,f){const v=new Zf({next:I=>{v.Nu(),l.enqueueAndForget(()=>Gw(a,_));const P=I.docs.has(u);!P&&I.fromCache?f.reject(new Z(W.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&I.fromCache&&p&&p.source==="server"?f.reject(new Z(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(I)},error:I=>f.reject(I)}),_=new Qw(Ac(u.path),v,{includeMetadataChanges:!0,qa:!0});return Ww(a,_)}(await vc(n),n.asyncQueue,e,t,r)),r.promise}function dL(n,e){const t=new pn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,a,l){try{const u=await cf(i,a,!0),p=new jk(a,u.Qs),f=p.ru(u.documents),v=p.applyChanges(f,!1);l.resolve(v.snapshot)}catch(u){const p=Vc(u,`Failed to execute query '${a} against cache`);l.reject(p)}}(await n_(n),e,t)),t.promise}function Kk(n,e,t={}){const r=new pn;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,p,f){const v=new Zf({next:I=>{v.Nu(),l.enqueueAndForget(()=>Gw(a,_)),I.fromCache&&p.source==="server"?f.reject(new Z(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(I)},error:I=>f.reject(I)}),_=new Qw(u,v,{includeMetadataChanges:!0,qa:!0});return Ww(a,_)}(await vc(n),n.asyncQueue,e,t,r)),r.promise}function hL(n,e){const t=new Zf(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,a){he(i).Ca.add(a),a.next()}(await vc(n),t)),()=>{t.Nu(),n.asyncQueue.enqueueAndForget(async()=>function(i,a){he(i).Ca.delete(a)}(await vc(n),t))}}function pL(n,e,t,r){const i=function(l,u){let p;return p=typeof l=="string"?B2().encode(l):l,function(v,_){return new rL(v,_)}(function(v,_){if(v instanceof Uint8Array)return XI(v,_);if(v instanceof ArrayBuffer)return XI(new Uint8Array(v),_);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),u)}(t,Hd(e));n.asyncQueue.enqueueAndForget(async()=>{eL(await r_(n),i,r)})}function fL(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const a=he(r);return a.persistence.runTransaction("Get named query","readonly",l=>a.Ii.getNamedQuery(l,i))}(await n_(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="firestore.googleapis.com",tb=!0;class nb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Z(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Yk,this.ssl=tb}else this.host=e.host,this.ssl=e.ssl??tb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ak;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VV)throw new Z(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qk(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Z(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Z(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Z(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wd{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new J5;switch(r.type){case"firstParty":return new tO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=eb.get(t);r&&(te("ComponentProvider","Removing Datastore"),eb.delete(t),r.terminate())}(this),Promise.resolve()}}function mL(n,e,t,r={}){n=Je(n,Wd);const i=xo(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;i&&(Vv(`https://${u}`),Mv("Firestore",!0)),a.host!==Yk&&a.host!==u&&Ci("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...a,host:u,ssl:i,emulatorOptions:r};if(!lo(p,l)&&(n._setSettings(p),r.mockUserToken)){let f,v;if(typeof r.mockUserToken=="string")f=r.mockUserToken,v=tn.MOCK_USER;else{f=gE(r.mockUserToken,n._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Z(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new tn(_)}n._authCredentials=new X5(new UT(f,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ln=class Jk{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jk(this.firestore,e,this._query)}},ct=class ju{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ju(this.firestore,e,this._key)}toJSON(){return{type:ju._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Vd(t,ju._jsonSchema))return new ju(e,r||null,new ce(Ue.fromString(t.referencePath)))}};ct._jsonSchemaVersion="firestore/documentReference/1.0",ct._jsonSchema={type:Ht("string",ct._jsonSchemaVersion),referencePath:Ht("string")};let ao=class Xk extends Ln{constructor(e,t,r){super(e,t,Ac(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ct(this.firestore,null,new ce(e))}withConverter(e){return new Xk(this.firestore,e,this._path)}};function Zk(n,e,...t){if(n=we(n),hw("collection","path",e),n instanceof Wd){const r=Ue.fromString(e,...t);return H1(r),new ao(n,null,r)}{if(!(n instanceof ct||n instanceof ao))throw new Z(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ue.fromString(e,...t));return H1(r),new ao(n.firestore,null,r)}}function gL(n,e){if(n=Je(n,Wd),hw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Z(W.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ln(n,null,function(r){return new ps(Ue.emptyPath(),r)}(e))}function pf(n,e,...t){if(n=we(n),arguments.length===1&&(e=dw.newId()),hw("doc","path",e),n instanceof Wd){const r=Ue.fromString(e,...t);return q1(r),new ct(n,null,new ce(r))}{if(!(n instanceof ct||n instanceof ao))throw new Z(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ue.fromString(e,...t));return q1(r),new ct(n.firestore,n instanceof ao?n.converter:null,new ce(r))}}function eP(n,e){return n=we(n),e=we(e),(n instanceof ct||n instanceof ao)&&(e instanceof ct||e instanceof ao)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function tP(n,e){return n=we(n),e=we(e),n instanceof Ln&&e instanceof Ln&&n.firestore===e.firestore&&jd(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="AsyncQueue";class ib{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Uw(this,"async_queue_retry"),this._c=()=>{const r=jp();r&&te(rb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=jp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=jp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new pn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Eo(e))throw e;te(rb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Vt("INTERNAL UNHANDLED ERROR: ",sb(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=$w.createAndSchedule(this,e,t,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&fe(47125,{Pc:sb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function sb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(n,["next","error","complete"])}class yL{constructor(){this._progressObserver={},this._taskCompletionResolver=new pn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=-1;let Ft=class extends Wd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new ib,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ib(e),this._firestoreClient=void 0,await e}}};function kn(n){if(n._terminated)throw new Z(W.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||nP(n),n._firestoreClient}function nP(n){const e=n._freezeSettings(),t=function(i,a,l,u){return new jO(i,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Qk(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new oL(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}}(n._componentsProvider))}function wL(n,e){Ci("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return rP(n,Id.provider,{build:r=>new Hk(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function _L(n){Ci("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();rP(n,Id.provider,{build:t=>new nL(t,e.cacheSizeBytes)})}function rP(n,e,t){if((n=Je(n,Ft))._firestoreClient||n._terminated)throw new Z(W.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new Z(W.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},nP(n)}function xL(n){if(n._initialized&&!n._terminated)throw new Z(W.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new pn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Ti.v())return Promise.resolve();const i=r+gk;await Ti.delete(i)}(Lw(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function IL(n){return function(t){const r=new pn;return t.asyncQueue.enqueueAndForget(async()=>qM(await r_(t),r)),r.promise}(kn(n=Je(n,Ft)))}function bL(n){return lL(kn(n=Je(n,Ft)))}function EL(n){return cL(kn(n=Je(n,Ft)))}function TL(n,e){const t=kn(n=Je(n,Ft)),r=new yL;return pL(t,n._databaseId,e,r),r}function kL(n,e){return fL(kn(n=Je(n,Ft)),e).then(t=>t?new Ln(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this._byteString=e}static fromBase64String(e){try{return new In(Ct.fromBase64String(e))}catch(t){throw new Z(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new In(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vd(e,In._jsonSchema))return In.fromBase64String(e.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:Ht("string",In._jsonSchemaVersion),bytes:Ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Z(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fa=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Z(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Z(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xr._jsonSchemaVersion}}static fromJSON(e){if(Vd(e,Xr._jsonSchema))return new Xr(e.latitude,e.longitude)}}Xr._jsonSchemaVersion="firestore/geoPoint/1.0",Xr._jsonSchema={type:Ht("string",Xr._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vd(e,Pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Pi(e.vectorValues);throw new Z(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Ht("string",Pi._jsonSchemaVersion),vectorValues:Ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=/^__.*__$/;class SL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cc(e,this.data,t,this.fieldTransforms)}}class iP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ms(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe(40011,{Ac:n})}}class tm{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new tm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ff(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(sP(this.Ac)&&PL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class AL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Hd(e)}Cc(e,t,r,i=!1){return new tm({Ac:e,methodName:t,Dc:r,path:wt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ja(n){const e=n._freezeSettings(),t=Hd(n._databaseId);return new AL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nm(n,e,t,r,i,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,e,t,i);u_("Data must be an object, but it was:",l,r);const u=lP(r,l);let p,f;if(a.merge)p=new Yn(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const v=[];for(const _ of a.mergeFields){const I=hv(e,_,t);if(!l.contains(I))throw new Z(W.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);uP(v,I)||v.push(I)}p=new Yn(v),f=l.fieldTransforms.filter(_=>p.covers(_.field))}else p=null,f=l.fieldTransforms;return new SL(new dn(u),p,f)}class Gd extends Fa{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gd}}function oP(n,e,t){return new tm({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class i_ extends Fa{_toFieldTransform(e){return new Ud(e.path,new uc)}isEqual(e){return e instanceof i_}}class s_ extends Fa{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=oP(this,e,!0),r=this.vc.map(a=>za(a,t)),i=new Pa(r);return new Ud(e.path,i)}isEqual(e){return e instanceof s_&&lo(this.vc,e.vc)}}class o_ extends Fa{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=oP(this,e,!0),r=this.vc.map(a=>za(a,t)),i=new Sa(r);return new Ud(e.path,i)}isEqual(e){return e instanceof o_&&lo(this.vc,e.vc)}}class a_ extends Fa{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new dc(e.serializer,N2(e.serializer,this.Fc));return new Ud(e.path,t)}isEqual(e){return e instanceof a_&&this.Fc===e.Fc}}function l_(n,e,t,r){const i=n.Cc(1,e,t);u_("Data must be an object, but it was:",i,r);const a=[],l=dn.empty();To(r,(p,f)=>{const v=d_(e,p,t);f=we(f);const _=i.yc(v);if(f instanceof Gd)a.push(v);else{const I=za(f,_);I!=null&&(a.push(v),l.set(v,I))}});const u=new Yn(a);return new iP(l,u,i.fieldTransforms)}function c_(n,e,t,r,i,a){const l=n.Cc(1,e,t),u=[hv(e,r,t)],p=[i];if(a.length%2!=0)throw new Z(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<a.length;I+=2)u.push(hv(e,a[I])),p.push(a[I+1]);const f=[],v=dn.empty();for(let I=u.length-1;I>=0;--I)if(!uP(f,u[I])){const P=u[I];let O=p[I];O=we(O);const z=l.yc(P);if(O instanceof Gd)f.push(P);else{const C=za(O,z);C!=null&&(f.push(P),v.set(P,C))}}const _=new Yn(f);return new iP(v,_,l.fieldTransforms)}function aP(n,e,t,r=!1){return za(t,n.Cc(r?4:3,e))}function za(n,e){if(cP(n=we(n)))return u_("Unsupported field value:",e,n),lP(n,e);if(n instanceof Fa)return function(r,i){if(!sP(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const u of r){let p=za(u,i.wc(l));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=we(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return N2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=et.fromDate(r);return{timestampValue:hc(i.serializer,a)}}if(r instanceof et){const a=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hc(i.serializer,a)}}if(r instanceof Xr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof In)return{bytesValue:$2(i.serializer,r._byteString)};if(r instanceof ct){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Cw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Pi)return function(l,u){return{mapValue:{fields:{[ww]:{stringValue:_w},[ac]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return Ew(u.serializer,f)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Ff(r)}`)}(n,e)}function lP(n,e){const t={};return l2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(n,(r,i)=>{const a=za(i,e.mc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function cP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof et||n instanceof Xr||n instanceof In||n instanceof ct||n instanceof Fa||n instanceof Pi)}function u_(n,e,t){if(!cP(t)||!HT(t)){const r=Ff(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function hv(n,e,t){if((e=we(e))instanceof wo)return e._internalPath;if(typeof e=="string")return d_(n,e);throw ff("Field path arguments must be of type string or ",n,!1,void 0,t)}const CL=new RegExp("[~\\*/\\[\\]]");function d_(n,e,t){if(e.search(CL)>=0)throw ff(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wo(...e.split("."))._internalPath}catch{throw ff(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ff(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let p="";return(a||l)&&(p+=" (found",a&&(p+=` in field ${r}`),l&&(p+=` in document ${i}`),p+=")"),new Z(W.INVALID_ARGUMENT,u+n+p)}function uP(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class RL extends bd{data(){return super.data()}}function rm(n,e){return typeof e=="string"?d_(n,e):e instanceof wo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Z(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class h_{}class Kd extends h_{}function Qs(n,e,...t){let r=[];e instanceof h_&&r.push(e),r=r.concat(t),function(a){const l=a.filter(p=>p instanceof p_).length,u=a.filter(p=>p instanceof im).length;if(l>1||l>0&&u>0)throw new Z(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class im extends Kd{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new im(e,t,r)}_apply(e){const t=this._parse(e);return pP(e._query,t),new Ln(e.firestore,e.converter,Xy(e._query,t))}_parse(e){const t=ja(e.firestore);return function(a,l,u,p,f,v,_){let I;if(f.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Z(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){ab(_,v);const O=[];for(const z of _)O.push(ob(p,a,z));I={arrayValue:{values:O}}}else I=ob(p,a,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||ab(_,v),I=aP(u,l,_,v==="in"||v==="not-in");return Be.create(f,v,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function DL(n,e,t){const r=e,i=rm("where",n);return im._create(i,r,t)}class p_ extends h_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new p_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:rt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const u=a.getFlattenedFilters();for(const p of u)pP(l,p),l=Xy(l,p)}(e._query,t),new Ln(e.firestore,e.converter,Xy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class f_ extends Kd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new f_(e,t)}_apply(e){const t=function(i,a,l){if(i.startAt!==null)throw new Z(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Z(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vd(a,l)}(e._query,this._field,this._direction);return new Ln(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new ps(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function NL(n,e="asc"){const t=e,r=rm("orderBy",n);return f_._create(r,t)}class sm extends Kd{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new sm(e,t,r)}_apply(e){return new Ln(e.firestore,e.converter,rf(e._query,this._limit,this._limitType))}}function OL(n){return $T("limit",n),sm._create("limit",n,"F")}function VL(n){return $T("limitToLast",n),sm._create("limitToLast",n,"L")}class om extends Kd{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new om(e,t,r)}_apply(e){const t=hP(e,this.type,this._docOrFields,this._inclusive);return new Ln(e.firestore,e.converter,function(i,a){return new ps(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)}(e._query,t))}}function ML(...n){return om._create("startAt",n,!0)}function LL(...n){return om._create("startAfter",n,!1)}class am extends Kd{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new am(e,t,r)}_apply(e){const t=hP(e,this.type,this._docOrFields,this._inclusive);return new Ln(e.firestore,e.converter,function(i,a){return new ps(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)}(e._query,t))}}function FL(...n){return am._create("endBefore",n,!1)}function jL(...n){return am._create("endAt",n,!0)}function hP(n,e,t,r){if(t[0]=we(t[0]),t[0]instanceof bd)return function(a,l,u,p,f){if(!p)throw new Z(W.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const _ of Kl(a))if(_.field.isKeyField())v.push(Ta(l,p.key));else{const I=p.data.field(_.field);if(qf(I))throw new Z(W.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(I===null){const P=_.field.canonicalString();throw new Z(W.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}v.push(I)}return new go(v,f)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=ja(n.firestore);return function(l,u,p,f,v,_){const I=l.explicitOrderBy;if(v.length>I.length)throw new Z(W.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let O=0;O<v.length;O++){const z=v[O];if(I[O].field.isKeyField()){if(typeof z!="string")throw new Z(W.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof z}`);if(!Iw(l)&&z.indexOf("/")!==-1)throw new Z(W.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${z}' contains a slash.`);const C=l.path.child(Ue.fromString(z));if(!ce.isDocumentKey(C))throw new Z(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const K=new ce(C);P.push(Ta(u,K))}else{const C=aP(p,f,z);P.push(C)}}return new go(P,_)}(n._query,n.firestore._databaseId,i,e,t,r)}}function ob(n,e,t){if(typeof(t=we(t))=="string"){if(t==="")throw new Z(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iw(e)&&t.indexOf("/")!==-1)throw new Z(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ue.fromString(t));if(!ce.isDocumentKey(r))throw new Z(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ta(n,new ce(r))}if(t instanceof ct)return Ta(n,t._key);throw new Z(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ff(t)}.`)}function ab(n,e){if(!Array.isArray(n)||n.length===0)throw new Z(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pP(n,e){const t=function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Z(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class m_{convertValue(e,t="none"){switch(fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw fe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return To(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){const t=e.fields?.[ac].arrayValue?.values?.map(r=>vt(r.doubleValue));return new Pi(t)}convertGeoPoint(e){return new Xr(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Hf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(md(e));default:return null}}convertTimestamp(e){const t=as(e);return new et(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ue.fromString(e);Ie(nk(r),9688,{name:e});const i=new po(r.get(1),r.get(3)),a=new ce(r.popFirst(5));return i.isEqual(t)||Vt(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class zL extends m_{constructor(e){super(),this.firestore=e}convertBytes(e){return new In(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,t)}}class fa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let kr=class fP extends bd{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ed(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(rm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=fP._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",kr._jsonSchema={type:Ht("string",kr._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};let ed=class extends kr{data(e={}){return super.data(e)}},Zr=class mP{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new fa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ed(this._firestore,this._userDataWriter,r.key,r,new fa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Z(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const p=new ed(i._firestore,i._userDataWriter,u.doc.key,u.doc,new fa(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:p,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const p=new ed(i._firestore,i._userDataWriter,u.doc.key,u.doc,new fa(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,v=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),v=l.indexOf(u.doc.key)),{type:UL(u.type),doc:p,oldIndex:f,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mP._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function UL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe(61501,{type:n})}}function gP(n,e){return n instanceof kr&&e instanceof kr?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Zr&&e instanceof Zr&&n._firestore===e._firestore&&tP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(n){n=Je(n,ct);const e=Je(n.firestore,Ft);return Gk(kn(e),n._key).then(t=>g_(e,n,t))}Zr._jsonSchemaVersion="firestore/querySnapshot/1.0",Zr._jsonSchema={type:Ht("string",Zr._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Ua extends m_{constructor(e){super(),this.firestore=e}convertBytes(e){return new In(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,t)}}function qL(n){n=Je(n,ct);const e=Je(n.firestore,Ft),t=kn(e),r=new Ua(e);return uL(t,n._key).then(i=>new kr(e,r,n._key,i,new fa(i!==null&&i.hasLocalMutations,!0),n.converter))}function HL(n){n=Je(n,ct);const e=Je(n.firestore,Ft);return Gk(kn(e),n._key,{source:"server"}).then(t=>g_(e,n,t))}function $L(n){n=Je(n,Ln);const e=Je(n.firestore,Ft),t=kn(e),r=new Ua(e);return dP(n._query),Kk(t,n._query).then(i=>new Zr(e,r,n,i))}function WL(n){n=Je(n,Ln);const e=Je(n.firestore,Ft),t=kn(e),r=new Ua(e);return dL(t,n._query).then(i=>new Zr(e,r,n,i))}function GL(n){n=Je(n,Ln);const e=Je(n.firestore,Ft),t=kn(e),r=new Ua(e);return Kk(t,n._query,{source:"server"}).then(i=>new Zr(e,r,n,i))}function lb(n,e,t){n=Je(n,ct);const r=Je(n.firestore,Ft),i=lm(n.converter,e,t);return Qd(r,[nm(ja(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,_t.none())])}function cb(n,e,t,...r){n=Je(n,ct);const i=Je(n.firestore,Ft),a=ja(i);let l;return l=typeof(e=we(e))=="string"||e instanceof wo?c_(a,"updateDoc",n._key,e,t,r):l_(a,"updateDoc",n._key,e),Qd(i,[l.toMutation(n._key,_t.exists(!0))])}function KL(n){return Qd(Je(n.firestore,Ft),[new Rc(n._key,_t.none())])}function QL(n,e){const t=Je(n.firestore,Ft),r=pf(n),i=lm(n.converter,e);return Qd(t,[nm(ja(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,_t.exists(!1))]).then(()=>r)}function yP(n,...e){n=we(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||dv(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(dv(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let a,l,u;if(n instanceof ct)l=Je(n.firestore,Ft),u=Ac(n._key.path),a={next:p=>{e[r]&&e[r](g_(l,n,p))},error:e[r+1],complete:e[r+2]};else{const p=Je(n,Ln);l=Je(p.firestore,Ft),u=p._query;const f=new Ua(l);a={next:v=>{e[r]&&e[r](new Zr(l,f,p,v))},error:e[r+1],complete:e[r+2]},dP(n._query)}return function(f,v,_,I){const P=new Zf(I),O=new Qw(v,P,_);return f.asyncQueue.enqueueAndForget(async()=>Ww(await vc(f),O)),()=>{P.Nu(),f.asyncQueue.enqueueAndForget(async()=>Gw(await vc(f),O))}}(kn(l),u,i,a)}function YL(n,e){return hL(kn(n=Je(n,Ft)),dv(e)?e:{next:e})}function Qd(n,e){return function(r,i){const a=new pn;return r.asyncQueue.enqueueAndForget(async()=>jM(await r_(r),i,a)),a.promise}(kn(n),e)}function g_(n,e,t){const r=t.docs.get(e._key),i=new Ua(n);return new kr(n,i,e._key,r,new fa(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XL=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ja(e)}set(e,t,r){this._verifyNotCommitted();const i=to(e,this._firestore),a=lm(i.converter,t,r),l=nm(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,_t.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=to(e,this._firestore);let l;return l=typeof(t=we(t))=="string"||t instanceof wo?c_(this._dataReader,"WriteBatch.update",a._key,t,r,i):l_(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,_t.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=to(e,this._firestore);return this._mutations=this._mutations.concat(new Rc(t._key,_t.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Z(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function to(n,e){if((n=we(n)).firestore!==e)throw new Z(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ja(e)}get(e){const t=to(e,this._firestore),r=new zL(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return fe(24041);const a=i[0];if(a.isFoundDocument())return new bd(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new bd(this._firestore,r,t._key,null,t.converter);throw fe(18433,{doc:a})})}set(e,t,r){const i=to(e,this._firestore),a=lm(i.converter,t,r),l=nm(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const a=to(e,this._firestore);let l;return l=typeof(t=we(t))=="string"||t instanceof wo?c_(this._dataReader,"Transaction.update",a._key,t,r,i):l_(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,l),this}delete(e){const t=to(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e6=class extends ZL{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=to(e,this._firestore),r=new Ua(this._firestore);return super.get(e).then(i=>new kr(this._firestore,r,t._key,i._document,new fa(!1,!1),t.converter))}};function t6(n,e,t){n=Je(n,Ft);const r={...JL,...t};return function(a){if(a.maxAttempts<1)throw new Z(W.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(a,l,u){const p=new pn;return a.asyncQueue.enqueueAndForget(async()=>{const f=await aL(a);new sL(a.asyncQueue,f,u,l,p).ju()}),p.promise}(kn(n),i=>e(new e6(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(){return new Gd("deleteField")}function r6(){return new i_("serverTimestamp")}function i6(...n){return new s_("arrayUnion",n)}function s6(...n){return new o_("arrayRemove",n)}function o6(n){return new a_("increment",n)}(function(e,t=!0){(function(i){Sc=i})(us),dr(new fn("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new Ft(new Z5(r.getProvider("auth-internal")),new nO(l,r.getProvider("app-check-internal")),function(f,v){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Z(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new po(f.options.projectId,v)}(l,i),l);return a={useFetchStreams:t,...a},u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),hn(j1,z1,e),hn(j1,z1,"esm2020")})();const a6="@firebase/firestore-compat",l6="0.4.0";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new Z("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(){if(typeof Uint8Array>"u")throw new Z("unimplemented","Uint8Arrays are not available in this environment.")}function db(){if(!LO())throw new Z("unimplemented","Blobs are unavailable in Firestore in this environment.")}let vP=class pv{constructor(e){this._delegate=e}static fromBase64String(e){return db(),new pv(In.fromBase64String(e))}static fromUint8Array(e){return ub(),new pv(In.fromUint8Array(e))}toBase64(){return db(),this._delegate.toBase64()}toUint8Array(){return ub(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(n){return c6(n,["next","error","complete"])}function c6(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{enableIndexedDbPersistence(e,t){return wL(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return _L(e._delegate)}clearIndexedDbPersistence(e){return xL(e._delegate)}}class wP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof po||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ci("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...t,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){mL(this._delegate,e,t,r)}enableNetwork(){return bL(this._delegate)}disableNetwork(){return EL(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,qT("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return IL(this._delegate)}onSnapshotsInSync(e){return YL(this._delegate,e)}get app(){if(!this._appCompat)throw new Z("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new wc(this,Zk(this._delegate,e))}catch(t){throw On(t,"collection()","Firestore.collection()")}}doc(e){try{return new Er(this,pf(this._delegate,e))}catch(t){throw On(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Nn(this,gL(this._delegate,e))}catch(t){throw On(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return t6(this._delegate,t=>e(new _P(this,t)))}batch(){return kn(this._delegate),new xP(new XL(this._delegate,e=>Qd(this._delegate,e)))}loadBundle(e){return TL(this._delegate,e)}namedQuery(e){return kL(this._delegate,e).then(t=>t?new Nn(this,t):null)}}class cm extends m_{constructor(e){super(),this.firestore=e}convertBytes(e){return new vP(new In(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Er.forKey(t,this.firestore,null)}}function d6(n){Q5(n)}class _P{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new cm(e)}get(e){const t=ma(e);return this._delegate.get(t).then(r=>new Ed(this._firestore,new kr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ma(e);return r?(y_("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=ma(e);return arguments.length===2?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=ma(e);return this._delegate.delete(t),this}}class xP{constructor(e){this._delegate=e}set(e,t,r){const i=ma(e);return r?(y_("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=ma(e);return arguments.length===2?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=ma(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Na{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new ed(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Td(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Na.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Na(e,new cm(e),t),i.set(t,a)),a}}Na.INSTANCES=new WeakMap;class Er{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cm(e)}static forPath(e,t,r){if(e.length%2!==0)throw new Z("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Er(t,new ct(t._delegate,r,new ce(e)))}static forKey(e,t,r){return new Er(t,new ct(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new wc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new wc(this.firestore,Zk(this._delegate,e))}catch(t){throw On(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=we(e),e instanceof ct?eP(this._delegate,e):!1}set(e,t){t=y_("DocumentReference.set",t);try{return t?lb(this._delegate,e,t):lb(this._delegate,e)}catch(r){throw On(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?cb(this._delegate,e):cb(this._delegate,e,t,...r)}catch(i){throw On(i,"updateDoc()","DocumentReference.update()")}}delete(){return KL(this._delegate)}onSnapshot(...e){const t=IP(e),r=bP(e,i=>new Ed(this.firestore,new kr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return yP(this._delegate,t,r)}get(e){let t;return e?.source==="cache"?t=qL(this._delegate):e?.source==="server"?t=HL(this._delegate):t=BL(this._delegate),t.then(r=>new Ed(this.firestore,new kr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Er(this.firestore,e?this._delegate.withConverter(Na.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function On(n,e,t){return n.message=n.message.replace(e,t),n}function IP(n){for(const e of n)if(typeof e=="object"&&!fv(e))return e;return{}}function bP(n,e){let t;return fv(n[0])?t=n[0]:fv(n[1])?t=n[1]:typeof n[0]=="function"?t={next:n[0],error:n[1],complete:n[2]}:t={next:n[1],error:n[2],complete:n[3]},{next:r=>{t.next&&t.next(e(r))},error:t.error?.bind(t),complete:t.complete?.bind(t)}}class Ed{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Er(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return gP(this._delegate,e._delegate)}}class Td extends Ed{data(e){const t=this._delegate.data(e);return this._delegate._converter||Y5(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class Nn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cm(e)}where(e,t,r){try{return new Nn(this.firestore,Qs(this._delegate,DL(e,t,r)))}catch(i){throw On(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Nn(this.firestore,Qs(this._delegate,NL(e,t)))}catch(r){throw On(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Nn(this.firestore,Qs(this._delegate,OL(e)))}catch(t){throw On(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Nn(this.firestore,Qs(this._delegate,VL(e)))}catch(t){throw On(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Nn(this.firestore,Qs(this._delegate,ML(...e)))}catch(t){throw On(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Nn(this.firestore,Qs(this._delegate,LL(...e)))}catch(t){throw On(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Nn(this.firestore,Qs(this._delegate,FL(...e)))}catch(t){throw On(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Nn(this.firestore,Qs(this._delegate,jL(...e)))}catch(t){throw On(t,"endAt()","Query.endAt()")}}isEqual(e){return tP(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=WL(this._delegate):e?.source==="server"?t=GL(this._delegate):t=$L(this._delegate),t.then(r=>new mv(this.firestore,new Zr(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=IP(e),r=bP(e,i=>new mv(this.firestore,new Zr(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return yP(this._delegate,t,r)}withConverter(e){return new Nn(this.firestore,e?this._delegate.withConverter(Na.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class h6{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Td(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class mv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Nn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Td(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new h6(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Td(this._firestore,r))})}isEqual(e){return gP(this._delegate,e._delegate)}}class wc extends Nn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Er(this.firestore,e):null}doc(e){try{return e===void 0?new Er(this.firestore,pf(this._delegate)):new Er(this.firestore,pf(this._delegate,e))}catch(t){throw On(t,"doc()","CollectionReference.doc()")}}add(e){return QL(this._delegate,e).then(t=>new Er(this.firestore,t))}isEqual(e){return eP(this._delegate,e._delegate)}withConverter(e){return new wc(this.firestore,e?this._delegate.withConverter(Na.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ma(n){return Je(n,ct)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(...e){this._delegate=new wo(...e)}static documentId(){return new v_(wt.keyField().canonicalString())}isEqual(e){return e=we(e),e instanceof wo?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{static serverTimestamp(){const e=r6();return e._methodName="FieldValue.serverTimestamp",new ca(e)}static delete(){const e=n6();return e._methodName="FieldValue.delete",new ca(e)}static arrayUnion(...e){const t=i6(...e);return t._methodName="FieldValue.arrayUnion",new ca(t)}static arrayRemove(...e){const t=s6(...e);return t._methodName="FieldValue.arrayRemove",new ca(t)}static increment(e){const t=o6(e);return t._methodName="FieldValue.increment",new ca(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6={Firestore:wP,GeoPoint:Xr,Timestamp:et,Blob:vP,Transaction:_P,WriteBatch:xP,DocumentReference:Er,DocumentSnapshot:Ed,Query:Nn,QueryDocumentSnapshot:Td,QuerySnapshot:mv,CollectionReference:wc,FieldPath:v_,FieldValue:ca,setLogLevel:d6,CACHE_SIZE_UNLIMITED:vL};function f6(n,e){n.INTERNAL.registerComponent(new fn("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps({...p6}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(n){f6(n,(e,t)=>new wP(e,t,new u6)),n.registerVersion(a6,l6)}m6(Tn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="firebasestorage.googleapis.com",TP="storageBucket",g6=120*1e3,y6=600*1e3,v6=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St extends nn{constructor(e,t,r=0){super(fy(e),`Firebase Storage: ${t} (${fy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,St.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mt||(mt={}));function fy(n){return"storage/"+n}function w_(){const n="An unknown error occurred, please check the error payload for server response.";return new St(mt.UNKNOWN,n)}function w6(n){return new St(mt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function _6(n){return new St(mt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function x6(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new St(mt.UNAUTHENTICATED,n)}function I6(){return new St(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function b6(n){return new St(mt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function kP(){return new St(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function PP(){return new St(mt.CANCELED,"User canceled the upload/download.")}function E6(n){return new St(mt.INVALID_URL,"Invalid URL '"+n+"'.")}function T6(n){return new St(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function k6(){return new St(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+TP+"' property when initializing the app?")}function SP(){return new St(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function P6(){return new St(mt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function S6(){return new St(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function A6(n){return new St(mt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Yl(n){return new St(mt.INVALID_ARGUMENT,n)}function AP(){return new St(mt.APP_DELETED,"The Firebase app was deleted.")}function CP(n){return new St(mt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function td(n,e){return new St(mt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Ru(n){throw new St(mt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=bn.makeFromUrl(e,t)}catch{return new bn(e,"")}if(r.path==="")return r;throw T6(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+i+l,"i"),p={bucket:1,path:3};function f(se){se.path_=decodeURIComponent(se.path)}const v="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",P=new RegExp(`^https?://${_}/${v}/b/${i}/o${I}`,"i"),O={bucket:1,path:3},z=t===EP?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",K=new RegExp(`^https?://${z}/${i}/${C}`,"i"),Q=[{regex:u,indices:p,postModify:a},{regex:P,indices:O,postModify:f},{regex:K,indices:{bucket:1,path:2},postModify:f}];for(let se=0;se<Q.length;se++){const ve=Q[se],_e=ve.regex.exec(e);if(_e){const R=_e[ve.indices.bucket];let T=_e[ve.indices.path];T||(T=""),r=new bn(R,T),ve.postModify(r);break}}if(r==null)throw E6(e);return r}}class C6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(n,e,t){let r=1,i=null,a=null,l=!1,u=0;function p(){return u===2}let f=!1;function v(...C){f||(f=!0,e.apply(null,C))}function _(C){i=setTimeout(()=>{i=null,n(P,p())},C)}function I(){a&&clearTimeout(a)}function P(C,...K){if(f){I();return}if(C){I(),v.call(null,C,...K);return}if(p()||l){I(),v.call(null,C,...K);return}r<64&&(r*=2);let Q;u===1?(u=2,Q=0):Q=(r+Math.random())*1e3,_(Q)}let O=!1;function z(C){O||(O=!0,I(),!f&&(i!==null?(C||(u=2),clearTimeout(i),_(0)):C||(u=1)))}return _(0),a=setTimeout(()=>{l=!0,z(!0)},t),z}function D6(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(n){return n!==void 0}function O6(n){return typeof n=="function"}function V6(n){return typeof n=="object"&&!Array.isArray(n)}function um(n){return typeof n=="string"||n instanceof String}function hb(n){return __()&&n instanceof Blob}function __(){return typeof Blob<"u"}function gv(n,e,t,r){if(r<e)throw Yl(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Yl(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function RP(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var _a;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(_a||(_a={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,t,r,i,a,l,u,p,f,v,_,I=!0,P=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=p,this.timeout_=f,this.progressCallback_=v,this.connectionFactory_=_,this.retry=I,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,z)=>{this.resolve_=O,this.reject_=z,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new _p(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const p=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,f)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===_a.NO_ERROR,p=a.getStatus();if(!u||DP(p,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===_a.ABORT;r(!1,new _p(!1,null,v));return}const f=this.successCodes_.indexOf(p)!==-1;r(!0,new _p(f,a))})},t=(r,i)=>{const a=this.resolve_,l=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(u,u.getResponse());N6(p)?a(p):a()}catch(p){l(p)}else if(u!==null){const p=w_();p.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,p)):l(p)}else if(i.canceled){const p=this.appDelete_?AP():PP();l(p)}else{const p=kP();l(p)}};this.canceled_?t(!1,new _p(!1,null,!0)):this.backoffId_=R6(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&D6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _p{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function L6(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function F6(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function j6(n,e){e&&(n["X-Firebase-GMPID"]=e)}function z6(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function U6(n,e,t,r,i,a,l=!0,u=!1){const p=RP(n.urlParams),f=n.url+p,v=Object.assign({},n.headers);return j6(v,e),L6(v,t),F6(v,a),z6(v,r),new M6(f,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function q6(...n){const e=B6();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(__())return new Blob(n);throw new St(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function H6(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(n){if(typeof atob>"u")throw A6("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class my{constructor(e,t){this.data=e,this.contentType=t||null}}function NP(n,e){switch(n){case Tr.RAW:return new my(OP(e));case Tr.BASE64:case Tr.BASE64URL:return new my(VP(n,e));case Tr.DATA_URL:return new my(G6(e),K6(e))}throw w_()}function OP(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=n.charCodeAt(++t);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function W6(n){let e;try{e=decodeURIComponent(n)}catch{throw td(Tr.DATA_URL,"Malformed data URL.")}return OP(e)}function VP(n,e){switch(n){case Tr.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw td(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Tr.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw td(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=$6(e)}catch(i){throw i.message.includes("polyfill")?i:td(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class MP{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw td(Tr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=Q6(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function G6(n){const e=new MP(n);return e.base64?VP(Tr.BASE64,e.rest):W6(e.rest)}function K6(n){return new MP(n).contentType}function Q6(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,t){let r=0,i="";hb(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(hb(this.data_)){const r=this.data_,i=H6(r,e,t);return i===null?null:new Zi(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Zi(r,!0)}}static getBlob(...e){if(__()){const t=e.map(r=>r instanceof Zi?r.data_:r);return new Zi(q6.apply(null,t))}else{const t=e.map(l=>um(l)?NP(Tr.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(l=>{for(let u=0;u<l.length;u++)i[a++]=l[u]}),new Zi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(n){let e;try{e=JSON.parse(n)}catch{return null}return V6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function J6(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function LP(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(n,e){return e}class Dn{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||X6}}let xp=null;function Z6(n){return!um(n)||n.length<2?n:LP(n)}function dm(){if(xp)return xp;const n=[];n.push(new Dn("bucket")),n.push(new Dn("generation")),n.push(new Dn("metageneration")),n.push(new Dn("name","fullPath",!0));function e(a,l){return Z6(l)}const t=new Dn("name");t.xform=e,n.push(t);function r(a,l){return l!==void 0?Number(l):l}const i=new Dn("size");return i.xform=r,n.push(i),n.push(new Dn("timeCreated")),n.push(new Dn("updated")),n.push(new Dn("md5Hash",null,!0)),n.push(new Dn("cacheControl",null,!0)),n.push(new Dn("contentDisposition",null,!0)),n.push(new Dn("contentEncoding",null,!0)),n.push(new Dn("contentLanguage",null,!0)),n.push(new Dn("contentType",null,!0)),n.push(new Dn("metadata","customMetadata",!0)),xp=n,xp}function eF(n,e){function t(){const r=n.bucket,i=n.fullPath,a=new bn(r,i);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function tF(n,e,t){const r={};r.type="file";const i=t.length;for(let a=0;a<i;a++){const l=t[a];r[l.local]=l.xform(r,e[l.server])}return eF(r,n),r}function FP(n,e,t){const r=x_(e);return r===null?null:tF(n,r,t)}function nF(n,e,t,r){const i=x_(e);if(i===null||!um(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(f=>{const v=n.bucket,_=n.fullPath,I="/b/"+l(v)+"/o/"+l(_),P=So(I,t,r),O=RP({alt:"media",token:f});return P+O})[0]}function I_(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="prefixes",fb="items";function rF(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[pb])for(const i of t[pb]){const a=i.replace(/\/$/,""),l=n._makeStorageReference(new bn(e,a));r.prefixes.push(l)}if(t[fb])for(const i of t[fb]){const a=n._makeStorageReference(new bn(e,i.name));r.items.push(a)}return r}function iF(n,e,t){const r=x_(t);return r===null?null:rF(n,e,r)}class ys{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(n){if(!n)throw w_()}function hm(n,e){function t(r,i){const a=FP(n,i,e);return Si(a!==null),a}return t}function sF(n,e){function t(r,i){const a=iF(n,e,i);return Si(a!==null),a}return t}function oF(n,e){function t(r,i){const a=FP(n,i,e);return Si(a!==null),nF(a,i,n.host,n._protocol)}return t}function Mc(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=I6():i=x6():t.getStatus()===402?i=_6(n.bucket):t.getStatus()===403?i=b6(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function pm(n){const e=Mc(n);function t(r,i){let a=e(r,i);return r.getStatus()===404&&(a=w6(n.path)),a.serverResponse=i.serverResponse,a}return t}function jP(n,e,t){const r=e.fullServerUrl(),i=So(r,n.host,n._protocol),a="GET",l=n.maxOperationRetryTime,u=new ys(i,a,hm(n,t),l);return u.errorHandler=pm(e),u}function aF(n,e,t,r,i){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const l=e.bucketOnlyServerUrl(),u=So(l,n.host,n._protocol),p="GET",f=n.maxOperationRetryTime,v=new ys(u,p,sF(n,e.bucket),f);return v.urlParams=a,v.errorHandler=Mc(e),v}function lF(n,e,t){const r=e.fullServerUrl(),i=So(r,n.host,n._protocol),a="GET",l=n.maxOperationRetryTime,u=new ys(i,a,oF(n,t),l);return u.errorHandler=pm(e),u}function cF(n,e,t,r){const i=e.fullServerUrl(),a=So(i,n.host,n._protocol),l="PATCH",u=I_(t,r),p={"Content-Type":"application/json; charset=utf-8"},f=n.maxOperationRetryTime,v=new ys(a,l,hm(n,r),f);return v.headers=p,v.body=u,v.errorHandler=pm(e),v}function uF(n,e){const t=e.fullServerUrl(),r=So(t,n.host,n._protocol),i="DELETE",a=n.maxOperationRetryTime;function l(p,f){}const u=new ys(r,i,l,a);return u.successCodes=[200,204],u.errorHandler=pm(e),u}function dF(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function zP(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=dF(null,e)),r}function hF(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let Q="";for(let se=0;se<2;se++)Q=Q+Math.random().toString().slice(2);return Q}const p=u();l["Content-Type"]="multipart/related; boundary="+p;const f=zP(e,r,i),v=I_(f,t),_="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+f.contentType+`\r
\r
`,I=`\r
--`+p+"--",P=Zi.getBlob(_,r,I);if(P===null)throw SP();const O={name:f.fullPath},z=So(a,n.host,n._protocol),C="POST",K=n.maxUploadRetryTime,J=new ys(z,C,hm(n,t),K);return J.urlParams=O,J.headers=l,J.body=P.uploadData(),J.errorHandler=Mc(e),J}class mf{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function b_(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Si(!1)}return Si(!!t&&(e||["active"]).indexOf(t)!==-1),t}function pF(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),l=zP(e,r,i),u={name:l.fullPath},p=So(a,n.host,n._protocol),f="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},_=I_(l,t),I=n.maxUploadRetryTime;function P(z){b_(z);let C;try{C=z.getResponseHeader("X-Goog-Upload-URL")}catch{Si(!1)}return Si(um(C)),C}const O=new ys(p,f,P,I);return O.urlParams=u,O.headers=v,O.body=_,O.errorHandler=Mc(e),O}function fF(n,e,t,r){const i={"X-Goog-Upload-Command":"query"};function a(f){const v=b_(f,["active","final"]);let _=null;try{_=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Si(!1)}_||Si(!1);const I=Number(_);return Si(!isNaN(I)),new mf(I,r.size(),v==="final")}const l="POST",u=n.maxUploadRetryTime,p=new ys(t,l,a,u);return p.headers=i,p.errorHandler=Mc(e),p}const mb=256*1024;function mF(n,e,t,r,i,a,l,u){const p=new mf(0,0);if(l?(p.current=l.current,p.total=l.total):(p.current=0,p.total=r.size()),r.size()!==p.total)throw P6();const f=p.total-p.current;let v=f;i>0&&(v=Math.min(v,i));const _=p.current,I=_+v;let P="";v===0?P="finalize":f===v?P="upload, finalize":P="upload";const O={"X-Goog-Upload-Command":P,"X-Goog-Upload-Offset":`${p.current}`},z=r.slice(_,I);if(z===null)throw SP();function C(se,ve){const _e=b_(se,["active","final"]),R=p.current+v,T=r.size();let A;return _e==="final"?A=hm(e,a)(se,ve):A=null,new mf(R,T,_e==="final",A)}const K="POST",J=e.maxUploadRetryTime,Q=new ys(t,K,C,J);return Q.headers=O,Q.body=z.uploadData(),Q.progressCallback=u||null,Q.errorHandler=Mc(n),Q}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF={STATE_CHANGED:"state_changed"},Vn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function gy(n){switch(n){case"running":case"pausing":case"canceling":return Vn.RUNNING;case"paused":return Vn.PAUSED;case"success":return Vn.SUCCESS;case"canceled":return Vn.CANCELED;case"error":return Vn.ERROR;default:return Vn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,t,r){if(O6(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class vF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_a.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_a.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_a.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i,a){if(this.sent_)throw Ru("cannot .send() more than once");if(xo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ru("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ru("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ru("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ru("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wF extends vF{initXhr(){this.xhr_.responseType="text"}}function xi(){return new wF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=dm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(mt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(DP(i.status,[]))if(a)i=kP();else{this.sleepTime=Math.max(this.sleepTime*2,v6),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(mt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=pF(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,xi,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=fF(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,xi,t,r);this._request=a,a.getPromise().then(l=>{l=l,this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=mb*this._chunkMultiplier,t=new mf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let l;try{l=mF(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const u=this._ref.storage._makeRequest(l,xi,i,a,!1);this._request=u,u.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){mb*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=jP(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,xi,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=hF(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,xi,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=PP(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=gy(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new yF(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(gy(this._state)){case Vn.SUCCESS:Ml(this._resolve.bind(null,this.snapshot))();break;case Vn.CANCELED:case Vn.ERROR:const t=this._reject;Ml(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(gy(this._state)){case Vn.RUNNING:case Vn.PAUSED:e.next&&Ml(e.next.bind(e,this.snapshot))();break;case Vn.SUCCESS:e.complete&&Ml(e.complete.bind(e))();break;case Vn.CANCELED:case Vn.ERROR:e.error&&Ml(e.error.bind(e,this._error))();break;default:e.error&&Ml(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,t){this._service=e,t instanceof bn?this._location=t:this._location=bn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Oa(e,t)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LP(this._location.path)}get storage(){return this._service}get parent(){const e=Y6(this._location.path);if(e===null)return null;const t=new bn(this._location.bucket,e);return new Oa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw CP(e)}}function _F(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new UP(n,new Zi(e),t)}function xF(n){const e={prefixes:[],items:[]};return BP(n,e).then(()=>e)}async function BP(n,e,t){const i=await qP(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await BP(n,e,i.nextPageToken)}function qP(n,e){e!=null&&typeof e.maxResults=="number"&&gv("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=aF(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,xi)}function IF(n){n._throwIfRoot("getMetadata");const e=jP(n.storage,n._location,dm());return n.storage.makeRequestWithTokens(e,xi)}function bF(n,e){n._throwIfRoot("updateMetadata");const t=cF(n.storage,n._location,e,dm());return n.storage.makeRequestWithTokens(t,xi)}function EF(n){n._throwIfRoot("getDownloadURL");const e=lF(n.storage,n._location,dm());return n.storage.makeRequestWithTokens(e,xi).then(t=>{if(t===null)throw S6();return t})}function TF(n){n._throwIfRoot("deleteObject");const e=uF(n.storage,n._location);return n.storage.makeRequestWithTokens(e,xi)}function HP(n,e){const t=J6(n._location.path,e),r=new bn(n._location.bucket,t);return new Oa(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(n){return/^[A-Za-z]+:\/\//.test(n)}function PF(n,e){return new Oa(n,e)}function $P(n,e){if(n instanceof E_){const t=n;if(t._bucket==null)throw k6();const r=new Oa(t,t._bucket);return e!=null?$P(r,e):r}else return e!==void 0?HP(n,e):n}function SF(n,e){if(e&&kF(e)){if(n instanceof E_)return PF(n,e);throw Yl("To use ref(service, url), the first argument must be a Storage instance.")}else return $P(n,e)}function gb(n,e){const t=e?.[TP];return t==null?null:bn.makeFromBucketSpec(t,n)}function AF(n,e,t,r={}){n.host=`${e}:${t}`;const i=xo(e);i&&(Vv(`https://${n.host}/b`),Mv("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:gE(a,n.app.options.projectId))}class E_{constructor(e,t,r,i,a,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=EP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=g6,this._maxUploadRetryTime=y6,this._requests=new Set,i!=null?this._bucket=bn.makeFromBucketSpec(i,this._host):this._bucket=gb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=gb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(ft(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Oa(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new C6(AP());{const l=U6(e,this._appId,r,i,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const yb="@firebase/storage",vb="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF="storage";function RF(n,e,t){return n=we(n),_F(n,e,t)}function DF(n){return n=we(n),IF(n)}function NF(n,e){return n=we(n),bF(n,e)}function OF(n,e){return n=we(n),qP(n,e)}function VF(n){return n=we(n),xF(n)}function MF(n){return n=we(n),EF(n)}function LF(n){return n=we(n),TF(n)}function wb(n,e){return n=we(n),SF(n,e)}function FF(n,e){return HP(n,e)}function jF(n,e,t,r={}){AF(n,e,t,r)}function zF(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new E_(t,r,i,e,us)}function UF(){dr(new fn(CF,zF,"PUBLIC").setMultipleInstances(!0)),hn(yb,vb,""),hn(yb,vb,"esm2020")}UF();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ip(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new Ip(r,this,this._ref))},t)}on(e,t,r,i){let a;return t&&(typeof t=="function"?a=l=>t(new Ip(l,this,this._ref)):a={next:t.next?l=>t.next(new Ip(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class xb{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new rs(e,this._service))}get items(){return this._delegate.items.map(e=>new rs(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=FF(this._delegate,e);return new rs(t,this.storage)}get root(){return new rs(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new rs(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new _b(RF(this._delegate,e,t),this)}putString(e,t=Tr.RAW,r){this._throwIfRoot("putString");const i=NP(t,e),a={...r};return a.contentType==null&&i.contentType!=null&&(a.contentType=i.contentType),new _b(new UP(this._delegate,new Zi(i.data,!0),a),this)}listAll(){return VF(this._delegate).then(e=>new xb(e,this.storage))}list(e){return OF(this._delegate,e||void 0).then(t=>new xb(t,this.storage))}getMetadata(){return DF(this._delegate)}updateMetadata(e){return NF(this._delegate,e)}getDownloadURL(){return MF(this._delegate)}delete(){return this._throwIfRoot("delete"),LF(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw CP(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Ib(e))throw Yl("ref() expected a child path but got a URL, use refFromURL instead.");return new rs(wb(this._delegate,e),this)}refFromURL(e){if(!Ib(e))throw Yl("refFromURL() expected a full URL but got a child path, use ref() instead.");try{bn.makeFromUrl(e,this._delegate.host)}catch{throw Yl("refFromUrl() expected a valid full URL but got an invalid one.")}return new rs(wb(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){jF(this._delegate,e,t,r)}}function Ib(n){return/^[A-Za-z]+:\/\//.test(n)}const BF="@firebase/storage-compat",qF="0.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF="storage-compat";function $F(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new WP(t,r)}function WF(n){const e={TaskState:Vn,TaskEvent:gF,StringFormat:Tr,Storage:WP,Reference:rs};n.INTERNAL.registerComponent(new fn(HF,$F,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion(BF,qF)}WF(Tn);const GP="@firebase/installations",T_="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=1e4,QP=`w:${T_}`,YP="FIS_v2",GF="https://firebaseinstallations.googleapis.com/v1",KF=3600*1e3,QF="installations",YF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Va=new cs(QF,YF,JF);function JP(n){return n instanceof nn&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP({projectId:n}){return`${GF}/projects/${n}/installations`}function ZP(n){return{token:n.token,requestStatus:2,expiresIn:ZF(n.expiresIn),creationTime:Date.now()}}async function eS(n,e){const r=(await e.json()).error;return Va.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function tS({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function XF(n,{refreshToken:e}){const t=tS(n);return t.append("Authorization",ej(e)),t}async function nS(n){const e=await n();return e.status>=500&&e.status<600?n():e}function ZF(n){return Number(n.replace("s","000"))}function ej(n){return`${YP} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tj({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=XP(n),i=tS(n),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const l={fid:t,authVersion:YP,appId:n.appId,sdkVersion:QP},u={method:"POST",headers:i,body:JSON.stringify(l)},p=await nS(()=>fetch(r,u));if(p.ok){const f=await p.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:ZP(f.authToken)}}else throw await eS("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=/^[cdef][\w-]{21}$/,yv="";function ij(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=sj(n);return rj.test(t)?t:yv}catch{return yv}}function sj(n){return nj(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=new Map;function sS(n,e){const t=fm(n);oS(t,e),oj(t,e)}function oS(n,e){const t=iS.get(n);if(t)for(const r of t)r(e)}function oj(n,e){const t=aj();t&&t.postMessage({key:n,fid:e}),lj()}let ga=null;function aj(){return!ga&&"BroadcastChannel"in self&&(ga=new BroadcastChannel("[Firebase] FID Change"),ga.onmessage=n=>{oS(n.data.key,n.data.fid)}),ga}function lj(){iS.size===0&&ga&&(ga.close(),ga=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="firebase-installations-database",uj=1,Ma="firebase-installations-store";let yy=null;function k_(){return yy||(yy=PE(cj,uj,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ma)}}})),yy}async function gf(n,e){const t=fm(n),i=(await k_()).transaction(Ma,"readwrite"),a=i.objectStore(Ma),l=await a.get(t);return await a.put(e,t),await i.done,(!l||l.fid!==e.fid)&&sS(n,e.fid),e}async function aS(n){const e=fm(n),r=(await k_()).transaction(Ma,"readwrite");await r.objectStore(Ma).delete(e),await r.done}async function mm(n,e){const t=fm(n),i=(await k_()).transaction(Ma,"readwrite"),a=i.objectStore(Ma),l=await a.get(t),u=e(l);return u===void 0?await a.delete(t):await a.put(u,t),await i.done,u&&(!l||l.fid!==u.fid)&&sS(n,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P_(n){let e;const t=await mm(n.appConfig,r=>{const i=dj(r),a=hj(n,i);return e=a.registrationPromise,a.installationEntry});return t.fid===yv?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function dj(n){const e=n||{fid:ij(),registrationStatus:0};return lS(e)}function hj(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Va.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=pj(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:fj(n)}:{installationEntry:e}}async function pj(n,e){try{const t=await tj(n,e);return gf(n.appConfig,t)}catch(t){throw JP(t)&&t.customData.serverCode===409?await aS(n.appConfig):await gf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function fj(n){let e=await bb(n.appConfig);for(;e.registrationStatus===1;)await rS(100),e=await bb(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await P_(n);return r||t}return e}function bb(n){return mm(n,e=>{if(!e)throw Va.create("installation-not-found");return lS(e)})}function lS(n){return mj(n)?{fid:n.fid,registrationStatus:0}:n}function mj(n){return n.registrationStatus===1&&n.registrationTime+KP<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj({appConfig:n,heartbeatServiceProvider:e},t){const r=yj(n,t),i=XF(n,t),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const l={installation:{sdkVersion:QP,appId:n.appId}},u={method:"POST",headers:i,body:JSON.stringify(l)},p=await nS(()=>fetch(r,u));if(p.ok){const f=await p.json();return ZP(f)}else throw await eS("Generate Auth Token",p)}function yj(n,{fid:e}){return`${XP(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S_(n,e=!1){let t;const r=await mm(n.appConfig,a=>{if(!cS(a))throw Va.create("not-registered");const l=a.authToken;if(!e&&_j(l))return a;if(l.requestStatus===1)return t=vj(n,e),a;{if(!navigator.onLine)throw Va.create("app-offline");const u=Ij(a);return t=wj(n,u),u}});return t?await t:r.authToken}async function vj(n,e){let t=await Eb(n.appConfig);for(;t.authToken.requestStatus===1;)await rS(100),t=await Eb(n.appConfig);const r=t.authToken;return r.requestStatus===0?S_(n,e):r}function Eb(n){return mm(n,e=>{if(!cS(e))throw Va.create("not-registered");const t=e.authToken;return bj(t)?{...e,authToken:{requestStatus:0}}:e})}async function wj(n,e){try{const t=await gj(n,e),r={...e,authToken:t};return await gf(n.appConfig,r),t}catch(t){if(JP(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await aS(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await gf(n.appConfig,r)}throw t}}function cS(n){return n!==void 0&&n.registrationStatus===2}function _j(n){return n.requestStatus===2&&!xj(n)}function xj(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+KF}function Ij(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function bj(n){return n.requestStatus===1&&n.requestTime+KP<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ej(n){const e=n,{installationEntry:t,registrationPromise:r}=await P_(e);return r?r.catch(console.error):S_(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(n,e=!1){const t=n;return await kj(t),(await S_(t,e)).token}async function kj(n){const{registrationPromise:e}=await P_(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(n){if(!n||!n.options)throw vy("App Configuration");if(!n.name)throw vy("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw vy(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function vy(n){return Va.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="installations",Sj="installations-internal",Aj=n=>{const e=n.getProvider("app").getImmediate(),t=Pj(e),r=kf(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Cj=n=>{const e=n.getProvider("app").getImmediate(),t=kf(e,uS).getImmediate();return{getId:()=>Ej(t),getToken:i=>Tj(t,i)}};function Rj(){dr(new fn(uS,Aj,"PUBLIC")),dr(new fn(Sj,Cj,"PRIVATE"))}Rj();hn(GP,T_);hn(GP,T_,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="analytics",Dj="firebase_id",Nj="origin",Oj=60*1e3,Vj="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",A_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn=new Pd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ur=new cs("analytics","Analytics",Mj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(n){if(!n.startsWith(A_)){const e=ur.create("invalid-gtag-resource",{gtagURL:n});return sn.warn(e.message),""}return n}function dS(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Fj(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function jj(n,e){const t=Fj("firebase-js-sdk-policy",{createScriptURL:Lj}),r=document.createElement("script"),i=`${A_}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function zj(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Uj(n,e,t,r,i,a){const l=r[i];try{if(l)await e[l];else{const p=(await dS(t)).find(f=>f.measurementId===i);p&&await e[p.appId]}}catch(u){sn.error(u)}n("config",i,a)}async function Bj(n,e,t,r,i){try{let a=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const u=await dS(t);for(const p of l){const f=u.find(_=>_.measurementId===p),v=f&&e[f.appId];if(v)a.push(v);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,i||{})}catch(a){sn.error(a)}}function qj(n,e,t,r){async function i(a,...l){try{if(a==="event"){const[u,p]=l;await Bj(n,e,t,u,p)}else if(a==="config"){const[u,p]=l;await Uj(n,e,t,r,u,p)}else if(a==="consent"){const[u,p]=l;n("consent",u,p)}else if(a==="get"){const[u,p,f]=l;n("get",u,p,f)}else if(a==="set"){const[u]=l;n("set",u)}else n(a,...l)}catch(u){sn.error(u)}}return i}function Hj(n,e,t,r,i){let a=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=qj(a,n,e,t),{gtagCore:a,wrappedGtag:window[i]}}function $j(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(A_)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=30,Gj=1e3;class Kj{constructor(e={},t=Gj){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const hS=new Kj;function Qj(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Yj(n){const{appId:e,apiKey:t}=n,r={method:"GET",headers:Qj(t)},i=Vj.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let l="";try{const u=await a.json();u.error?.message&&(l=u.error.message)}catch{}throw ur.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function Jj(n,e=hS,t){const{appId:r,apiKey:i,measurementId:a}=n.options;if(!r)throw ur.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw ur.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new e9;return setTimeout(async()=>{u.abort()},Oj),pS({appId:r,apiKey:i,measurementId:a},l,u,e)}async function pS(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=hS){const{appId:a,measurementId:l}=n;try{await Xj(r,e)}catch(u){if(l)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:a,measurementId:l};throw u}try{const u=await Yj(n);return i.deleteThrottleMetadata(a),u}catch(u){const p=u;if(!Zj(p)){if(i.deleteThrottleMetadata(a),l)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:a,measurementId:l};throw u}const f=Number(p?.customData?.httpStatus)===503?o1(t,i.intervalMillis,Wj):o1(t,i.intervalMillis),v={throttleEndTimeMillis:Date.now()+f,backoffCount:t+1};return i.setThrottleMetadata(a,v),sn.debug(`Calling attemptFetch again in ${f} millis`),pS(n,v,r,i)}}function Xj(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(ur.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Zj(n){if(!(n instanceof nn)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class e9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function t9(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const a=await e,l={...r,send_to:a};n("event",t,l)}}async function n9(n,e,t,r){if(r&&r.global)return n("set",{screen_name:t}),Promise.resolve();{const i=await e;n("config",i,{update:!0,screen_name:t})}}async function r9(n,e,t,r){if(r&&r.global)return n("set",{user_id:t}),Promise.resolve();{const i=await e;n("config",i,{update:!0,user_id:t})}}async function i9(n,e,t,r){if(r&&r.global){const i={};for(const a of Object.keys(t))i[`user_properties.${a}`]=t[a];return n("set",i),Promise.resolve()}else{const i=await e;n("config",i,{update:!0,user_properties:t})}}async function s9(n,e){const t=await n;window[`ga-disable-${t}`]=!e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o9(){if(xa())try{await Fv()}catch(n){return sn.warn(ur.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return sn.warn(ur.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function a9(n,e,t,r,i,a,l){const u=Jj(n);u.then(I=>{t[I.measurementId]=I.appId,n.options.measurementId&&I.measurementId!==n.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>sn.error(I)),e.push(u);const p=o9().then(I=>{if(I)return r.getId()}),[f,v]=await Promise.all([u,p]);$j(a)||jj(a,f.measurementId),i("js",new Date);const _=l?.config??{};return _[Nj]="firebase",_.update=!0,v!=null&&(_[Dj]=v),i("config",f.measurementId,_),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l9=class{constructor(e){this.app=e}_delete(){return delete is[this.app.options.appId],Promise.resolve()}},is={},kb=[];const Pb={};let zp="dataLayer",fS="gtag",Sb,Yd,vv=!1;function c9(n){if(vv)throw ur.create("already-initialized");n.dataLayerName&&(zp=n.dataLayerName),n.gtagName&&(fS=n.gtagName)}function u9(){const n=[];if(Tf()&&n.push("This is a browser extension environment."),xE()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=ur.create("invalid-analytics-context",{errorInfo:e});sn.warn(t.message)}}function d9(n,e,t){u9();const r=n.options.appId;if(!r)throw ur.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ur.create("no-api-key");if(is[r]!=null)throw ur.create("already-exists",{id:r});if(!vv){zj(zp);const{wrappedGtag:a,gtagCore:l}=Hj(is,kb,Pb,zp,fS);Yd=a,Sb=l,vv=!0}return is[r]=a9(n,kb,Pb,e,Sb,zp,t),new l9(n)}async function h9(){if(Tf()||!xE()||!xa())return!1;try{return await Fv()}catch{return!1}}function p9(n,e,t){n=we(n),n9(Yd,is[n.app.options.appId],e,t).catch(r=>sn.error(r))}function f9(n,e,t){n=we(n),r9(Yd,is[n.app.options.appId],e,t).catch(r=>sn.error(r))}function m9(n,e,t){n=we(n),i9(Yd,is[n.app.options.appId],e,t).catch(r=>sn.error(r))}function g9(n,e){n=we(n),s9(is[n.app.options.appId],e).catch(t=>sn.error(t))}function mS(n,e,t,r){n=we(n),t9(Yd,is[n.app.options.appId],e,t,r).catch(i=>sn.error(i))}const Ab="@firebase/analytics",Cb="0.10.18";function y9(){dr(new fn(Tb,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return d9(r,i,t)},"PUBLIC")),dr(new fn("analytics-internal",n,"PRIVATE")),hn(Ab,Cb),hn(Ab,Cb,"esm2020");function n(e){try{const t=e.getProvider(Tb).getImmediate();return{logEvent:(r,i,a)=>mS(t,r,i,a)}}catch(t){throw ur.create("interop-component-reg-failed",{reason:t})}}}y9();const v9="@firebase/analytics-compat",w9="0.2.24";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,t){this.app=e,this._delegate=t}logEvent(e,t,r){mS(this._delegate,e,t,r)}setCurrentScreen(e,t){p9(this._delegate,e,t)}setUserId(e,t){f9(this._delegate,e,t)}setUserProperties(e,t){m9(this._delegate,e,t)}setAnalyticsCollectionEnabled(e){g9(this._delegate,e)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wv;(function(n){n.ADD_SHIPPING_INFO="add_shipping_info",n.ADD_PAYMENT_INFO="add_payment_info",n.ADD_TO_CART="add_to_cart",n.ADD_TO_WISHLIST="add_to_wishlist",n.BEGIN_CHECKOUT="begin_checkout",n.CHECKOUT_PROGRESS="checkout_progress",n.EXCEPTION="exception",n.GENERATE_LEAD="generate_lead",n.LOGIN="login",n.PAGE_VIEW="page_view",n.PURCHASE="purchase",n.REFUND="refund",n.REMOVE_FROM_CART="remove_from_cart",n.SCREEN_VIEW="screen_view",n.SEARCH="search",n.SELECT_CONTENT="select_content",n.SELECT_ITEM="select_item",n.SELECT_PROMOTION="select_promotion",n.SET_CHECKOUT_OPTION="set_checkout_option",n.SHARE="share",n.SIGN_UP="sign_up",n.TIMING_COMPLETE="timing_complete",n.VIEW_CART="view_cart",n.VIEW_ITEM="view_item",n.VIEW_ITEM_LIST="view_item_list",n.VIEW_PROMOTION="view_promotion",n.VIEW_SEARCH_RESULTS="view_search_results"})(wv||(wv={}));/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=n=>{const e=n.getProvider("app-compat").getImmediate(),t=n.getProvider("analytics").getImmediate();return new gS(e,t)};function x9(){const n={Analytics:gS,settings:c9,isSupported:h9,EventName:wv};Tn.INTERNAL.registerComponent(new fn("analytics-compat",_9,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}x9();Tn.registerVersion(v9,w9);const I9={apiKey:"AIzaSyBJIAxP7WoMK8AuSFz1QVKhxs1kcuu43Zw",authDomain:"i-love-pdfly.firebaseapp.com",projectId:"i-love-pdfly",storageBucket:"i-love-pdfly.appspot.com",messagingSenderId:"445098814659",appId:"1:445098814659:web:ea4d3d6fa9501d207f8676",measurementId:"G-6B54TL0D8K"};Tn.initializeApp(I9);const Ll=Tn.auth(),ta=Tn.firestore(),b9=Tn.storage();Tn.analytics.isSupported().then(n=>{n&&Tn.analytics()});const yS=L.createContext(void 0),E9=({children:n})=>{const[e,t]=L.useState(null),[r,i]=L.useState(!0);L.useEffect(()=>{Ll.getRedirectResult().catch(K=>{console.error("Firebase redirect result error:",K.code,K.message)});const C=Ll.onAuthStateChanged(async K=>{try{if(K){const J=ta.collection("users").doc(K.uid),Q=await J.get();if(Q.exists)t(Q.data());else{const se={uid:K.uid,username:K.displayName||K.email||"Anonymous",profileImage:K.photoURL||void 0,isPremium:!1,creationDate:K.metadata.creationTime||new Date().toISOString(),apiPlan:"free"};await J.set(se),t(se)}}else t(null)}catch(J){console.error("Auth state change error:",J),t(null)}finally{i(!1)}});return()=>C()},[]);const z={user:e,loading:r,logout:async()=>{sessionStorage.removeItem("isAdminAuthenticated"),await Ll.signOut()},updateProfileImage:async C=>{if(!e)throw new Error("No user is signed in.");const Q=await(await b9.ref(`profile_images/${e.uid}/${C.name}`).put(C)).ref.getDownloadURL(),se=Ll.currentUser;se&&await se.updateProfile({photoURL:Q}),await ta.collection("users").doc(e.uid).update({profileImage:Q}),t(_e=>_e?{..._e,profileImage:Q}:null)},getAllUsers:async()=>(await ta.collection("users").get()).docs.map(K=>K.data()),updateUserPremiumStatus:async(C,K)=>{await ta.collection("users").doc(C).update({isPremium:K})},updateUserApiPlan:async(C,K)=>{await ta.collection("users").doc(C).update({apiPlan:K})},deleteUser:async C=>{await ta.collection("users").doc(C).delete()},loginOrSignupWithGoogle:async()=>{const C=new Tn.auth.GoogleAuthProvider;await Ll.signInWithRedirect(C)},generateApiKey:async()=>{if(!e)throw new Error("You must be logged in.");const C="pdfly-mock-"+Array.from(crypto.getRandomValues(new Uint8Array(16))).map(K=>K.toString(16).padStart(2,"0")).join("");return await ta.collection("users").doc(e.uid).update({apiKey:C}),t(K=>K?{...K,apiKey:C}:null),C},getApiUsage:async()=>{if(!e)throw new Error("You must be logged in.");const C=e.apiPlan||"free",K={free:100,developer:1e3,business:1e4};return{count:Math.floor(Math.random()*K[C]),limit:K[C],resetsIn:"23h 59m"}},changePassword:async(C,K)=>{const J=Ll.currentUser;if(!J||!J.email)throw new Error("No user is signed in or user does not have an email address.");const Q=Tn.auth.EmailAuthProvider.credential(J.email,C);await J.reauthenticateWithCredential(Q),await J.updatePassword(K)}};return w.jsx(yS.Provider,{value:z,children:!r&&n})},C_=()=>{const n=L.useContext(yS);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},T9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M13 19V15H11V19H5V5H11V9H13V5H19V19H13ZM13 13V11H19V13H13ZM5 9V11H11V9H5Z"})}),k9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M11 15V13H5V15H11ZM11 11V9H5V11H11ZM11 7V5H5V7H11ZM19 13V5H13V13H19ZM19 19V17H5V19H19Z"})}),Rb=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M4 14h4v-4H4v4zm10 0h4v-4h-4v4zM4 21h4v-4H4v4zm10 0h4v-4h-4v4zM14 4V1h-4v3H4l8 8 8-8h-6z"})}),Db=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-1.5 14h-1l-1.5-3.48L8.5 16h-1l2.5-5L7.5 6h1.03l1.47 3.4L11.47 6H12.5l2.5 5-2.5 5z"})}),Nb=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-2 14h-2v-2h2v2zm0-4h-2V9h2v3z"})}),Ob=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-2 14h-4v-2h4v2zm0-4h-4v-2h4v2zm0-4h-4V6h4v2z"})}),P9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})}),Vb=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm-1.25 10.5H11v1h1.75c.41 0 .75-.34.75-.75s-.34-.75-.75-.75zm-1-2.25H11v1h1.75c.41 0 .75-.34.75-.75s-.34-.75-.75-.75zm-2 4.5h-.75v1.5h-1.5v-1.5H8v-4.5h3v4.5z"})}),Mb=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9.5 14.5v-1.25H8v-1.5h1.5V10.5h1.25v1.25h1.5v1.5h-1.5v1.25H9.5zm6.5 0h-3v-6h3v6zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z"})}),vS=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})}),wy=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})}),S9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"})}),A9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0l-3.75 3.75M12 9.75l3.75 3.75M17.25 21H6.75c-1.035 0-1.875-.84-1.875-1.875V15.75c0-1.035.84-1.875 1.875-1.875h10.5c1.035 0 1.875.84 1.875 1.875v3.375c0 1.035-.84 1.875-1.875-1.875z"})}),Vz=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),C9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"})}),Lb=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-3 14h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"})}),R9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M12,6V4.41A2,2,0,0,0,10.59,3L5,8.59V10H6.41L12,4.41V6A8,8,0,1,1,4,12H2A10,10,0,1,0,12,2Z"})}),D9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M8 10h1.5v1.5H8V10zm5.5 5H15v-1.5h-1.5V15zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM9.5 15H8v-1.5h1.5V15zm0-3H8V9h1.5v3zm3.5 3H12V9h1.5v6zm3.5-3h-1.5v-1.5H18V9h-3v6h1.5v-1.5H18v-3z"})}),N9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6z"})}),O9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"})}),V9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"})}),M9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9.5 15.5H8.75l-1.3-4H6.2l-1.3 4H4.15l2.2-6h1.25l2.2 6h-.3zm-2.5-5.2l-.55 2.1h1.1l-.55-2.1zm8 5.2h-.75l-1.3-4H11.7l-1.3 4h-.75l2.2-6h1.25l2.2 6zM4 22h14v-2H4V6H2v14c0 1.1.9 2 2 2z"})}),L9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M14.2,19.8l-2.8,2.8C11,22.9,10.5,23,10,23s-1-0.1-1.4-0.4l-5.6-5.6c-0.8-0.8-0.8-2,0-2.8l2.8-2.8L14.2,19.8z M21.4,12.6 l-5.6-5.6c-0.8-0.8-2-0.8-2.8,0l-2.8,2.8l8.4,8.4l2.8-2.8C22.2,14.6,22.2,13.4,21.4,12.6z M21.4,4.4C19.3,2.3,16.4,1.7,13.8,2.5 L15,3.7l-2.6,2.6l-1.4-1.4l-1.4,1.4l1.4,1.4L8.4,10.3l-1.2,1.2l-2.6-2.6L3.4,10C2.7,7.4,3.2,4.5,5.4,2.4s5.1-1.5,7.7-0.7 l1.2-1.2C15.6,0.2,17.1,0,18.5,0C20.6,0,22,1.4,22,3.5C22,4.9,21.8,6.4,21.4,7.6L22.6,8.8C23.5,6.2,23.1,3.4,21.4,4.4z"})}),F9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 11.5c0-.83.67-1.5 1.5-1.5H12V9h-2c-1.66 0-3 1.34-3 3s1.34 3 3 3h2v-1.5h-1.5c-.83 0-1.5-.67-1.5-1.5zm6.5 2.5h-3V9h3v5zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z"})}),j9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M4 6h16v2H4zm0 3h16v2H4zm0 3h16v2H4zm17 5H3c-.55 0-1 .45-1 1s.45 1 1 1h18c.55 0 1-.45 1-1s-.45-1-1-1z"})}),Fb=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 14H10v-3.5h1.5v3.5zm3.5 0h-1.5v-3.5H15v3.5zm3.5 0h-1.5V9H17v7zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z"})}),z9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M10 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h5v2h2V1h-2v2zm0 15H5l5-4v4zm0-5.5L5 9h5v3.5zM19 3h-5v2h5v14h-5v2h5c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})}),U9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 12h16V6H4v6zm0 6h16v-4H4v4z"})}),jb=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M17 15h2V7c0-1.1-.9-2-2-2H9v2h8v8zM7 17V1H5v4H1v2h4v10c0 1.1.9 2 2 2h10v4h2v-4h4v-2H7z"})}),B9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-6.364-.386l1.591-1.591M3 12h2.25m.386-6.364l1.591 1.591M12 12a4.5 4.5 0 000 9 4.5 4.5 0 000-9z"})}),q9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})}),H9=({className:n})=>w.jsxs("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M16.75,13.96C17,14.23 17,14.89 16.74,15.82C16.45,16.82 15.3,17.5 15.06,17.56C14.82,17.62 12.06,18.5 9.38,15.89C6.7,13.28 5.8,10.5 5.86,10.26C5.92,10.02 6.53,8.73 7.3,7.96C7.58,7.68 7.82,7.67 8,7.67C8.18,7.67 8.35,7.67 8.5,7.67C8.65,7.67 8.79,7.72 8.95,8.03C9.11,8.34 9.53,9.45 9.59,9.58C9.65,9.71 9.7,9.81 9.62,9.97C9.54,10.13 9.42,10.23 9.27,10.39C9.12,10.54 9,10.68 8.86,10.82C8.72,10.96 8.59,11.11 8.75,11.39C8.91,11.67 9.43,12.24 10.15,13.12C11.11,14.03 11.9,14.34 12.2,14.45C12.5,14.56 12.68,14.53 12.85,14.35C13.02,14.17 13.33,13.78 13.53,13.51C13.73,13.24 13.95,13.2 14.15,13.26C14.35,13.32 15.45,13.85 15.7,13.96C15.95,14.07 16.11,14.11 16.19,14.2C16.27,14.29 16.5,14.53 16.75,13.96Z",fillRule:"evenodd",clipRule:"evenodd"}),w.jsx("path",{d:"M12,2C6.48,2 2,6.48 2,12C2,14.08 2.59,16.03 3.61,17.69L2,22L6.45,20.44C7.99,21.41 9.8,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2ZM12,20C10.04,20 8.18,19.43 6.64,18.4L6.28,18.18L4.07,18.84L4.75,16.68L4.5,16.32C3.58,14.83 3,13.04 3,12C3,7.03 7.03,3 12,3C16.97,3 21,7.03 21,12C21,16.97 16.97,20 12,20Z",fillRule:"evenodd",clipRule:"evenodd"})]}),$9=({className:n})=>w.jsx("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.879V14.89h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.989C18.343 21.128 22 16.991 22 12z"})}),W9=({className:n})=>w.jsx("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M21.582,6.186c-0.23-0.86-0.908-1.538-1.768-1.768C18.267,4,12,4,12,4S5.733,4,4.186,4.418 c-0.86,0.23-1.538,0.908-1.768,1.768C2,7.733,2,12,2,12s0,4.267,0.418,5.814c0.23,0.86,0.908,1.538,1.768,1.768 C5.733,20,12,20,12,20s6.267,0,7.814-0.418c0.861-0.23,1.538-0.908,1.768-1.768C22,16.267,22,12,22,12S22,7.733,21.582,6.186z M10,15.464V8.536L16,12L10,15.464z"})}),Mz=({className:n})=>w.jsx("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M19 3a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h14zm-11 6H5v10h3V9zM6.5 6.732a1.732 1.732 0 100-3.464 1.732 1.732 0 000 3.464zM18 19h-3v-4.74c0-1.42-.6-1.927-1.421-1.927-.927 0-1.25.734-1.455 1.313-.075.207-.095.49-.095.772V19h-3V9h3v1.322c.49-.781 1.2-1.322 2.754-1.322C17.388 9 18 10.59 18 13.236V19z"})}),Lz=({className:n})=>w.jsx("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),Fz=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM8.5 12.5h2v-2h-2v2zm3 3h2v-2h-2v2zm3-3h2v-2h-2v2zm-6-3h2V7.5h-2V9.5z"})}),ua=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),jz=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2 .01 7z"})}),zz=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})}),Uz=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})}),Bz=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.49 6-3.31 6-6.72h-1.7z"})}),G9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 13c-2.67 0-8 1.34-8 4v1h16v-1c0-2.66-5.33-4-8-4z"})}),K9=({className:n})=>w.jsxs("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:[w.jsx("circle",{cx:"12",cy:"12",r:"3.2"}),w.jsx("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})]}),Q9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"})}),Y9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"})}),J9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})}),qz=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})}),wS=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})}),Hz=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L8 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1h-2v-2h2c.55 0 1-.45 1-1V8h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"})}),X9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})}),$z=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.539 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.539-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),Wz=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-6-2c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2zm6 16H6V8h2v2c0 .55.45 1 1 1s1-.45 1-1V8h4v2c0 .55.45 1 1 1s1-.45 1-1V8h2v12z"})}),Gz=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"})}),Kz=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM9 8V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9z"})}),Z9=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z"})}),e8=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"})}),yf=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"})}),_S=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M15 7.5V2H9v5.5l3 3 3-3zM7.5 9H2v6h5.5l3-3-3-3zM9 16.5V22h6v-5.5l-3-3-3 3zM16.5 9l-3 3 3 3H22V9h-5.5z"})}),Qz=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M9.6 4.31c.4-.24.85-.31 1.29-.31s.89.07 1.29.31C13.06 4.96 14 6.13 14 8c0 1.05-.48 2.33-1.09 3.39l-1.01 1.77.83 1.34c.59.95.87 1.94.87 2.87 0 .58-.1.97-.28 1.45-.07.18-.16.35-.27.52h-2.1c.14-.2.25-.41.25-.64 0-.63-.26-1.32-.82-2.24l-.87-1.4-1.12 1.87C6.48 18.67 6 19.95 6 21c0 .23.11.44.25.64H4.15c-.11-.17-.2-.34-.27-.52-.18-.48-.28-.87-.28-1.45 0-.93.28-1.92.87-2.87l.83-1.34-1.01-1.77C3.48 10.33 3 9.05 3 8c0-1.87.94-3.04 1.81-3.69.4-.24.85-.31 1.29-.31s.89.07 1.29.31C8.27 4.96 9 6.13 9 8c0 .28.02.58.07.89l.86-1.5c.35-.63.95-1.54 1.02-2.73-.02-.85-.31-1.58-.95-2.35z"})}),Yz=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 4c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0 4.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zm3.5 1.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm-7 0c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0-4.5c.83 0 1.5.67 1.5 1.5S7.83 10 7 10s-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zm7 4.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5z"})}),Jz=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})}),Xz=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M5 9.2h3V19H5zM10.6 5h2.8v14h-2.8zm5.6 8H19v6h-2.8z"})}),t8=({className:n})=>w.jsxs("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[w.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z",fill:"currentColor"}),w.jsx("path",{d:"M3 3h18v18H3z",stroke:"currentColor",fill:"none",strokeWidth:"1.5",strokeDasharray:"3 3"})]}),xS=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),Zz=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})}),n8=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M1 21h12v2H1zM17.42.6 12 6.01 17.99 12l.01.01 5.42-5.41-6-6zM13.41 4.2 15 2.61l4.2 4.2-1.59 1.59-4.2-4.2z"})}),r8=({className:n})=>w.jsxs("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:[w.jsx("path",{d:"M21.05,11.05l-2.1-2.1C18.57,8.57,17.79,8,16.95,8c-1.8,0-3.27,1.47-3.27,3.27c0,0.43,0.08,0.84,0.24,1.23l-2.43,2.43 C11.31,14.58,10.9,14.5,10.45,14.5c-1.8,0-3.27,1.47-3.27,3.27s1.47,3.27,3.27,3.27s3.27-1.47,3.27-3.27c0-0.43-0.08-0.84-0.24-1.23l2.43-2.43c0.39,0.16,0.8,0.24,1.23,0.24c1.8,0,3.27-1.47,3.27-3.27C22,12.21,21.73,11.43,21.05,11.05z M10.45,19.04 c-0.98,0-1.77-0.79-1.77-1.77s0.79-1.77,1.77-1.77s1.77,0.79,1.77,1.77S11.43,19.04,10.45,19.04z M16.95,13.54 c-0.98,0-1.77-0.79-1.77-1.77s0.79-1.77,1.77-1.77s1.77,0.79,1.77,1.77S17.93,13.54,16.95,13.54z"}),w.jsx("path",{d:"M3,12h3v2H3V12z M8,7h3v2H8V7z M12,2h3v2h-3V2z"})]}),eU=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M7,19H5v-2h2V19z M7,15H5v-2h2V15z M7,11H5V9h2V11z M7,7H5V5h2V7z M11,19H9v-2h2V19z M11,15H9v-2h2V15z M11,11H9V9h2V11z M11,7H9V5h2V7z M15,19h-2v-2h2V19z M15,15h-2v-2h2V15z M19,19h-2v-2h2V19z M19,15h-2v-2h2V15z M19,11h-4V5h4V11z"})}),tU=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"})}),nU=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"})}),i8=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c2.15-.45 3.5-1.78 3.5-3.71 0-2.02-1.47-3.5-4.2-4.24z"})}),rU=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"})}),iU=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-2zM8 11h8v2H8v-2z"})}),s8=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M8 11.5c.83 0 1.5-.67 1.5-1.5S8.83 8.5 8 8.5s-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM16 11.5c.83 0 1.5-.67 1.5-1.5S16.83 8.5 16 8.5s-1.5.67-1.5 1.5.67 1.5 1.5 1.5zm-4-4c.83 0 1.5-.67 1.5-1.5S12.83 4.5 12 4.5s-1.5.67-1.5 1.5.67 1.5 1.5 1.5zm0 10c.83 0 1.5-.67 1.5-1.5s-.83-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9.41 14.59 7.33 16.67l-2.08-2.08L6.67 16l-2.08 2.08L6 19.5l2.08-2.08L9.5 19.5l2.08-2.08L10.08 16l2.09-2.09L10.83 12.5l-2.08 2.09c-.19.2-.19.51 0 .71z M17.34 7.34l-2.09-2.09L13.83 6.7l2.09 2.09-2.09 2.09L15.25 12.3l2.09-2.09 2.09 2.09 1.41-1.41-2.08-2.08 2.08-2.08-1.41-1.41z"})}),sU=({className:n})=>w.jsxs("svg",{className:n,viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12
      c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24
      c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`}),w.jsx("path",{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657
      C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`}),w.jsx("path",{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36
      c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`}),w.jsx("path",{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.574
      l6.19,5.238C39.99,34.53,44,29.891,44,24C44,22.659,43.862,21.35,43.611,20.083z`})]}),oU=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.02.74-.25 1.02l-2.2 2.2z"})}),aU=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"})}),o8=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75c-.37.34-.67.63-.9.88-.23.25-.4.52-.52.81-.12.29-.18.6-.18.96h-2v-.5c0-.42.06-.82.18-1.2.12-.38.3-.73.55-1.05.25-.32.55-.6.9-.88.35-.28.66-.52.91-.73.25-.21.45-.41.59-.59.14-.18.21-.39.21-.61 0-.4-.15-.72-.44-1-.29-.28-.68-.42-1.16-.42-.51 0-.92.14-1.23.43-.31.29-.5.67-.58 1.14L9 11.5C9.08 10.5 9.5 9.7 10.2 9.07c.7-.63 1.6-1 2.7-1 .8 0 1.5.19 2.1.58.6.39.9.91.9 1.56 0 .4-.1.76-.3 1.08-.2.32-.47.61-.83.87z"})}),a8=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 14H7v-2h10v2zm0-4H7v-2h10v2zm0-4H7V7h10v2z"})}),lU=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),cU=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),uU=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),dU=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zM16 19H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zM18 3H6v4h12V3z"})}),hU=({className:n})=>w.jsx("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"})}),pU=({className:n})=>w.jsx("svg",{className:n,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"})}),l8=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm-3 13.5h-1v-4H8V17h1v-2h1c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5zm3.5 1.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5H13v3h1.5v-1.5z"})}),c8=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zM9.5 15.5H8V9h3.5c.83 0 1.5.67 1.5 1.5S12.33 12 11.5 12H9.5v1.5h2V15h-2v.5zm4.5 0h-1.5V9H14v1.5h1v-1.5h1v6h-1v-1.5zm3-1.5h-1.5v-1H17v1z"})}),u8=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 12c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm6 6H3v-1.2c0-2 4-3.1 6-3.1s6 1.1 6 3.1V18zm-2-8h6v2h-6v-2zm0 4h6v2h-6v-2z"})}),Ys=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"})}),d8=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:w.jsx("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-2 12h-2v-2h-2v2h-2v-2h-2v-2h2v-2h2v2h2v-2h2v2h-2v2h2v2zm-4-4h-2v-2h2v2z"})}),zb=({className:n})=>w.jsx("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"})}),_v=[{id:"merge-pdf",title:"Merge PDF",description:"Combine multiple PDFs into one single document, in the exact order you want. The easiest way to merge PDFs online, trusted by thousands.",Icon:T9,color:"bg-orange-500",hoverColor:"hover:bg-orange-600",textColor:"text-orange-500",category:"organize",api:{category:"pdf"}},{id:"split-pdf",title:"Split PDF",description:"Separate one page or a whole set for easy conversion into independent PDF files.",Icon:k9,color:"bg-orange-500",hoverColor:"hover:bg-orange-600",textColor:"text-orange-500",category:"organize",api:{category:"pdf"}},{id:"organize-pdf",title:"Organize PDF",description:"Sort pages of your PDF file however you like. Delete PDF pages or add PDF pages to your document at your convenience.",Icon:V9,color:"bg-orange-600",hoverColor:"hover:bg-orange-700",textColor:"text-orange-600",category:"organize",api:{category:"pdf"}},{id:"rotate-pdf",title:"Rotate PDF",description:"Rotate your PDFs the way you need them. You can even rotate multiple PDFs at once!",Icon:R9,color:"bg-indigo-500",hoverColor:"hover:bg-indigo-600",textColor:"text-indigo-500",category:"organize",api:{category:"pdf"}},{id:"zip-maker",title:"Create ZIP file",description:"Easily create a ZIP archive from multiple files or an entire folder.",Icon:d8,color:"bg-amber-600",hoverColor:"hover:bg-amber-700",textColor:"text-amber-600",category:"organize",isNew:!0,accept:{},api:{category:"utility"}},{id:"compress-pdf",title:"Compress PDF",description:"Drastically reduce the file size of your PDF documents while maintaining the best quality. Our PDF compressor makes sharing files easy.",Icon:Rb,color:"bg-green-500",hoverColor:"hover:bg-green-600",textColor:"text-green-500",category:"optimize",api:{category:"pdf"}},{id:"repair-pdf",title:"Repair PDF",description:"Repair a damaged PDF and recover data from corrupt PDF. Fix PDF files with our Repair tool.",Icon:L9,color:"bg-lime-600",hoverColor:"hover:bg-lime-700",textColor:"text-lime-600",isPremium:!0,category:"optimize",api:{category:"pdf"}},{id:"resize-file",title:"Resize File",description:"Change the file size of images or PDFs by adjusting quality and compression.",Icon:zb,color:"bg-cyan-600",hoverColor:"hover:bg-cyan-700",textColor:"text-cyan-600",category:"optimize",isNew:!0,accept:{"image/*":[".png",".jpg",".jpeg"],"application/pdf":[".pdf"]},api:{category:"utility"}},{id:"jpg-to-pdf",title:"JPG to PDF",description:"Convert JPG, PNG, and other image files to PDF in seconds. Easily adjust orientation, margins, and combine multiple images into one PDF.",Icon:Mb,color:"bg-yellow-500",hoverColor:"hover:bg-yellow-600",textColor:"text-yellow-500",isNew:!0,category:"convert-to",accept:{"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"]},api:{category:"pdf"}},{id:"psd-to-pdf",title:"PSD to PDF",description:"Convert Adobe Photoshop files (PSD) to PDF documents easily.",Icon:l8,color:"bg-sky-600",hoverColor:"hover:bg-sky-700",textColor:"text-sky-600",isNew:!0,category:"convert-to",accept:{"image/vnd.adobe.photoshop":[".psd"],"application/octet-stream":[".psd"]},api:{category:"pdf"}},{id:"word-to-pdf",title:"Word to PDF",description:"Make DOC and DOCX files easy to read by converting them to PDF.",Icon:Db,color:"bg-blue-500",hoverColor:"hover:bg-blue-600",textColor:"text-blue-500",category:"convert-to",accept:{"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"]},api:{category:"pdf"}},{id:"powerpoint-to-pdf",title:"PowerPoint to PDF",description:"Make PPT and PPTX slideshows easy to view by converting them to PDF.",Icon:Nb,color:"bg-red-500",hoverColor:"hover:bg-red-600",textColor:"text-red-500",category:"convert-to",accept:{"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"]},api:{category:"pdf"}},{id:"excel-to-pdf",title:"Excel to PDF",description:"Make EXCEL spreadsheets easy to read by converting them to PDF.",Icon:Ob,color:"bg-green-700",hoverColor:"hover:bg-green-800",textColor:"text-green-700",category:"convert-to",accept:{"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]},api:{category:"pdf"}},{id:"html-to-pdf",title:"HTML to PDF",description:"Convert webpages in HTML to PDF. Copy and paste the URL of the page you want and convert it to PDF with a click.",Icon:D9,color:"bg-yellow-600",hoverColor:"hover:bg-yellow-700",textColor:"text-yellow-600",category:"convert-to",api:{category:"pdf"}},{id:"scan-to-pdf",title:"Scan to PDF",description:"Turn your phone into a document scanner. Capture, edit, and correct the perspective of your documents to create high-quality scans.",Icon:j9,color:"bg-amber-500",hoverColor:"hover:bg-amber-600",textColor:"text-amber-500",isNew:!0,category:"convert-to"},{id:"pdf-to-jpg",title:"PDF to JPG",description:"Convert each PDF page into a JPG or extract all images contained in a PDF.",Icon:Vb,color:"bg-yellow-500",hoverColor:"hover:bg-yellow-600",textColor:"text-yellow-500",category:"convert-from",api:{category:"pdf"}},{id:"pdf-to-png",title:"PDF to PNG",description:"Convert each PDF page into a high-quality PNG image.",Icon:c8,color:"bg-lime-500",hoverColor:"hover:bg-lime-600",textColor:"text-lime-500",isNew:!0,category:"convert-from",api:{category:"pdf"}},{id:"pdf-to-word",title:"PDF to Word",description:"Turn your PDF into an editable DOCX file. Our PDF to Word converter accurately preserves formatting, tables, and text.",Icon:Db,color:"bg-blue-500",hoverColor:"hover:bg-blue-600",textColor:"text-blue-500",category:"convert-from",api:{category:"pdf"}},{id:"pdf-to-powerpoint",title:"PDF to PowerPoint",description:"Turn your PDF files into easy to edit PPT and PPTX slideshows.",Icon:Nb,color:"bg-red-500",hoverColor:"hover:bg-red-600",textColor:"text-red-500",isPremium:!0,category:"convert-from",api:{category:"pdf"}},{id:"pdf-to-excel",title:"PDF to Excel",description:"Pull data straight from your PDFs into editable Excel spreadsheets. Convert PDF tables to XLS with just a few clicks.",Icon:Ob,color:"bg-green-700",hoverColor:"hover:bg-green-800",textColor:"text-green-700",category:"convert-from",api:{category:"pdf"}},{id:"pdf-to-pdfa",title:"PDF to PDF/A",description:"Transform your PDF to PDF/A, the ISO-standardized version for long-term archiving.",Icon:M9,color:"bg-slate-500",hoverColor:"hover:bg-slate-600",textColor:"text-slate-500",category:"convert-from",api:{category:"pdf"}},{id:"extract-text",title:"Extract text",description:"Extract all text from a PDF file to a TXT file.",Icon:Fb,color:"bg-red-400",hoverColor:"hover:bg-red-500",textColor:"text-red-400",category:"convert-from",api:{category:"pdf"}},{id:"edit-pdf",title:"Edit PDF",description:"Add text, images, shapes or freehand annotations to a PDF document.",Icon:P9,color:"bg-purple-500",hoverColor:"hover:bg-purple-600",textColor:"text-purple-500",isPremium:!0,isNew:!0,category:"edit",api:{category:"pdf"}},{id:"page-numbers",title:"Page numbers",description:"Add page numbers into PDFs with ease. Choose your positions, dimensions, typography.",Icon:F9,color:"bg-fuchsia-500",hoverColor:"hover:bg-fuchsia-600",textColor:"text-fuchsia-500",isPremium:!0,category:"edit",api:{category:"pdf"}},{id:"crop-pdf",title:"Crop PDF",description:"Crop margins of PDF files to change the page size or remove unwanted areas.",Icon:jb,color:"bg-rose-500",hoverColor:"hover:bg-rose-600",textColor:"text-rose-500",isPremium:!0,category:"edit",api:{category:"pdf"}},{id:"ocr-pdf",title:"OCR PDF",description:"Easily convert scanned PDF into searchable and selectable documents.",Icon:Fb,color:"bg-teal-500",hoverColor:"hover:bg-teal-600",textColor:"text-teal-500",isPremium:!0,category:"edit",api:{category:"pdf"}},{id:"compare-pdf",title:"Compare PDF",description:"Show a side-by-side comparison of two PDF files to spot the differences.",Icon:z9,color:"bg-sky-500",hoverColor:"hover:bg-sky-600",textColor:"text-sky-500",isPremium:!0,category:"edit",api:{category:"pdf"}},{id:"redact-pdf",title:"Redact PDF",description:"Redact text and graphics from your PDF to permanently remove sensitive information.",Icon:U9,color:"bg-slate-700",hoverColor:"hover:bg-slate-800",textColor:"text-slate-700",isPremium:!0,category:"edit",api:{category:"pdf"}},{id:"ai-question-generator",title:"AI Question Generator",description:"Automatically create questions from any text using AI. Perfect for study guides and quizzes.",Icon:o8,color:"bg-purple-600",hoverColor:"hover:bg-purple-700",textColor:"text-purple-600",isNew:!0,category:"edit"},{id:"invoice-generator",title:"Invoice Generator",description:"Create professional invoices for free. Customize with your logo, add items, and download as PDF.",Icon:a8,color:"bg-teal-500",hoverColor:"hover:bg-teal-600",textColor:"text-teal-500",isNew:!0,category:"business"},{id:"cv-generator",title:"CV Generator",description:"Create a professional CV by providing your details. Choose from multiple templates and download as a PDF.",Icon:u8,color:"bg-cyan-600",hoverColor:"hover:bg-cyan-700",textColor:"text-cyan-600",isNew:!0,category:"business"},{id:"lesson-plan-creator",title:"Lesson Plan Creator",description:"Create detailed, engaging lesson plans for any subject in seconds. Let AI build a plan with activities, assessments, and homework.",Icon:yf,color:"bg-indigo-500",hoverColor:"hover:bg-indigo-600",textColor:"text-indigo-500",isNew:!0,category:"business"},{id:"unlock-pdf",title:"Unlock PDF",description:"Remove PDF password security, giving you the freedom to use your PDFs as you want.",Icon:N9,color:"bg-cyan-500",hoverColor:"hover:bg-cyan-600",textColor:"text-cyan-500",category:"security",api:{category:"pdf"}},{id:"protect-pdf",title:"Protect PDF",description:"Protect PDF files with a password. Encrypt PDF documents to prevent unauthorized access.",Icon:O9,color:"bg-blue-800",hoverColor:"hover:bg-blue-900",textColor:"text-blue-800",category:"security",api:{category:"pdf"}},{id:"sign-pdf",title:"Sign PDF",description:"Sign yourself or request electronic signatures from others.",Icon:C9,color:"bg-blue-600",hoverColor:"hover:bg-blue-700",textColor:"text-blue-600",isPremium:!0,category:"security",api:{category:"signature"}},{id:"watermark-pdf",title:"Watermark",description:"Stamp an image or text over your PDF in seconds. Choose the typography, transparency and position.",Icon:Lb,color:"bg-purple-500",hoverColor:"hover:bg-purple-600",textColor:"text-purple-500",category:"security",api:{category:"pdf"}},{id:"resize-image",title:"Resize image",description:"Define your dimensions, by percentage or pixel, and resize your JPG, PNG, and GIF images.",Icon:zb,color:"bg-blue-400",hoverColor:"hover:bg-blue-500",textColor:"text-blue-400",category:"edit",accept:{"image/*":[".png",".jpg",".jpeg",".gif"]},api:{category:"image"}},{id:"remove-background",title:"Remove Background",description:"Automatically remove the background from any image with a single click.",Icon:t8,color:"bg-green-400",hoverColor:"hover:bg-green-500",textColor:"text-green-400",category:"edit",accept:{"image/*":[".png",".jpg",".jpeg",".webp"]},api:{category:"image"}},{id:"crop-image",title:"Crop image",description:"Crop JPG, PNG, or GIFs with ease.",Icon:jb,color:"bg-red-400",hoverColor:"hover:bg-red-500",textColor:"text-red-400",category:"edit",accept:{"image/*":[".png",".jpg",".jpeg",".gif"]},api:{category:"image"}},{id:"convert-to-jpg",title:"Convert to JPG",description:"Convert PNG, GIF, TIF, PSD, SVG, WEBP or RAW to JPG.",Icon:Mb,color:"bg-yellow-400",hoverColor:"hover:bg-yellow-500",textColor:"text-yellow-400",category:"convert-to",accept:{"image/*":[".png",".gif",".tif",".tiff",".psd",".svg",".webp"]},api:{category:"image"}},{id:"convert-from-jpg",title:"Convert from JPG",description:"Convert from JPG to PNG or GIF.",Icon:Vb,color:"bg-yellow-400",hoverColor:"hover:bg-yellow-500",textColor:"text-yellow-400",category:"convert-from",accept:{"image/jpeg":[".jpg",".jpeg"]},api:{category:"image"}},{id:"compress-image",title:"Compress Image",description:"Reduce file size while optimizing for maximal image quality.",Icon:Rb,color:"bg-green-400",hoverColor:"hover:bg-green-500",textColor:"text-green-400",category:"optimize",accept:{"image/*":[".png",".jpg",".jpeg"]},api:{category:"image"}},{id:"watermark-image",title:"Watermark Image",description:"Stamp an image or text over your images in seconds.",Icon:Lb,color:"bg-purple-400",hoverColor:"hover:bg-purple-500",textColor:"text-purple-400",category:"edit",accept:{"image/*":[".png",".jpg",".jpeg"]},api:{category:"image"}}],h8=[{slug:"neb-class-12-result-2081-2082",title:"NEB Class 12 Result 2082/2081 (2025): The Ultimate Guide to Check Your Marksheet Online",date:"July 15, 2025",excerpt:"The complete guide to checking your NEB Class 12 Result for 2081/2082. Find official websites like neb.gov.np and ntc.net.np, SMS methods, IVR, and step-by-step instructions to view your results with marksheet. Understand the new grading system and get answers to all your FAQs. Your one-stop resource for the 2025 NEB results is here.",content:`The long wait is almost over for the hundreds of thousands of students who appeared for the National Examinations Board (NEB) Class 12 examinations in 2081/2082. This result is a pivotal moment, serving as the gateway to higher education and future career paths. The anticipation can be overwhelming, with students and parents eagerly searching for the fastest and most reliable ways to check the results. To ease this process, we have created the ultimate, comprehensive guide with all the verified information you need to check your NEB Class 12 Result 2081/2082 the moment it is published.

This guide provides direct links to official websites, step-by-step instructions for checking results via SMS, IVR, and USSD, and detailed information on the latest grading system. We understand that on result day, official websites can be slow or unresponsive due to high traffic. That's why we've compiled a list of alternative methods and multiple web portals to ensure you get your result without delay.

<a href="https://neb.ntc.net.np/" target="_blank" rel="noopener noreferrer" class="inline-block bg-brand-red hover:bg-brand-red-dark text-white font-bold py-3 px-8 rounded-lg my-6 no-underline text-lg">Check NEB Class 12 Result Now</a>

<h2>When Will the NEB Class 12 Result 2081/2082 Be Published?</h2>
<p>While the National Examinations Board (NEB) has not announced an exact date, based on previous years' trends, the results for the Class 12 examinations are typically published by the end of Shrawan or the first week of Bhadra. The board is currently in the final stages of checking and tabulating the results. We recommend students to stay updated through the official NEB website (neb.gov.np) and reliable news portals. You can also bookmark this page, as we will update it with the latest information as soon as it becomes available.</p>

<h2>5 Easy Methods to Check Your NEB Class 12 Result</h2>
<p>Here are the most reliable and fastest methods to check your result with your marksheet. Make sure you have your Symbol Number and Date of Birth (in BS format: YYYY-MM-DD) ready.</p>

<h3>1. Official Websites</h3>
<p>The most reliable way to check your NEB result is by visiting the official websites. This method provides a complete marksheet which you can download and print.</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li>Go to one of the official websites listed in the table below.</li>
    <li>Look for the link that says "NEB Class 12 Result 2081" or something similar.</li>
    <li>Enter your Symbol Number and Date of Birth (in BS format).</li>
    <li>Click the "Submit" or "View Result" button.</li>
    <li>Your result, along with a detailed marksheet, will appear on the screen. It is highly recommended to download or print it for future reference.</li>
</ol>
<div class="overflow-x-auto my-4 rounded-lg border border-gray-200 dark:border-gray-700">
  <table class="min-w-full bg-white dark:bg-black">
    <thead class="bg-gray-100 dark:bg-gray-800">
      <tr>
        <th class="px-4 py-3 text-left font-semibold text-gray-700 dark:text-gray-200">Website Name</th>
        <th class="px-4 py-3 text-left font-semibold text-gray-700 dark:text-gray-200">URL</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
      <tr><td class="px-4 py-2">NEB Official Website</td><td class="px-4 py-2"><a href="http://www.neb.gov.np" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">www.neb.gov.np</a></td></tr>
      <tr><td class="px-4 py-2">Nepal Telecom Portal</td><td class="px-4 py-2"><a href="http://neb.ntc.net.np" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">neb.ntc.net.np</a></td></tr>
      <tr><td class="px-4 py-2">I Love PDFLY Result Hub</td><td class="px-4 py-2"><a href="https://ilovepdfly.com/blog/neb-class-12-result-2081-2082" class="text-brand-red hover:underline">ilovepdfly.com (You are here!)</a></td></tr>
      <tr><td class="px-4 py-2">Edusanjal</td><td class="px-4 py-2"><a href="http://see.edusanjal.com" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">see.edusanjal.com</a></td></tr>
      <tr><td class="px-4 py-2">Kantipur Publications</td><td class="px-4 py-2"><a href="http://results.ekantipur.com/" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">results.ekantipur.com</a></td></tr>
    </tbody>
  </table>
</div>

<h3>2. SMS Method (Nepal Telecom)</h3>
<p>If you dont have internet access or if the websites are down, you can easily check your result by sending an SMS from your NTC SIM card.</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li>Open your phones messaging app.</li>
    <li>Compose a new message and type: <strong>NEB &lt;space&gt; Your_Symbol_Number</strong></li>
    <li>Send the message to <strong>1600</strong>.</li>
    <li>For example: If your symbol number is 12345678, you would type <strong>NEB 12345678</strong>.</li>
    <li>Shortly after, you will receive an SMS with your GPA and overall result.</li>
</ol>
<div class="my-4 p-4 bg-yellow-100 dark:bg-yellow-900/50 border-l-4 border-yellow-400 text-yellow-800 dark:text-yellow-300">
    <strong>Did You Know?</strong> Over 400,000 students appear for the NEB Class 12 exam every year in Nepal. Thats why websites often slow down or crash on result day. Using SMS, USSD, or apps like Khalti and eSewa can help you get results faster without delay!
</div>


<h3>3. IVR Method (Interactive Voice Response)</h3>
<p>Another offline option is to call the IVR system from any NTC mobile or landline to listen to your result.</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li>Dial <strong>1601</strong> from your NTC phone.</li>
    <li>Follow the voice instructions provided by the operator.</li>
    <li>Enter your symbol number when prompted.</li>
    <li>Wait for a few moments as the system announces your result.</li>
</ol>

<h3>4. USSD Code Service</h3>
<p>You can also use the USSD service to check your grade 12 result. This method is fast and does not require an internet connection or balance (it's free on the NTC network).</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li>Open your phone's dialer.</li>
    <li>Dial <strong>*1601#</strong> and press the call button.</li>
    <li>Follow the on-screen instructions that appear.</li>
    <li>Enter your symbol number.</li>
    <li>Your result will be instantly displayed on your phone screen.</li>
</ol>

<h3>5. Mobile Apps: Khalti and eSewa</h3>
<p>Popular digital wallets like Khalti and eSewa offer easy result-checking features directly within their apps. This method is user-friendly and convenient if you already use these apps for payments.</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li>Open the Khalti or eSewa app on your smartphone.</li>
    <li>Navigate to the 'Education' or 'NEB Result' section (it's usually on the homepage during result season).</li>
    <li>Enter your symbol number and date of birth.</li>
    <li>Tap the 'View Result' button to see your marksheet.</li>
</ol>

<h2>Understanding the NEB Class 12 Grading System</h2>
<p>The NEB uses a letter grading system with a corresponding Grade Point Average (GPA). It's crucial to understand this system to interpret your marksheet correctly. Here is the detailed breakdown:</p>
<div class="overflow-x-auto my-4 rounded-lg border border-gray-200 dark:border-gray-700">
  <table class="min-w-full bg-white dark:bg-black">
    <thead class="bg-gray-100 dark:bg-gray-800">
      <tr>
        <th class="px-4 py-3 text-left font-semibold text-gray-700 dark:text-gray-200">Percentage (%)</th>
        <th class="px-4 py-3 text-left font-semibold text-gray-700 dark:text-gray-200">Grade</th>
        <th class="px-4 py-3 text-left font-semibold text-gray-700 dark:text-gray-200">Description</th>
        <th class="px-4 py-3 text-left font-semibold text-gray-700 dark:text-gray-200">Grade Point</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
      <tr><td class="px-4 py-2">90 to 100</td><td class="px-4 py-2 font-bold">A+</td><td class="px-4 py-2">Outstanding</td><td class="px-4 py-2">4.0</td></tr>
      <tr><td class="px-4 py-2">80 to below 90</td><td class="px-4 py-2 font-bold">A</td><td class="px-4 py-2">Excellent</td><td class="px-4 py-2">3.6</td></tr>
      <tr><td class="px-4 py-2">70 to below 80</td><td class="px-4 py-2 font-bold">B+</td><td class="px-4 py-2">Very Good</td><td class="px-4 py-2">3.2</td></tr>
      <tr><td class="px-4 py-2">60 to below 70</td><td class="px-4 py-2 font-bold">B</td><td class="px-4 py-2">Good</td><td class="px-4 py-2">2.8</td></tr>
      <tr><td class="px-4 py-2">50 to below 60</td><td class="px-4 py-2 font-bold">C+</td><td class="px-4 py-2">Satisfactory</td><td class="px-4 py-2">2.4</td></tr>
      <tr><td class="px-4 py-2">40 to below 50</td><td class="px-4 py-2 font-bold">C</td><td class="px-4 py-2">Acceptable</td><td class="px-4 py-2">2.0</td></tr>
      <tr><td class="px-4 py-2">35 to below 40</td><td class="px-4 py-2 font-bold">D</td><td class="px-4 py-2">Basic</td><td class="px-4 py-2">1.6</td></tr>
      <tr><td class="px-4 py-2" colspan="4">Below 35% in theory subjects is considered 'Non-Graded (NG)' and the final GPA will not be calculated.</td></tr>
    </tbody>
  </table>
</div>

<h2>Frequently Asked Questions (FAQs)</h2>
<div class="space-y-4 mt-6">
  <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
    <h4 class="font-semibold text-lg">What is the minimum GPA required to pass Class 12?</h4>
    <p>To be eligible for higher studies, a student must obtain a minimum of a 'D' grade (1.6 GPA) in all theory subjects and a 'C' grade in practical subjects. Additionally, students must not have an 'NG' (Non-Graded) result in any subject.</p>
  </div>
  <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
    <h4 class="font-semibold text-lg">What does 'NG' (Non-Graded) mean?</h4>
    <p>'NG' means that a student has scored below the minimum required marks (35%) in a theory subject. If you have an 'NG' in any subject, your final GPA will not be awarded, and you will need to appear for a supplementary (grade improvement) exam for that subject.</p>
  </div>
  <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
    <h4 class="font-semibold text-lg">How can I apply for a re-totaling or re-checking?</h4>
    <p>If you are not satisfied with your result, the NEB provides an opportunity to apply for re-totaling. The notice for this is usually published along with the results on the official NEB website. You will have to fill out a form and pay a nominal fee per subject within a specified timeframe.</p>
  </div>
   <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
    <h4 class="font-semibold text-lg">When will I get my official transcript and certificate?</h4>
    <p>The original academic transcript and migration certificate are usually distributed to schools/colleges a few weeks after the results are published. You should contact your college administration for information on when you can collect them.</p>
  </div>
</div>`,image:"https://ik.imagekit.io/fonepay/class%2012%20result.png?updatedAt=1753244853921",author:"The I Love PDFLY Team",authorImage:"https://ik.imagekit.io/fonepay/I%20lovePDLY%20logo.PNG?updatedAt=1753104228877",tags:["NEB Result","Class 12","Education","Nepal","Result 2082"]},{slug:"build-a-professional-cv-in-minutes-with-ai",title:"Build a Professional CV in Minutes with Our New AI-Powered Generator",date:"August 10, 2025",excerpt:"Landing your dream job starts with a perfect CV. Our new free CV Generator helps you create a polished, professional resume in minutes. Choose from modern templates, fill in your details, and download a job-ready PDF.",content:`<h2>The First Impression Matters Most</h2>
<p>In today's competitive job market, your Curriculum Vitae (CV) is often the very first impression you make on a potential employer. A well-structured, professional, and error-free CV can be the difference between landing an interview and being overlooked. However, creating one from scratch can be a daunting task. Which template should you use? What information is most important? How do you format it correctly?</p>

<h2>Introducing the I Love PDFLY CV Generator</h2>
<p>We're excited to introduce a powerful new tool to our suite: the free <a href="/#/cv-generator" class="text-brand-red hover:underline">CV Generator</a>. We've taken the stress and guesswork out of resume building by creating an intuitive, step-by-step process that guides you toward a perfect, job-winning CV.</p>

<h2>Key Features of the CV Generator</h2>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Professionally Designed Templates:</strong> Choose from a selection of clean, modern templates that are proven to be effective and easy for recruiters to read. No more struggling with Word formatting!</li>
    <li><strong>Guided Sections:</strong> Our tool walks you through every essential section: personal details, professional summary, work experience, education, skills, and projects. Just fill in the blanks.</li>
    <li><strong>Easy Editing:</strong> Add, remove, and reorder sections with ease. Our live preview shows you exactly what your final CV will look like as you type.</li>
    <li><strong>Instant PDF Download:</strong> Once you're finished, download your CV as a high-quality, universally compatible PDF file, ready to be sent to employers.</li>
</ul>

<h2>How to Create Your CV in 5 Simple Steps</h2>
<p>Ready to build your new CV? It's incredibly simple:</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li><strong>Navigate to the Tool:</strong> Go to the <a href="/#/cv-generator" class="text-brand-red hover:underline">CV Generator</a> page.</li>
    <li><strong>Fill in Your Details:</strong> Enter your information into the guided form on the left panel, covering everything from your contact info to your work history.</li>
    <li><strong>Upload a Professional Photo (Optional):</strong> Add a professional headshot to give your CV a personal touch.</li>
    <li><strong>Choose Your Design:</strong> Select a template and an accent color that best represents your professional brand.</li>
    <li><strong>Download Your PDF:</strong> Click the "Download PDF" button to instantly save your polished, professional CV.</li>
</ol>
<p>Stop letting CV formatting stand in the way of your career goals. Create a document that makes you stand out and land the interview you deserve. Try our free CV Generator today!</p>`,image:"https://ik.imagekit.io/fonepay/ilovepdfly%20blog.png?updatedAt=1753465347545",author:"The I Love PDFLY Team",authorImage:"https://ik.imagekit.io/fonepay/I%20lovePDLY%20logo.PNG?updatedAt=1753104228877",tags:["CV Generator","Resume Builder","Job Search","Career","Free CV Maker","How To"]},{slug:"ai-lesson-plan-creator-for-teachers",title:"Your New Teaching Assistant: The AI Lesson Plan Creator",date:"August 9, 2025",excerpt:"Teachers, reclaim your time! Our new AI Lesson Plan Creator generates detailed, engaging, and curriculum-aligned lesson plans for any subject in seconds. Spend less time on paperwork and more time inspiring your students.",content:`<h2>The Challenge of Modern Teaching</h2>
<p>Educators are the backbone of our society, but the demands on their time are immense. Lesson planning, in particular, is a critical but incredibly time-consuming task. Crafting engaging, effective, and curriculum-aligned plans for every class can take hours each weekhours that could be spent interacting with students or focusing on professional development.</p>

<h2>Save Time with the AI Lesson Plan Creator</h2>
<p>We believe technology should empower teachers, not add to their workload. Thats why were thrilled to launch the <a href="/#/lesson-plan-creator" class="text-brand-red hover:underline">AI Lesson Plan Creator</a>, a revolutionary tool designed to be every teacher's new favorite assistant.</p>
<p>Simply provide a few key detailsgrade level, subject, topic, and class durationand our AI will generate a comprehensive and structured lesson plan in seconds. It's designed to give you a high-quality, editable foundation that you can adapt to your unique classroom needs.</p>

<h2>What Does a Generated Lesson Plan Include?</h2>
<p>Our AI doesn't just give you a vague outline. It creates a complete, actionable plan with all the essential components:</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Clear Objectives:</strong> Concrete learning goals for students to achieve.</li>
    <li><strong>Engaging Introduction:</strong> A creative "hook" to capture your students' attention from the start.</li>
    <li><strong>Step-by-Step Activities:</strong> Detailed main teaching activities, including suggestions for group work and interaction.</li>
    <li><strong>Assessment Ideas:</strong> Practical ways to check for understanding, from quick quizzes to group discussions.</li>
    <li><strong>Homework Assignments:</strong> Relevant and meaningful practice for students to complete after class.</li>
    <li><strong>Materials List:</strong> A checklist of all the resources you'll need for the lesson.</li>
</ul>

<h2>How It Works</h2>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li><strong>Go to the Tool:</strong> Visit the <a href="/#/lesson-plan-creator" class="text-brand-red hover:underline">AI Lesson Plan Creator</a>.</li>
    <li><strong>Enter Your Lesson Details:</strong> Specify the grade, subject, topic, and duration. You can even suggest a teaching style (e.g., "Interactive & Hands-on").</li>
    <li><strong>Generate the Plan:</strong> Click the "Generate" button and watch as the AI crafts your lesson plan in real-time.</li>
    <li><strong>Review and Refine:</strong> Use the generated plan as-is, or copy and paste it into your favorite editor to tweak and personalize it for your students.</li>
</ol>
<p>The AI Lesson Plan Creator is more than a tool; it's a partner in education. It's here to help you reduce prep time, overcome creative blocks, and focus on what you do best: teaching. Give it a try and revolutionize your planning process today!</p>`,image:"https://ik.imagekit.io/fonepay/4B237CD5-C59B-4982-9ED4-E9A479E8BDA1.png?updatedAt=1753468582689",author:"The I Love PDFLY Team",authorImage:"https://ik.imagekit.io/fonepay/I%20lovePDLY%20logo.PNG?updatedAt=1753104228877",tags:["Lesson Plan Creator","AI for Teachers","Education","EdTech","Teaching Tools","Productivity"]},{slug:"turn-any-text-into-a-quiz-ai-question-generator",title:"Study Smarter: Turn Any Text into a Quiz with Our AI Question Generator",date:"August 8, 2025",excerpt:"Transform your study materials instantly! Our new AI Question Generator takes any textfrom articles to textbook chaptersand automatically creates a variety of quiz questions to help you learn and retain information more effectively.",content:`<h2>The Power of Active Recall in Learning</h2>
<p>Reading and highlighting text is a common study method, but research shows that one of the most effective ways to learn and remember information is through "active recall"the process of actively retrieving information from your memory. In other words, quizzing yourself is one of the best ways to study.</p>
<p>But creating good questions takes time and effort. What if you could instantly generate a quiz from any text you're studying? Now you can.</p>

<h2>Introducing the AI Question Generator</h2>
<p>We are excited to launch our <a href="/#/ai-question-generator" class="text-brand-red hover:underline">AI Question Generator</a>, a powerful tool for students, teachers, and lifelong learners. Simply paste any text into the tool, and our AI will analyze the content and generate a diverse set of questions to test your knowledge.</p>

<h2>How Can It Help You?</h2>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>For Students:</strong> Instantly create a practice quiz from your lecture notes, textbook chapters, or online articles. Test your understanding before an exam and identify areas where you need to review.</li>
    <li><strong>For Teachers:</strong> Quickly generate questions for a pop quiz, a worksheet, or a study guide. Save valuable prep time while still providing valuable learning materials for your students.</li>
    <li><strong>For Anyone:</strong> Want to make sure you understood that dense news article or business report? Paste it in and get a set of questions to confirm your comprehension.</li>
</ul>

<h2>A Variety of Question Types</h2>
<p>To ensure a comprehensive review, our AI generates a mix of question formats based on your text, including:</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Multiple Choice:</strong> Test your knowledge with several options.</li>
    <li><strong>True/False:</strong> Verify key facts and statements.</li>
    <li><strong>Short Answer:</strong> Challenge yourself to recall specific information and concepts.</li>
</ul>
<p>Each question comes with the correct answer, so you can check your work immediately. Stop just reading and start actively learning. Turn your study material into an interactive learning experience with the AI Question Generator today!</p>`,image:"https://ik.imagekit.io/fonepay/7543789B-8C56-4BF2-9952-6D6C2F17BA25.png?updatedAt=1753468583193",author:"The I Love PDFLY Team",authorImage:"https://ik.imagekit.io/fonepay/I%20lovePDLY%20logo.PNG?updatedAt=1753104228877",tags:["AI Question Generator","Study Tools","Education","Quiz Maker","Learning","Productivity","AI"]},{slug:"you-can-now-edit-images-in-ilovepdfly",title:"You can now edit images in I Love PDFLY",date:"August 4, 2025",excerpt:"Exciting news! I Love PDFLY is expanding beyond PDFs. Discover our powerful new image editing tools, including a one-click Background Remover, designed to streamline your creative workflow. Edit your images and convert them to PDF all in one place.",content:`<h2>More Than Just PDFs: Welcome to Image Editing!</h2>
<p>We've always been your go-to solution for everything PDF, but we know your projects often involve more than just documents. That's why we're thrilled to announce that I Love PDFLY is expanding its toolkit to include powerful, easy-to-use image editing features!</p>
<p>Now, you can manage both your documents and your images in one convenient place, streamlining your workflow and boosting your productivity. Say goodbye to switching between different appsyour complete toolkit is right here.</p>

<h2>Introducing a Game-Changer: One-Click Background Removal</h2>
<p>Have you ever needed to isolate a subject from its background for a presentation, a product photo, or a creative project? Our new <a href="/#/remove-background" class="text-brand-red hover:underline">Remove Background tool</a> makes this complex task incredibly simple.</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Effortless and Automatic:</strong> Simply upload your image (PNG or JPG), and our AI will automatically detect and remove the background with precision.</li>
    <li><strong>Perfect for Any Project:</strong> Create clean product images for your e-commerce store, professional headshots for your profile, or stunning graphics for your presentations.</li>
    <li><strong>High-Quality Results:</strong> Get a crisp, clean cutout with a transparent background, ready to be used anywhere.</li>
</ul>
<p>No more tedious manual selection or expensive software. It's professional-grade background removal, and it's free to use.</p>

<h2>A Complete Image-to-Document Workflow</h2>
<p>Our new image tools are designed to work seamlessly with our existing PDF features, creating a complete workflow from image to final document.</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li><strong>Edit Your Image:</strong> Start by perfecting your image. Use the <a href="/#/remove-background" class="text-brand-red hover:underline">Remove Background</a> tool to get a clean cutout.</li>
    <li><strong>Convert to PDF:</strong> Once your image is ready, use our trusted <a href="/#/jpg-to-pdf" class="text-brand-red hover:underline">JPG to PDF</a> tool to convert single or multiple images into a high-quality PDF document.</li>
    <li><strong>Organize and Share:</strong> Need to add the new image PDF to an existing report? Use our <a href="/#/merge-pdf" class="text-brand-red hover:underline">Merge PDF</a> tool to combine it with other documents. Your polished, professional document is now ready to be shared.</li>
</ol>
<p>You can even capture images directly from your camera and convert them on the fly with our <a href="/#/scan-to-pdf" class="text-brand-red hover:underline">Scan to PDF</a> tool, making it easier than ever to digitize and manage your visual content.</p>

<h2>What's Next?</h2>
<p>This is just the beginning of our journey into image editing. We're committed to building the most comprehensive and user-friendly toolkit for all your digital needs. We can't wait for you to try out these new features and hear your feedback!</p>
<p>Ready to get started? Explore our new image tools today!</p>`,image:"https://www.ilovepdf.com/storage/blog/55-1623331581-iOS-mobile-app@348w.jpeg",author:"The I Love PDFLY Team",authorImage:"https://ik.imagekit.io/fonepay/I%20lovePDLY%20logo.PNG?updatedAt=1753104228877",tags:["Image Editing","New Feature","Productivity","Remove Background","Photo Editor","Design"]},{slug:"the-best-free-graphic-design-software-2025",title:"The best free graphic design software: 32 must-have tools (2025)",date:"January 4, 2024",excerpt:"Explore graphic design tools ranging from color pallets & AI image generators to photo editing software & file management tools.",content:`<p>Looking for the best free graphic design tools? Weve done the research so you dont have to. Check out this list containing some of the best tools for creating professional designs without the professional price tags.</p>
<p>The difficulty levels of the tools varies from motivated amateurs to perfectionist professionals, so you can choose the graphic design software that suits your needs and level.</p>
<p>This post will break down the graphic design software tools into 10 useful categories, from AI image generators to file management tools.</p>
<h2>AI image generators</h2>
<p>Text-to-image generators are a hot topic thats taking off in 2023. Artificial intelligence is changing the way we approach graphic design, and proving to be controversial in its journey.</p>
<p>These powerful tools use machine learning algorithms to create unique and eye-catching graphics in just a few clicks. Whether you're looking to generate patterns, logos, or photo-realistic images - AI image generators are captivating creative tools.</p>
<p>The software might not give you the perfect professional results every time as we are still in the early stages of this AI explosion. Nevertheless, these tools show incredible potential and can be used for content creation or to push your ideas and imagination to the max.</p>
<h3>DALL-E from OpenAI</h3>
<p>DALL-E from OpenAI (the same people who made the headline-smashing ChatGPT) is a clear front-runner in the race for AI image generators. The free AI image tool is great at taking precise inputs to create multiple variations that let you select the best from the bunch.</p>
<p>Its most effective when choosing a style for the images, for example an expressive oil painting, a pencil drawing, or a watercolor painting. This feature makes it possible to create unique, professional-looking images with ease.</p>
<p>The software is being updated and improved on a regular basis, so keep watching these AI image generators as many changes and new features are undoubtedly around the corner.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678104291-6.-Dalle.png" alt="DALL-E AI Image Generator" class="my-4 rounded-lg shadow-md" />
<h3>Midjourney</h3>
<p>Midjourney creates high-quality designs compared to many of its competitors, with styles that are futuristic and atmospheric. Considering the early stages of the development, like DALL-E, its incredible how far these tools have come in such a short amount of time with such impressive results.</p>
<p>However, despite its impressive capabilities, the biggest drawback is its usability. The process to create an image is complicated and time-consumingyou have to enter Discord, find a new newbies channel, and then use the /imagine command in a chaotic chat with images flying through the chat.</p>
<p>Aside from the difficult usability, once you have understood the process the results of this AI art generator are remarkable.</p>
<h3>DeepAI</h3>
<p>DeepAI is fun AI image generator that lacks some finishing touches. Its a great tool to get some inspiration on specific ideas, with a simple search bar that is easy to use, and a number of free styles to choose from.</p>
<p>While the results produced by its text-to-image converter may not be as polished and professional as those produced by other AI image generators. DeepAI has a lot of potential, and is a playful tool with a number of free styles to choose from, giving users plenty to experiment with.</p>
<h2>Color palette generators</h2>
<p>This chapter is all about color. We'll explore the best free graphic design software options specifically made to help you create stunning color palettes.</p>
<p>Whether you're a seasoned designer or just starting out, these tools make it easy to experiment with color, select a harmonious scheme, and set the scene for your color scheme. So, let's dive in and discover the best free color palette tools.</p>
<h3>Coolors</h3>
<p>See whats hot with trending color palettes, generate colors, and select colors from photos with this well-designed website that helps you get into the creative mood from the get-go. Coolors is easy to use and palettes are simple to export, with many options for sharing your chosen colors.</p>
<p>Whether you want to find warm color palettes and share them with your team or save them for future projects, this tool has a smooth workflow that makes it easy to work on multiple new projects while organizing the old ones.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678103451-1.-Coolors.png" alt="Coolors Color Palette Generator" class="my-4 rounded-lg shadow-md" />
<h3>Color Space</h3>
<p>Color Space is a useful color palette generator to develop your ideas for a design that starts with a single color. Put your desired color in and the site generates a variety of color palettes including gradient and random shades.</p>
<p>Its simple to create basic gradients, and has recently released the option to make 3 Color Gradients, which are extremely easy to edit and play around with.</p>
<p>The drawback is that you are limited in the amount of palettes that you can explore, especially if youre starting from scratch and dont have a color palette already in mind.</p>
<h3>Adobe Capture</h3>
<p>Adobe Capture is a color palette generator that offers ten free tasks before having to register. This is a superb mobile app that takes real-time images and lets you create a color palette from whatever you see around you.</p>
<p>The app is a useful addition that makes it easy to generate a color palette from an image, whether you choose to use a live camera view or select a saved photo. You can also create shapes and patterns as interesting artistic features.</p>
<h2>Image editing tools</h2>
<p>Photo editing is an essential aspect of graphic design. Whether it's adjusting the angle, changing the brightness and contrast, or adding special filters, having the right image editing software makes all the difference to your final results.</p>
<p>In this section, we'll explore some of the best free image editors available to help elevate your design work and give it that professional touch. Image editing tools can be difficult to use, so we've also included some that are more straightforward.</p>
<h3>iLoveIMG Editor</h3>
<p>The iLoveIMG's Photo Editor is by far the easiest of these free photo editing software. It is a simple yet versatile tool with a range of editing options that allow you to draw on images and add more image files. Users can easily crop, resize, add filters, frames, and effects to add a professional finish to designs.</p>
<p>If youre looking for a basic photo editor thats easy and quick to use for some basic editing, then this is the perfect option.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678103763-2.1-iLoveIMG-Edit-tool.png" alt="iLoveIMG Photo Editor" class="my-4 rounded-lg shadow-md" />
<h3>Photopea</h3>
<p>Acting as a close alternative to Photoshop, Photopea is an online tool that provides many design features, without the need to download any expensive software.</p>
<p>It's worth pointing out that as an online tool it may run slowly if youre working with heavy editing tasks. Also, if you are used to other editing software then it will take some time to learn its features.</p>
<p>Despite these challenges, Photopea is a fantastic free editing tool for designers who want professional features to bring their creative visions to life.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678103850-2.-Photopea.png" alt="Photopea Online Editor" class="my-4 rounded-lg shadow-md" />
<h3>GIMP</h3>
<p>GIMP is a fantastic open-source image editing software that provides powerful image editing tools and offers an impressive variety of file formats, all completely free.</p>
<p>The workspace is slightly cluttered and it can be difficult to navigate all of the features, especially for beginners, but once youve mastered the basics this is an amazing feature-packed photo editor and another free alternative to Photoshop.</p>
<h3>Adobe creative cloud (free trial)</h3>
<p>Adobe graphic design software isnt the easiest if youre just starting out, but it takes the top spot for the most in-depth software for image and video editing.</p>
<p>For professionals, this is the industry standard for quality editing, and within the Creative Cloud you have access to multiple Adobe products, including Photoshop, After Effects, and Premiere Pro just to name a few.</p>
<p>Perfect if you arent needing them long term, there are free trials for many of the tools. While a 7-day free trial is available, the software can be expensive if youre looking for a longer-term editing solution.</p>
<h2>Font generators</h2>
<p>Welcome to the world of font generators. For anyone working or playing around with designs, typography plays a crucial role in making your work stand out with the right style.</p>
<p>Free font generators help you find custom typefaces for your projects without the need for extensive design knowledge and expensive font licenses. Experiment with different styles and letterforms until you find the perfect look for your design.</p>
<h3>Fontspring</h3>
<p>Fontspring offers multiple categories that help you find the right free font download. It is also simple to sort the fonts by Most Favorited to see whats trending, as well as 'Best Of lists to investigate the most popular selection from previous years.</p>
<p>Frustratingly, when browsing the fonts some are listed as containing free versions when in reality they are only available as icons, which is misleading. If you dont mind spending time finding the free ones, this is a valuable resource.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678105548-3.-Fontspring.png" alt="Fontspring Font Generator" class="my-4 rounded-lg shadow-md" />
<h3>WhatTheFont/MyFonts</h3>
<p>WhatTheFont (also known as MyFonts) has high-quality downloads that are searchable within useful categories. Are you trying to identify a font youve spotted? MyFonts can also scan an uploaded image to find and identify the font you want to identify.</p>
<p>Frustratingly, free fonts are often hidden among the paid options, requiring you to scroll through the listings to download the font you need. Despite this, MyFonts remains a great tool for anyone looking for a free font generator.</p>
<h3>Google Fonts</h3>
<p>Google Fonts provides an extremely popular free font browser that offers typography in multiple languages and design styles. There is a user-friendly interface that offers fonts that are free for personal and commercial use.</p>
<p>A drawback is that the range of types is not as diverse as other font browsers, with limited options within a chosen fonts style. If you're looking for a more specific font style, you may need to look elsewhere.</p>
<h2>Icon downloads</h2>
<p>Icons play a critical role in creating a professional and polished look for websites, mobile applications, and other digital platforms. In this section, we'll be exploring the best free icon downloads so you can find the perfect designs for your next project.</p>
<p>From modern designs and classic looks to simple social media icon downloads - the ability to browse and use royalty-free icons is key for any digital designer or marketer looking to create a cohesive brand experience.</p>
<p>We've compiled a list of the top free graphic design software that gives you quality icon libraries to complement your designs.</p>
<h3>Flaticon</h3>
<p>Flaticon gives users a robust library of high-quality designs, where you can find PNG, SVG, Android, and iOS versions of the most popular fonts. Selected fonts also have different styles with changing colors and contrast.</p>
<p>Free users are restricted to downloading certain icons as a PNG, and the SVG version of the icon is sometimes only available with the Premium service.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678105567-4.-Flaticon.png" alt="Flaticon Icon Downloads" class="my-4 rounded-lg shadow-md" />
<h3>Noun Project</h3>
<p>The Noun Project is a well-designed platform that offers a more creative and inclusive range of free icons to what were used to.</p>
<p>With its user-friendly interface, easily find individual icons or browse through various icon collections to find the perfect fit for your project.</p>
<p>The basic free download option only provides icons in black, but the premium downloads are cost-effective and allow for more customization. If youre looking for basic but creative and inclusive icons, then Noun Project is a great choice.</p>
<h3>Google Icons within Fonts</h3>
<p>Were back to Google Fonts, but this time for downloading free icons. Google Icons offers an extensive library of high-quality icons that are perfect for UI design, allowing for the customization of Fill, Weight, Grade, and Optical Size.</p>
<p>Icons are available in SVG or PNG formats for download, as well as the information on the 'Variable Icon Font' configuration for CSS, making it easy for designers to integrate their icons into their web projects.</p>
<h2>3D & 2D Animation software</h2>
<p>Bring your ideas to life with 3D and 2D Animation software. Whether you're creating a short clip for a commercial, designing characters for a video game, or adding some movement to your graphics - free animation software takes your designs to the next level.</p>
<p>Weve found some of the best animation software that published professionals and aspiring amateurs can all enjoy.</p>
<h3>Blender</h3>
<p>Boasting an intuitive interface, Blender animation software is a widely acclaimed free and open-source tool thats best for intermediate or professional animators.</p>
<p>Its loved for its 3D pipeline editing, including 3D and 2D animation, and has an impressive array of animation features that youd expect to see in the best premium animators.</p>
<p>Despite some occasional lag and slow render times, the software is regularly updated and continues to receive improvements, making it one of the best free animation software options available.</p>
<p>With its versatile tools, Blender is widely used in the creation of animations, models, and artwork, providing a one-stop solution for artists and designers.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678105589-5.-Blender.jpeg" alt="Blender Animation Software" class="my-4 rounded-lg shadow-md" />
<h3>Piskel</h3>
<p>Piskel is a perfect option for those just starting out with animation. As a beginners tool, the basic and straightforward interface makes it a breeze to use.</p>
<p>The focus of Piskel is on creating 2D animated pixel art and sprite animations, so it's a great choice for game designers and hobbyists.</p>
<p>This 2D animation software offers a wide range of tools and functions, including customizable color palettes, layers, frame management, and more. That being said, for more professional applications, it's unlikely to have all the features and tools required.</p>
<h3>Animaker</h3>
<p>Animaker is another tool that makes it easy to get started with 3D animation software. It has a lot of template characters and customization options that can build a professional final project, as well as sharing options that let you integrate it with other programs.</p>
<p>Within one free animation tool, you have everything you need to create your content within a single tool by adding music and effects, and even the option to create voiceovers from text.</p>
<p>It has various pricing plans if you find that the limited number of free version downloads arent enough.</p>
<h2>Find inspiration for your designs</h2>
<p>Stuck for inspiration? It isnt easy creating content, and being able to keep your designs fresh and interesting will require finding inspiration for your projects.</p>
<p>When you know where to look, the internet is a creative goldmine thats waiting to be explored. Kick off your next project by browsing the best design inspiration websites.</p>
<p>In this section, we'll outline interesting websites to look for design ideas, including some comments on the more professional sources that are more specifically aimed at graphic designers.</p>
<h3>Behance</h3>
<p>Behance is a leading online platform for graphic designers to showcase their work and connect with the design community. It offers a wealth of inspiration and opportunities for collaboration, with a diverse range of projects and designers to discover, and it has a more professional feel than Pinterest.</p>
<p>With its easy-to-use interface, Behance lets you search by Creative Tools, Colors, and Source Categories so you can narrow your search even further.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678105849-7.-Behance-.png" alt="Behance for Design Inspiration" class="my-4 rounded-lg shadow-md" />
<h3>Pinterest</h3>
<p>Pinterest is a straightforward way to research, save, and send new ideas on whatever youre working on. You can build a network of profiles that you enjoy to follow the latest updates from creators that inspire you, or go through current trending topics.</p>
<p>It also allows you to create boards for your own work, making it an excellent portfolio tool, as well as a research tool.</p>
<h3>Dribbble</h3>
<p>Dribbble is a popular platform with a focus on design. Each category shows trending designs and techniques, and like our other examples, it also provides the chance for graphic designers to share their work and get feedback from the design community.</p>
<p>Browse and follow your favorite designers to keep yourself inspired. When selecting a profile you can see their designs neatly organized into Projects and Collections, as well as the liked designs which have inspired them.</p>
<h2>Stock images</h2>
<p>Are you searching for free stock images? Not everyone has access to professional photography equipment, which is why high-quality stock images are so key for creative roles.</p>
<p>Finding copyright-free images can take up a lot of time that would be better spent elsewhere. This section will look at the best free stock images for commercial use that offer landscapes, people shots, graphics, illustrations. and more.</p>
<h3>Pexels</h3>
<p>Pexels has high-quality content that doesnt leave you worrying about copyright issues. You can search for images and videos using different categories, but there are no advanced search features for more technical and specific content, so the results can sometimes be slightly repetitive.</p>
<p>In general, the design of the categories and popular collections could be improved to make browsing the stock photos a little more user-friendly. That being said, its easy to download the content you require without being bombarded with premium restrictions and payment obligations, which is a big plus.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678106190-8.-Pexels.png" alt="Pexels Stock Images" class="my-4 rounded-lg shadow-md" />
<h3>Unsplash</h3>
<p>A fantastic resource for royalty-free, high-quality stock photos, Unsplash has a vast collection of over a million images. Easily browsable categories and a simple website can save you time when youre looking for free image downloads.</p>
<p>Depending on your theme and niche, the variety of results can be limited, but for general topics it is worth your time. If you dont have a budget for paid images, then this is a great source for professional content.</p>
<h3>Kaboompics</h3>
<p>From the get-go Kaboompics has a great design that draws you into the site. You can easily select the orientation from the search bar, there is the extremely useful feature of the color palette search also available from the main page, and you can include a custom aspect ratio when downloading.</p>
<p>While the library for Kaboompics isnt as large as some of its competitors, the usability of the site and the quality of the free stock photos are fantastic. Available for commercial or personal use, you can edit, post, and use them as you require.</p>
<h2>File management</h2>
<p>File management is an essential aspect of graphic design, and having the right software can make all the difference in keeping your work organized and accessible.</p>
<p>Every designer knows the struggles of working with large image files and the compatibility issues that arise when using different image types.</p>
<p>Here well be showcasing the best free file management software to keep your workflow streamlined and efficient. These software solutions are packed with features to keep your work organized, accessible, and secure.</p>
<h3>Compress PDF files with iLovePDF</h3>
<p>The Compress PDF tool is a lifesaver when it comes to helping you save, share, or design your portfolio. You can reduce the file size of your PDF files for free with this PDF compressor to make them easier to send, store, and upload.</p>
<p>Are you struggling to share or upload files because of large file sizes? Use the free Compress PDF tool to drastically make your files smaller and more manageable. This is especially useful for design students trying to submit their files for assessment.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678110276-9.-iLovePDF-Compress-%281%29.png" alt="I Love PDFLY Compress PDF" class="my-4 rounded-lg shadow-md" />
<h3>iLoveIMG Compress Image tool</h3>
<p>This free image compressor takes your pictures and reduces the file size while keeping as much quality as possible. When youre creating designs, large file sizes lead to web designers struggling with storage, upload issues, and slow loading times for website and online contentthis free tool is a perfect solution.</p>
<p>Quickly and easily reduce the size of your images with a user-friendly tool that can complete your task in under a minute from start to finish. It can also batch convert JPG to PDF along with the other image files it accepts, including PNG, SVG, and GIF.</p>
<h3>iLovePDF JPG to PDF converter</h3>
<p>Transform your JPG files into professional PDF documents with ease and precision, thanks to iLovePDF's free JPG to PDF converter.</p>
<p>Whether you're working with one file or a batch of JPGs, this fast and convenient tool will save you time and ensure your designs are ready for printing, presenting, or sharing in a format famed for its accuracy.</p>
<h3>iLovePDF/IMG Watermark tools</h3>
<p>Protect your valuable designs and ensure they are not used without your permission with the iLoveIMG and iLovePDF Watermark tools. With user-friendly interfaces, adding a custom watermark to your images or PDFs has never been easier.</p>
<p>Overall, its recommended that you use the iLovePDF tool for a wider range of features. The free watermark tools allow you to add a text box with editable fonts, sizes, color, and more.</p>
<p>Whether you're an artist, designer, photographer, or any other creative professional, these tools keep your designs protected.</p>
<h2>Bonus chapter: Simple design tools for content creation</h2>
<p>You dont have to be a design expert to create content for social media that looks professional and creative. This section is focused on graphic design tools for beginners that can be used to create content across various platforms like Instagram, LinkedIn, and TikTok.</p>
<p>A lot of design software now has entire sections for the creation of this content, with sizes, templates, and pre-made features meaning you can create without being a Photoshop and video-editing expert.</p>
<h3>Canva</h3>
<p>Canva is an outstanding way to edit high-quality templates or create your designs completely from scratch. It is extremely easy to use, and boasts a huge variety collection of templates, images, and graphics that simplify the design process and save you time, with intuitive editing features that take no time at all to get your head around.</p>
<p>It offers a seamless and accessible design experience, enabling designers of all levels to effortlessly craft visually appealing graphics and visual content.</p>
<p>It has a section designed specifically for social media that enable you to work with the correct aspect ratio relative to the platform you want to post on.</p>
<img src="https://www.ilovepdf.com/storage/blog/205-1678110794-10.-Canva.png" alt="Canva Design Tool" class="my-4 rounded-lg shadow-md" />
<h3>Capcut</h3>
<p>Another user-friendly tool, Capcut is designed especially for creating professional videos for your social media content. It provides the tools to craft captivating and professional-looking videos that will grab the attention of your audience with very little previous experience.</p>
<p>The web version may experience some issues with lag, so downloading the app and creating videos directly from your mobile device is a good idea if you come across this problem.</p>`,image:"https://www.ilovepdf.com/storage/blog/205-1678104167-Graphic-Design-Software.jpg",author:"The I Love PDFLY Team",authorImage:"https://ik.imagekit.io/fonepay/I%20lovePDLY%20logo.PNG?updatedAt=1753104228877",tags:["Graphic Design","Software","Free Tools","AI","Productivity","Design"]},{slug:"how-to-convert-html-to-pdf",title:"How to convert HTML websites into PDF files",date:"August 3, 2025",excerpt:"Have you tried to download a webpage before, only to be left with a faulty file that's cut the most important graph in half? Use this online tool to accurately convert web pages into PDF documents.",content:`<h2>The Problem with Saving Webpages</h2>
<p>Have you ever tried to save an important webpage for offline uselike an online receipt, a travel itinerary, or a fascinating articleonly to end up with a mess? Using the browser's "Save As" feature can result in broken layouts and missing images. Taking screenshots often means stitching together multiple images and losing the ability to select text. The "Print to PDF" function can be even worse, awkwardly cutting off content and ruining the formatting of tables and graphs.</p>

<h2>The Perfect Solution: HTML to PDF Conversion</h2>
<p>Our <a href="/#/html-to-pdf" class="text-brand-red hover:underline">HTML to PDF converter</a> is designed to solve this problem perfectly. It accurately captures the entire content of a live webpageincluding all text, images, and layout elementsand preserves it in a single, high-quality PDF document. This method is incredibly useful for:</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Archiving Articles:</strong> Save news articles or blog posts for offline reading or research.</li>
    <li><strong>Saving Online Receipts:</strong> Keep a clean, readable record of your online purchases.</li>
    <li><strong>Creating Offline Reading Material:</strong> Compile tutorials, guides, and documentation into a portable format.</li>
    <li><strong>Sharing Web Content:</strong> Share a static, unchangeable version of a webpage with colleagues or clients.</li>
</ul>

<h2>How to Convert a Webpage to PDF</h2>
<p>The process is incredibly simple and takes just a few seconds. Follow these steps:</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li><strong>Find the webpage:</strong> Open the webpage you want to convert in your browser and copy its URL from the address bar.</li>
    <li><strong>Go to our tool:</strong> Navigate to the <a href="/#/html-to-pdf" class="text-brand-red hover:underline">HTML to PDF tool</a>.</li>
    <li><strong>Paste the URL:</strong> Paste the copied URL into the input field provided.</li>
    <li><strong>Click 'Convert to PDF':</strong> Our tool will instantly fetch the webpage, render it, and convert it into a perfectly formatted PDF.</li>
    <li><strong>Download your file:</strong> Your new PDF will be ready for download immediately.</li>
</ol>
<p>Say goodbye to awkward screenshots and incomplete printouts. With our HTML to PDF converter, you can reliably save any webpage as a clean, professional, and portable document.</p>`,image:"https://images.minitool.com/minitool.com/images/uploads/2021/04/html-to-pdf-thumbnail.png",author:"The I Love PDFLY Team",authorImage:"https://ik.imagekit.io/fonepay/I%20lovePDLY%20logo.PNG?updatedAt=1753104228877",tags:["HTML to PDF","Convert to PDF","Webpage to PDF","How To","Archive","Productivity"]},{slug:"how-to-add-password-to-pdf",title:"How to add a password to a PDF",date:"August 2, 2025",excerpt:'Find out how to keep your sensitive data secure by adding a password to your PDF document. In an age where data privacy is paramount, protecting your documents is more important than ever. Our "Protect PDF" tool offers a simple yet robust solution to encrypt your files.',content:`<h2>Why Add a Password to Your PDF?</h2>
<p>In an age where data privacy is paramount, protecting your documents is more important than ever. Whether you're sharing confidential business reports, sending personal identification, or archiving sensitive financial records, adding a password provides a critical layer of security. It ensures that only authorized individuals with the correct password can open and view the contents of your PDF file.</p>
<p>Password protection uses encryption to scramble the data within the PDF, making it unreadable without the key (your password). This is the most effective way to prevent unauthorized access and maintain confidentiality.</p>

<h2>How to Password Protect a PDF Online for Free</h2>
<p>Our <a href="/#/protect-pdf" class="text-brand-red hover:underline">Protect PDF tool</a> offers a simple, fast, and secure way to encrypt your files. Follow these easy steps:</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li><strong>Go to the Protect PDF tool:</strong> Navigate to the tool page to get started.</li>
    <li><strong>Upload your PDF file:</strong> Select the PDF document you want to secure from your device, Google Drive, or Dropbox.</li>
    <li><strong>Set a strong password:</strong> In the options panel on the right, type your desired password. You will be asked to type it a second time to confirm and avoid typos. Choose a password that is strong and not easily guessable.</li>
    <li><strong>Click 'Protect PDF':</strong> Once you've set your password, click the button to start the encryption process.</li>
    <li><strong>Download your secure file:</strong> Your PDF is now password-protected. Click the download button to save it. Anyone who tries to open this file will now be prompted to enter the password you set.</li>
</ol>

<h2>Your Security is Our Priority</h2>
<p>We understand the importance of the documents you process with us. The entire password protection process is handled securely. Your files are uploaded over an encrypted connection, and they are automatically and permanently deleted from our servers within a few hours. This guarantees that your privacy is always respected.</p>
<p>Using our "Protect PDF" tool is the perfect way to share documents with peace of mind, knowing that your sensitive information is safe.</p>`,image:"https://www.ilovepdf.com/storage/blog/54-1623250400-Secure-remote-working@348w.jpeg",author:"The I Love PDFLY Team",authorImage:"https://ik.imagekit.io/fonepay/I%20lovePDLY%20logo.PNG?updatedAt=1753104228877",tags:["Protect PDF","Password","Security","Encryption","How To","Data Privacy"]},{slug:"are-digital-signatures-legally-binding",title:"Are digital signatures legally binding?",date:"August 1, 2025",excerpt:"Digital signatures are a top choice for cross-border business transactions. But are they legally binding? The short answer is yes, in many parts of the world. This guide explains the legal frameworks, the technology behind them, and how our Sign PDF tool can help.",content:`<h2>The Short Answer: Yes, They Are.</h2>
<p>In an increasingly digital world, signing documents electronically has become the norm. But a common question remains: are digital signatures actually legally binding? The short answer is yes, in most countries around the world, digital signatures carry the same legal weight as a traditional handwritten signature. Laws like the <strong>ESIGN Act</strong> in the United States and the <strong>eIDAS Regulation</strong> in the European Union have established solid legal frameworks that validate their use in commerce and legal proceedings.</p>

<h2>Understanding the Difference: Electronic vs. Digital Signatures</h2>
<p>While often used interchangeably, there's a key distinction between a standard "electronic signature" and a more secure "digital signature."</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li>An <strong>electronic signature</strong> can be as simple as a typed name at the end of an email or an image of a handwritten signature. It indicates intent to sign but has limited security.</li>
    <li>A <strong>digital signature</strong> is a highly secure type of electronic signature. It uses cryptographic technology to embed a unique, verifiable 'fingerprint' into the document. This makes it far more secure and legally robust.</li>
</ul>

<h2>The Three Pillars of a Secure Digital Signature</h2>
<p>A true digital signature provides three critical guarantees that make it legally sound:</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li><strong>Authentication:</strong> It cryptographically verifies that the person signing is who they claim to be, preventing forgery.</li>
    <li><strong>Integrity:</strong> It creates a tamper-evident seal. If the document is altered in any way after being signed, the signature becomes invalid.</li>
    <li><strong>Non-repudiation:</strong> The cryptographic link between the signature and the document means the signer cannot later deny their involvement in the signing process.</li>
</ol>

<h2>How I Love PDFLY Helps</h2>
<p>Our <a href="/#/sign-pdf" class="text-brand-red hover:underline">Sign PDF tool</a> is designed to create secure and verifiable digital signatures. It provides a complete audit trail, including timestamps and IP addresses, which strengthens the legal standing of your signed documents. Whether you're signing a simple agreement or a critical business contract, our tool provides the security and validity you need.</p>

<h2>Final Recommendation</h2>
<p>While digital signatures are widely accepted, regulations can vary by jurisdiction and the nature of the document. For highly sensitive or regulated transactions, it's always a good practice to consult with a legal professional to ensure full compliance with local laws. For the vast majority of business and personal needs, a secure digital signature provides a reliable and legally binding solution.</p>`,image:"https://www.ilovepdf.com/storage/blog/43-1623746170-Digital-Signature@348w.jpeg",author:"The I Love PDFLY Team",authorImage:"https://ik.imagekit.io/fonepay/I%20lovePDLY%20logo.PNG?updatedAt=1753104228877",tags:["Digital Signature","eSign","Legally Binding","Security","Sign PDF","How To"]},{slug:"smart-ocr-tips-get-most-out-of-scanned-documents",title:"Smart OCR tips: how to get the most out of your scanned documents",date:"July 31, 2025",excerpt:"Boost your OCR results with smart scanning techniques. Learn how resolution, contrast, and language support affect text recognition accuracy. Optical Character Recognition (OCR) is a powerful technology, but its accuracy depends on the quality of the source image. This guide provides tips on how to scan your documents to achieve the best possible OCR results, ensuring your text is searchable and selectable with high fidelity.",content:`<h2>Why Scan Quality is Everything for OCR</h2>
<p>Optical Character Recognition (OCR) is a fantastic technology that transforms flat, non-interactive images of text (like a scanned document) into fully searchable, selectable, and editable text. It's the magic behind making your paper archives digital. However, the accuracy of OCR is highly dependent on one thing: the quality of the source scan. A blurry, skewed, or low-resolution scan will result in jumbled text and poor recognition. To get the most out of our <a href="/#/ocr-pdf" class="text-brand-red hover:underline">OCR PDF tool</a>, follow these smart scanning tips.</p>

<h2>1. Aim for the Right Resolution (DPI)</h2>
<p>DPI, or Dots Per Inch, is a measure of a scanner's resolution. For OCR, the sweet spot is generally <strong>300 DPI</strong>. Heres why:</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Too Low (e.g., 150 DPI):</strong> The characters might be too pixelated for the OCR engine to recognize them accurately, leading to errors.</li>
    <li><strong>Just Right (300 DPI):</strong> This provides enough detail for clear character recognition without creating an unnecessarily large file. It's the industry standard for archiving documents.</li>
    <li><strong>Too High (e.g., 600+ DPI):</strong> While it provides more detail, it often doesn't significantly improve OCR accuracy for standard text and results in a much larger file size, which takes longer to process.</li>
</ul>

<h2>2. Optimize Contrast and Brightness</h2>
<p>Clarity is key. The OCR engine works best when there is a sharp contrast between the text and the background. The ideal document is crisp black text on a clean white background.</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Adjust Scanner Settings:</strong> Before scanning, use your scanner's preview function to adjust brightness and contrast. Increase the contrast to make the text darker and the background whiter.</li>
    <li><strong>Avoid Shadows and Stains:</strong> Ensure your document is flat on the scanner bed to avoid shadows. Stains, wrinkles, or highlighter marks can interfere with recognition, so use the cleanest copy of the document you can find.</li>
</ul>

<h2>3. Keep it Straight (Deskewing)</h2>
<p>A document that was scanned at an angle (skewed) can be difficult for an OCR engine to read. The lines of text should be perfectly horizontal.</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Align Carefully:</strong> Take an extra second to make sure your paper is aligned perfectly with the guides on your scanner.</li>
    <li><strong>Use Auto-Straighten Features:</strong> Most modern scanners and our OCR tool have a "deskew" or "auto-straighten" feature. Make sure it's enabled to automatically correct slight misalignments.</li>
</ul>

<h2>4. Choose the Right Color Mode</h2>
<p>Your scanner will likely offer three modes: Color, Grayscale, and Black & White (Monochrome).</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Black & White (Monochrome):</strong> This is the best option for simple, high-contrast text documents. It produces the smallest file size and the sharpest distinction between text and background.</li>
    <li><strong>Grayscale:</strong> Use this if your document has light-colored text or images with shades of gray that are important.</li>
    <li><strong>Color:</strong> Only use this mode if the color of the text or images is essential to the document's meaning. It produces the largest file size and can sometimes reduce contrast for standard black text.</li>
</ul>

<h2>5. Select the Correct Language</h2>
<p>An OCR engine uses a dictionary and character set specific to a language to achieve the best results. If you're scanning a document in French, telling the OCR tool that the language is French will allow it to recognize characters like '', '', and '' correctly.</p>
<p>Our <a href="/#/ocr-pdf" class="text-brand-red hover:underline">OCR PDF tool</a> supports multiple languages. Always make sure you select the correct language from the options before starting the process to maximize accuracy.</p>

<h2>Conclusion: A Great Scan Means a Great Result</h2>
<p>By taking a few extra moments to prepare your documents and configure your scanner settings, you can dramatically improve the quality of your OCR results. A clean, high-contrast, 300 DPI scan will transform your paper documents into accurate, searchable, and highly usable digital files. Happy scanning!</p>`,image:"https://www.ilovepdf.com/storage/blog/49-1623244532-how-to-scan-and-convert-text@348w.jpeg",author:"The I Love PDFLY Team",authorImage:"https://ik.imagekit.io/fonepay/I%20lovePDLY%20logo.PNG?updatedAt=1753104228877",tags:["OCR","Scanning","Productivity","How To","Tips","Document Management"]},{slug:"how-to-edit-pdf-text-online",title:"How to edit text directly in your PDF files online",date:"July 30, 2025",excerpt:"Need to fix a typo or update a date in a PDF? Our advanced PDF editor makes it possible. This post walks you through the process, showing you how to select and edit text just like you would in a word processor, saving you the hassle of converting the file back and forth.",content:`<h2>The Challenge of Editing PDF Text</h2>
<p>PDFs are designed for reliability and consistency across platforms, which is great for sharing, but historically made them difficult to edit. Changing even a simple word often required converting the PDF to an editable format like Word, making the changes, and then converting it back to PDFa process that can mess up formatting.</p>

<h2>Introducing the I Love PDFLY Editor: Edit Text Directly</h2>
<p>Our powerful PDF Editor tool changes the game. It allows you to edit text directly within your PDF file, just as you would in a word processor. Here's how it works and what makes it so effective:</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Automatic Font Detection:</strong> When you select text to edit, our tool automatically detects the original font, size, and color, ensuring that your changes blend in seamlessly.</li>
    <li><strong>Full Formatting Control:</strong> Want to change the style? You have full control to customize the font, size, color, and apply bold or italic formatting to your new text.</li>
    <li><strong>Simple and Intuitive:</strong> No complex menus or tools to learn. Just upload your PDF, click on the text you want to change, and start typing.</li>
</ul>

<h2>How to Edit Text in a PDF Online for Free</h2>
<p>Follow these simple steps to edit the text in your PDF document in just a few clicks:</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li>Go to the <a href="/#/edit-pdf" class="text-brand-red hover:underline">Edit PDF tool</a>.</li>
    <li>Upload your PDF file from your device, Google Drive, or Dropbox.</li>
    <li>Once the file is loaded in the editor, select the <strong>'Edit text'</strong> option from the toolbar.</li>
    <li>Click on the text you want to modify. A bounding box will appear around the text block.</li>
    <li>Start typing to replace the existing text. Use the formatting toolbar that appears to adjust the font, size, color, and style as needed.</li>
    <li>After making all your changes, click the 'Save' button.</li>
    <li>Download your edited PDF file.</li>
</ol>
<p>That's it! You've successfully edited your PDF without losing quality or wasting time on conversions. Whether you need to correct a small typo, update an address, or revise a paragraph, the I Love PDFLY Editor is the fastest and easiest way to get it done online.</p>`,image:"https://www.ilovepdf.com/storage/blog/41-1623230784-Add-text-to-PDF@348w.png",author:"The I Love PDFLY Team",authorImage:"https://ik.imagekit.io/fonepay/I%20lovePDLY%20logo.PNG?updatedAt=1753104228877",tags:["Edit PDF","PDF Editor","Text Editing","How To","Productivity","Online Tools"]},{slug:"ilovepdfly-web-vs-desktop-vs-mobile-which-is-for-you",title:"I Love PDFLY Web vs. Desktop vs. Mobile: Which One Is for You?",date:"July 29, 2025",excerpt:"Confused about which I Love PDFLY version to use? This guide breaks down the key differences between our Web, Desktop, and Mobile platforms. Discover which tool is best for your specific needs, whether you prioritize online convenience, offline power, or on-the-go document management.",content:`Choosing the right tool for the job is key to maximizing productivity. At I Love PDFLY, we offer three powerful platforms designed to fit different workflows: Web, Desktop, and Mobile. Each has its unique strengths, and understanding them will help you manage your documents more effectively than ever before. Let's break down the differences.

<h2>I Love PDFLY Web: Instant Access, Anywhere</h2>
<p>The Web version is the heart of our service. It's the ultimate tool for convenience and accessibility.</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>No Installation Needed:</strong> Access our full suite of tools directly from any web browser (Chrome, Firefox, Safari, etc.) on any operating system (Windows, Mac, Linux).</li>
    <li><strong>Client-Side Processing:</strong> For most tools, your files are processed directly in your browser, ensuring maximum privacy and speed as nothing needs to be uploaded.</li>
    <li><strong>Always Up-to-Date:</strong> You are always using the latest version with the newest features and security enhancements, no updates required.</li>
    <li><strong>Best For:</strong> Quick, one-off tasks, users who work on multiple devices, and those who prioritize privacy and don't want to install software.</li>
</ul>

<h2>I Love PDFLY Desktop: Power and Offline Performance</h2>
<p>For professionals and power users who handle large volumes of documents, the Desktop app is a game-changer.</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Work Completely Offline:</strong> Process your documents without an internet connection. Your files never leave your computer, offering an unparalleled level of security.</li>
    <li><strong>Enhanced Performance:</strong> The Desktop app is optimized to use your computer's full processing power, making it ideal for large files and heavy-duty tasks like batch processing.</li>
    <li><strong>No File Size Limits:</strong> Handle massive PDF files without worrying about browser or internet limitations.</li>
    <li><strong>Best For:</strong> Professionals who need to process sensitive or large documents, users with unstable internet connections, and anyone who wants the fastest possible performance.</li>
</ul>

<h2>I Love PDFLY Mobile: Your On-the-Go PDF Toolkit</h2>
<p>Turn your smartphone into a powerful document management tool with the I Love PDFLY Mobile app.</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>PDF Scanner:</strong> Use your phone's camera to scan physical documents and save them as high-quality PDFs.</li>
    <li><strong>Edit and Annotate:</strong> Add text, highlight, draw, and comment on your PDFs directly from your phone or tablet.</li>
    <li><strong>Sign on the Go:</strong> Sign documents with your finger or a stylus, or request signatures from others, no matter where you are.</li>
    <li><strong>Cloud Integration:</strong> Easily import files from and save them to Google Drive and Dropbox for a seamless workflow between your devices.</li>
    <li><strong>Best For:</strong> Students, remote workers, and anyone who needs to manage documents while away from their desk.</li>
</ul>

<h2>Which One Should You Choose?</h2>
<p>The best version of I Love PDFLY depends on your needs:</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li>For <strong>ultimate convenience and accessibility</strong>, use the <strong>Web</strong> version.</li>
    <li>For <strong>maximum power, security, and offline work</strong>, download the <strong>Desktop</strong> app.</li>
    <li>For <strong>managing documents on the move</strong>, the <strong>Mobile</strong> app is your perfect companion.</li>
</ul>
<p>Many of our users find that a combination of the platforms works best, using each for what it does best. The choice is yours, and no matter which you pick, you'll be equipped with the best tools to handle any PDF task.</p>`,image:"https://www.ilovepdf.com/storage/blog/34-1623144469-Organize-PDF@348w.jpg",author:"The I Love PDFLY Team",authorImage:"https://ik.imagekit.io/fonepay/I%20lovePDLY%20logo.PNG?updatedAt=1753104228877",tags:["Web App","Desktop App","Mobile App","Productivity","PDF Tools","Comparison","Offline PDF","On-the-go"]},{slug:"introducing-ilovepdfly-chatgpt-custom-pdf-gpt",title:"Introducing I Love PDFLY + ChatGPT: The Custom PDF GPT",date:"July 28, 2025",excerpt:"Meet your new PDF assistant! I Love PDFLY integrates with ChatGPT, allowing you to summarize, translate, and ask questions about your documents using natural language. Upload any PDF and interact with it like never before, saving time and working smarter.",content:`Use ChatGPT as your PDF assistant with I Love PDFLYno software needed. Just upload, describe, and go.

We are excited to announce an innovative integration that combines the power of our PDF tools with the intelligence of ChatGPT. Now you can summarize, translate, or ask questions about your PDF content using natural language. This feature is set to revolutionize how you interact with your documents.

Imagine you have a dense, 50-page research paper. Instead of spending hours reading it, you can simply upload it to our AI Assistant, and ask, "What are the key findings of this study?". Our tool will analyze the document and provide a concise summary in seconds.

This isn't just about saving time; it's about making information more accessible and allowing you to work smarter, not harder.

The integration is seamless. There are no complex settings or configurations. It's designed to be as intuitive as having a conversation. Whether you're a student preparing for an exam, a professional analyzing a report, or just someone curious about a document's contents, our AI Assistant is here to help.

We believe this is the future of document management, and we're thrilled to be at the forefront of this technology.`,image:"https://www.ilovepdf.com/storage/blog/310-1744202844-iLovePDF%27s-OpenAI-PDF-GPT.png",author:"The I Love PDFLY Team",authorImage:"https://ik.imagekit.io/fonepay/I%20lovePDLY%20logo.PNG?updatedAt=1753104228877",tags:["ChatGPT","AI Assistant","PDF GPT","Summarize PDF","Translate PDF","Productivity","New Feature"]},{slug:"see-result-2081-2082",title:"How to Check SEE Result 2081/2082?",date:"July 25, 2025",excerpt:"Eagerly awaiting your SEE (Secondary Education Examination) result for 2081/2082? You're in the right place! This comprehensive guide provides everything you need to check your NEB SEE result quickly, easily, and securely. We've compiled all the official websites, SMS services, and the complete grading system to help you and your guardians navigate the result-checking process without any stress.",content:`Eagerly awaiting your SEE (Secondary Education Examination) result for 2081/2082? You're in the right place! This comprehensive guide provides everything you need to check your NEB SEE result quickly, easily, and securely. We've compiled all the official websites, SMS services, and the complete grading system to help you and your guardians navigate the result-checking process without any stress. The National Examination Board (NEB) will be publishing the results soon, and this guide is your one-stop resource to get your score the moment it's live.

<a href="https://see.ntc.net.np/" target="_blank" rel="noopener noreferrer" class="inline-block bg-brand-red hover:bg-brand-red-dark text-white font-bold py-3 px-8 rounded-lg my-6 no-underline text-lg">Check SEE Result Now</a>

<h2>How to Check Your SEE Result 2081/2082</h2>
<p>There are multiple ways to check your result. Below are the most reliable methods provided by the NEB and other trusted organizations.</p>

<h3>1. Check SEE Result via Official Websites</h3>
<p>The fastest way to view your results online is through the official portals. Simply click on a link from the table below, and have your Symbol Number and Date of Birth ready.</p>

<div class="my-6 rounded-lg shadow-md overflow-hidden border border-gray-200 dark:border-gray-700">
  <table class="min-w-full border-collapse">
    <thead class="bg-gray-50 dark:bg-gray-800">
      <tr>
        <th scope="col" class="px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-700">Name of the Organization</th>
        <th scope="col" class="px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-700">Website</th>
      </tr>
    </thead>
    <tbody class="bg-white dark:bg-gray-900">
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Edusanjal</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="http://see.edusanjal.com" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">see.edusanjal.com</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">National Examination Board (NEB), Grade 10</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="http://www.see.gov.np" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">www.see.gov.np</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">National Examination Board (NEB), Sanothimi</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="http://www.neb.gov.np" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">www.neb.gov.np</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Nepal Telecom</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="http://www.see.ntc.net.np" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">www.see.ntc.net.np</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Ekantipur</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="http://results.ekantipur.com" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">results.ekantipur.com</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">The Connect Plus</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="https://theconnectplus.com" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">https://theconnectplus.com</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">E-Sewa</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="http://see.esewa.com.np" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">see.esewa.com.np</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Khalti</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="https://khalti.com/app" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">https://khalti.com/app</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">College Info Nepal</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="http://collegeinfonepal.com/see" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">collegeinfonepal.com/see</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Barhakhari Media</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="http://www.12khari.com" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">www.12khari.com</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Colleges Nepal</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="https://www.collegesnepal.com/see_result/" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">https://www.collegesnepal.com/see_result/</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">NCell</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="https://bit.ly/GetNcellApp" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">https://bit.ly/GetNcellApp</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Swift Technology</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="https://swifttech.com.np/see-result/" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">https://swifttech.com.np/see-result/</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Neema Education Foundation</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="https://result.neemaacademy.com" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">https://result.neemaacademy.com</a></td></tr>
        <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">SmartCard Nepal</td><td class="px-6 py-4 text-sm border border-gray-300 dark:border-gray-700"><a href="http://see.mypay.com.np" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">see.mypay.com.np</a></td></tr>
    </tbody>
  </table>
</div>

<h3>2. Check SEE Result via SMS/IVR</h3>
<p>If you don't have internet access, you can easily check your result using SMS. Type <strong>SEE &lt;space&gt; Your_Symbol_Number</strong> and send it to one of the shortcodes below.</p>

<div class="my-6 rounded-lg shadow-md overflow-hidden border border-gray-200 dark:border-gray-700">
  <table class="min-w-full border-collapse">
    <thead class="bg-gray-50 dark:bg-gray-800">
      <tr>
        <th scope="col" class="px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-700">Organization</th>
        <th scope="col" class="px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-700">Method</th>
        <th scope="col" class="px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-700">Short Code</th>
      </tr>
    </thead>
    <tbody class="bg-white dark:bg-gray-900">
      <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Nepal Telecom</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">SMS/USSD and IVR</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">1600</td></tr>
      <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Janaki Technology</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">SMS</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">35001</td></tr>
      <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Akash Tech</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">SMS</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">31003</td></tr>
      <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Swift Technology</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">SMS</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">34455</td></tr>
      <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">All Star IT Solutions</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">SMS</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">34949</td></tr>
    </tbody>
  </table>
</div>

<h3>3. Using I Love PDFLY as Your Result Hub</h3>
<p>At I Love PDFLY, we are dedicated to making information accessible. While we do not host the results directly on our site, we provide a centralized, up-to-date hub with all the verified links and information you need. You can use this post to securely and directly access the official result portals without navigating through confusing websites.</p>

<h2>Understanding the SEE Grading System</h2>
<p>The SEE result is published using a Grade Point Average (GPA) system. The table below shows the grade, grade point, and description corresponding to the percentage of marks obtained.</p>

<div class="my-6 rounded-lg shadow-md overflow-hidden border border-gray-200 dark:border-gray-700">
  <table class="min-w-full border-collapse">
    <thead class="bg-gray-50 dark:bg-gray-800">
      <tr>
        <th scope="col" class="px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-700">S.N.</th>
        <th scope="col" class="px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-700">Percentage (%)</th>
        <th scope="col" class="px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-700">Grade</th>
        <th scope="col" class="px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-700">Description</th>
        <th scope="col" class="px-6 py-4 text-left text-sm font-semibold text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-700">Grade Point</th>
      </tr>
    </thead>
    <tbody class="bg-white dark:bg-gray-900">
      <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">1</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">90 to 100</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 font-bold border border-gray-300 dark:border-gray-700">A+</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Outstanding</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">4.0</td></tr>
      <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">2</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">80 to below 90</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 font-bold border border-gray-300 dark:border-gray-700">A</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Excellent</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">3.6</td></tr>
      <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">3</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">70 to below 80</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 font-bold border border-gray-300 dark:border-gray-700">B+</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Very Good</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">3.2</td></tr>
      <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">4</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">60 to below 70</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 font-bold border border-gray-300 dark:border-gray-700">B</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Good</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">2.8</td></tr>
      <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">5</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">50 to below 60</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 font-bold border border-gray-300 dark:border-gray-700">C+</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Satisfactory</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">2.4</td></tr>
      <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">6</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">40 to below 50</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 font-bold border border-gray-300 dark:border-gray-700">C</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Acceptable</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">2.0</td></tr>
      <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">7</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">35 and above</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 font-bold border border-gray-300 dark:border-gray-700">D</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Basic</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">1.6</td></tr>
      <tr><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">8</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Below 35</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 font-bold border border-gray-300 dark:border-gray-700">Non-graded</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">Unclassified</td><td class="px-6 py-4 text-sm text-gray-800 dark:text-gray-200 border border-gray-300 dark:border-gray-700">-</td></tr>
    </tbody>
  </table>
</div>

<h2>Frequently Asked Questions (FAQs)</h2>
<div class="space-y-4 mt-6">
  <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
    <h4 class="font-semibold text-lg">How do I check my SEE Results 2081/2082 online?</h4>
    <p>You can conveniently access your SEE Results by visiting one of the official websites listed in the table above. You will need to enter your symbol number and other required details to view your performance.</p>
  </div>
  <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
    <h4 class="font-semibold text-lg">Can I check SEE results with my symbol number only?</h4>
    <p>Yes, for most online portals, your symbol number is the primary piece of information required. Some sites may also ask for your date of birth for verification.</p>
  </div>
  <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
    <h4 class="font-semibold text-lg">What should I do if I forget my SEE symbol number?</h4>
    <p>Your symbol number is printed on your admit card. If you have lost your admit card, you should contact your school administration or the National Examinations Board (NEB) to retrieve it.</p>
  </div>
   <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
    <h4 class="font-semibold text-lg">How do I apply for SEE re-totaling or result correction?</h4>
    <p>The process for re-totaling typically begins a few days after the results are published. Keep an eye out for an official notice from the NEB on their website for detailed instructions and deadlines.</p>
  </div>
   <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
    <h4 class="font-semibold text-lg">What should I do after SEE?</h4>
    <p>After SEE, you have several paths to consider, including pursuing +2 education (Science, Management, Humanities, etc.), A-level programs, or enrolling in technical/vocational training (CTEVT). It's a great time to research colleges and courses that align with your career goals and interests.</p>
  </div>
</div>`,image:"https://ik.imagekit.io/fonepay/result%20copy.jpg?updatedAt=1753159229021",author:"The I Love PDFLY Team",authorImage:"https://ik.imagekit.io/fonepay/I%20lovePDLY%20logo.PNG?updatedAt=1753104228877",tags:["SEE Result","NEB","Education","Nepal","Result 2081"]},{slug:"how-to-register-imei-in-mdms-nepal",title:"How to Register IMEI Number in MDMS System in Nepal? A Complete 2025 Guide",date:"July 20, 2025",excerpt:"Your ultimate 2025 guide to registering your mobile phone's IMEI in Nepal's MDMS system. Learn why MDMS is crucial, who needs to register, and follow our detailed step-by-step instructions for individual registration at mdms.nta.gov.np. We cover required documents, how to find your IMEI, check your status, and answer all your FAQs to avoid network blockage and ensure your device is compliant with NTA regulations.",content:`Bringing a new mobile phone from abroad to Nepal? Heard about the MDMS system and worried your phone might get blocked? You've come to the right place. The implementation of the Mobile Device Management System (MDMS) by the Nepal Telecommunications Authority (NTA) has changed how mobile phones, especially those brought from foreign countries, are used in Nepal. This system is a crucial step towards regulating the telecom sector, but it has also created confusion for many.

This comprehensive guide is designed to be your one-stop resource for everything related to MDMS and IMEI registration in Nepal for the year 2025. We will walk you through the entire process, from understanding what MDMS is to a detailed, step-by-step guide on how to register your phone, check its status, and troubleshoot common issues. Our goal is to demystify the process, ensuring your device remains connected to Nepali networks without any hassle.

<a href="https://mdms.nta.gov.np/public" target="_blank" rel="noopener noreferrer" class="inline-block bg-brand-red hover:bg-brand-red-dark text-white font-bold py-3 px-8 rounded-lg my-6 no-underline text-lg">Go to the Official MDMS Portal</a>

<h2>What Exactly is the MDMS System in Nepal?</h2>
<p>The Mobile Device Management System (MDMS) is an integrated, government-run system implemented by the Nepal Telecommunications Authority (NTA). Its primary purpose is to create a centralized database of all mobile devices operating within Nepal by tracking their unique International Mobile Equipment Identity (IMEI) numbers. Think of the IMEI as a unique fingerprint for your phone.</p>
<p>The core objectives of the MDMS are:</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Curbing the Grey Market:</strong> To stop the illegal importation and sale of mobile phones that bypass official channels and avoid government taxes (VAT). This ensures a level playing field for authorized dealers and increases national revenue.</li>
    <li><strong>Preventing Mobile Phone Theft:</strong> A registered phone that is reported stolen can be blocked from accessing any network in Nepal, making it useless to thieves and aiding in its recovery.</li>
    <li><strong>Enhancing National Security:</strong> By tracking active devices, the system helps security agencies monitor and investigate criminal activities conducted using mobile phones.</li>
    <li><strong>Ensuring Consumer Rights:</strong> It guarantees that consumers are purchasing genuine, type-approved mobile devices that come with a valid warranty and after-sales service.</li>
</ul>
<p>In simple terms, if your phone's IMEI is not registered in the MDMS database, it will eventually be blocked from using SIM cards from any Nepali telecom operator like Nepal Telecom (NTC), Ncell, or Smart Cell.</p>

<h2>Who Needs to Register Their Phone in MDMS?</h2>
<p>Understanding whether you need to register is the first crucial step. Heres a breakdown:</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Nepali Citizens Returning from Abroad:</strong> This is the largest group. If you are a Nepali citizen and you bring a mobile phone from a foreign country for personal use, you must register it.</li>
    <li><strong>Foreign Tourists:</strong> If you are a tourist visiting Nepal and plan to use a Nepali SIM card for more than 15 days, you will need to register your device.</li>
    <li><strong>Gifted Phones from Abroad:</strong> If a friend or relative brings or sends you a phone from another country, it must be registered to function in Nepal.</li>
    <li><strong>Purchases from Unofficial Channels (Grey Market):</strong> If you bought a phone from a shop that is not an authorized distributor, there's a high chance its IMEI is not registered. You must check its status and register it if necessary.</li>
</ul>
<div class="my-4 p-4 bg-yellow-100 dark:bg-yellow-900/50 border-l-4 border-yellow-400 text-yellow-800 dark:text-yellow-300">
    <strong>Important Note:</strong> If you purchase a phone from an authorized, official retailer within Nepal, the importer or distributor is responsible for registering its IMEI in the MDMS system before the sale. However, it is always a wise practice to verify its registration status yourself at the time of purchase.
</div>

<h2>Preparation: Documents and Information You'll Need</h2>
<p>Before you begin the online registration process, gathering all the necessary information and documents will make it significantly faster and smoother. Make sure you have clear digital copies (scans or high-quality photos) of the required documents.</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li><strong>Your IMEI Number(s):</strong> This is the most critical piece of information.
        <ul class="list-disc list-inside ml-6 mt-2">
            <li><strong>How to find it?</strong> The easiest way is to dial <strong>*#06#</strong> on your phone. A pop-up will display your 15-digit IMEI number(s).</li>
            <li>For dual-SIM phones, you will have two IMEI numbers. Both should be noted down.</li>
            <li>You can also find it in your phone's settings (usually under 'About Phone' > 'Status') or printed on the original box.</li>
        </ul>
    </li>
    <li><strong>Device Details:</strong> Brand (e.g., Apple, Samsung) and the specific Model Number (e.g., iPhone 15 Pro, Galaxy S24 Ultra).</li>
    <li><strong>Personal Details:</strong> Your full name and address as per your official documents.</li>
    <li><strong>Travel Documents (for those bringing phones from abroad):</strong>
        <ul class="list-disc list-inside ml-6 mt-2">
            <li>A clear scan or photo of your <strong>Passport's photo page</strong>.</li>
            <li>A clear scan or photo of your Passport page showing the <strong>arrival stamp</strong> from Nepali Immigration. This proves your recent entry into the country.</li>
            <li>For migrant workers (shram swikriti), a scan of the visa page might also be required.</li>
        </ul>
    </li>
</ul>

<h2>Step-by-Step Guide: How to Register Your IMEI on the MDMS Portal</h2>
<p>Follow these steps carefully to register your device. The process is entirely online and can be done from anywhere with an internet connection.</p>

<h3>Step 1: Go to the Official MDMS Portal</h3>
<p>Open your web browser and navigate to the one and only official website for MDMS registration: <a href="https://mdms.nta.gov.np/public" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">https://mdms.nta.gov.np/public</a>. Be wary of fake websites.</p>

<h3>Step 2: Navigate to Individual Registration</h3>
<p>On the homepage, you will see a few options. Click on the button that says <strong>"Individual Registration"</strong>.</p>

<h3>Step 3: Fill Out the Registration Form</h3>
<p>You will be presented with a detailed form. Fill it out accurately. The form has several sections:</p>
<ol class="list-decimal list-inside space-y-4 my-4">
    <li>
        <strong>Applicant Type:</strong> Choose 'Nepali' or 'Foreigner' accordingly.
    </li>
    <li>
        <strong>Registration Type:</strong> Select 'Individual Registration for Nepali Citizens Returning from Abroad'.
    </li>
    <li>
        <strong>Applicant's Details:</strong>
        <ul class="list-disc list-inside ml-6 mt-2">
            <li><strong>Applicant's Name:</strong> Enter your full name as it appears on your passport.</li>
            <li><strong>Passport No.:</strong> Enter your passport number.</li>
            <li><strong>Last Arrival Date:</strong> Select the date you last entered Nepal (this must match your arrival stamp).</li>
        </ul>
    </li>
    <li>
        <strong>Device Details:</strong>
        <ul class="list-disc list-inside ml-6 mt-2">
            <li><strong>IMEI/ESN/MEID:</strong> Carefully enter the 15-digit IMEI number of your phone. If you have a dual-SIM phone, enter the second IMEI in the next box.</li>
            <li><strong>Brand Name:</strong> Select the brand of your phone from the dropdown list.</li>
            <li><strong>Model Number:</strong> Enter the exact model number of your device.</li>
        </ul>
    </li>
    <li>
        <strong>Address Details:</strong> Provide your current address in Nepal.
    </li>
    <li>
        <strong>Contact Details:</strong> Enter a valid contact number and email address. The NTA may use this to communicate with you about your application status.
    </li>
</ol>

<h3>Step 4: Upload Required Documents</h3>
<p>This is a critical step. You will see sections to upload your documents. Click 'Choose File' for each and select the digital copies you prepared earlier.</p>
<ul class="list-disc list-inside space-y-2 my-4">
    <li>Upload the scan of your Passport's photo page.</li>
    <li>Upload the scan of the page with your arrival stamp.</li>
    <li>Ensure the files are in a supported format (like JPG, JPEG, or PNG) and that the text and images are clear and readable. Blurry documents are a common reason for rejection.</li>
</ul>

<h3>Step 5: Submit the Application</h3>
<p>Double-check all the information you have entered. A small typo can lead to rejection. Once you are sure everything is correct, click the 'Submit' button. You may need to agree to the terms and conditions.</p>

<h3>Step 6: Check Your Application Status</h3>
<p>After submission, you should receive a confirmation. The NTA will review your application. You can check the status later by visiting the portal again and looking for an option to check your application status, for which you might need your passport number or a submission ID.</p>

<h2>How to Check if Your Phone is Already Registered in MDMS</h2>
<p>Before you panic, it's a good idea to check your phone's status. This is especially important if you bought it from a shop in Nepal.</p>
<ol class="list-decimal list-inside space-y-2 my-4">
    <li>Go to the MDMS portal: <a href="https://mdms.nta.gov.np/public" target="_blank" rel="noopener noreferrer" class="text-brand-red hover:underline">mdms.nta.gov.np</a></li>
    <li>On the homepage, click on <strong>"Know Your Device"</strong>.</li>
    <li>Enter your phone's 15-digit IMEI number in the box provided.</li>
    <li>Click 'Submit'.</li>
    <li>The system will show you a message indicating whether your device is registered with the NTA or not.</li>
</ol>

<h2>Frequently Asked Questions (FAQs)</h2>
<div class="space-y-4 mt-6">
  <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
    <h4 class="font-semibold text-lg">What is the MDMS system in Nepal?</h4>
    <p>MDMS stands for Mobile Device Management System. It's a security system implemented by the Nepal Telecommunications Authority (NTA) to track, monitor, and regulate all mobile devices operating in Nepal using their IMEI numbers. Its main goals are to stop the illegal grey market for phones, prevent theft, and enhance national security.</p>
  </div>
  <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
    <h4 class="font-semibold text-lg">Is IMEI registration in MDMS free of charge?</h4>
    <p>Yes, for individuals bringing one or two phones from abroad for personal use, the registration process is completely free. However, if you import phones commercially, you must follow the proper legal channels and pay the applicable taxes and duties.</p>
  </div>
  <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
    <h4 class="font-semibold text-lg">How many mobile phones can I bring from abroad and register?</h4>
    <p>As per the current government policy, a Nepali citizen returning from abroad is allowed to bring one used mobile phone that they are currently using, which does not require customs declaration. They can bring one additional brand-new, sealed-pack phone, which also needs to be registered in MDMS. Policies can change, so it's advisable to check the latest regulations from the Department of Customs or NTA.</p>
  </div>
  <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
    <h4 class="font-semibold text-lg">I bought my phone in Nepal. Do I still need to register it in MDMS?</h4>
    <p>If you purchased your phone from an authorized distributor or an official brand store in Nepal, it should have been pre-registered by the importer. You do not need to register it again. However, it's highly recommended to verify its status using the "Know Your Device" feature on the MDMS portal to be certain.</p>
  </div>
   <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
    <h4 class="font-semibold text-lg">My application was rejected. What are the common reasons and what should I do?</h4>
    <p>Common reasons for rejection include: blurry or unreadable uploaded documents, incorrect IMEI or passport number, arrival date not matching the stamp, or applying to register more phones than permitted. If rejected, you should carefully read the reason provided by the system, correct the errors, and re-submit your application with the accurate information and clearer documents.</p>
  </div>
   <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
    <h4 class="font-semibold text-lg">How long does it take for the IMEI to be registered after submitting the application?</h4>
    <p>The verification and registration process typically takes a few business days. However, the time can vary depending on the volume of applications the NTA is processing. It is advisable to apply as soon as you arrive in Nepal and check the status online periodically.</p>
  </div>
   <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
    <h4 class="font-semibold text-lg">What happens if I don't register my phone?</h4>
    <p>If your phone's IMEI is not registered in the MDMS system, it will be blocked from accessing any Nepali telecom network (NTC, Ncell, Smart Cell). This means you will not be able to make calls, send texts, or use mobile data with a Nepali SIM card. The phone will essentially become a Wi-Fi-only device in Nepal.</p>
  </div>
   <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
    <h4 class="font-semibold text-lg">I received a phone as a gift from a relative abroad. How do I register it?</h4>
    <p>The registration process requires the travel documents of the person who brought the phone into Nepal. You will need a copy of their passport and the arrival stamp page to complete the individual registration form. You cannot register it without these documents.</p>
  </div>
</div>`,image:"https://ik.imagekit.io/fonepay/mdms%20ilovepdfly.png?updatedAt=1753247495786",author:"The I Love PDFLY Team",authorImage:"https://ik.imagekit.io/fonepay/I%20lovePDLY%20logo.PNG?updatedAt=1753104228877",tags:["MDMS","IMEI Registration","Nepal","NTA","Tech Guide","Government"]}],p8=({className:n})=>w.jsx("svg",{className:n,stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})}),f8=({className:n})=>w.jsx("svg",{className:n,stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),m8=({onOpenProfileImageModal:n,onOpenChangePasswordModal:e,onOpenSearchModal:t})=>{const[r,i]=L.useState(!1),[a,l]=L.useState(!1),[u,p]=L.useState(!1),[f,v]=L.useState(!1),[_,I]=L.useState(!1),[P,O]=L.useState(!1),[z,C]=L.useState(!1),[K,J]=L.useState(new Date),Q=L.useRef(null),se=L.useRef(null),ve=L.useRef(null),_e=L.useRef(null),R=L.useRef(null),{theme:T,toggleTheme:A}=nR(),{user:N,logout:F}=C_();L.useEffect(()=>{const X=setInterval(()=>J(new Date),1e3);return()=>clearInterval(X)},[]),L.useEffect(()=>{const X=()=>{const ue=sessionStorage.getItem("isAdminAuthenticated")==="true";C(ue)};return X(),window.addEventListener("storage",X),()=>{window.removeEventListener("storage",X)}},[]),L.useEffect(()=>{const X=ue=>{Q.current&&!Q.current.contains(ue.target)&&i(!1),se.current&&!se.current.contains(ue.target)&&l(!1)};return document.addEventListener("mousedown",X),()=>{document.removeEventListener("mousedown",X)}},[]),L.useEffect(()=>(document.body.style.overflow=u?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[u]);const V=()=>{i(!1),l(!1),p(!1),v(!1),I(!1),O(!1)},S=(X,ue)=>{ue.current&&(clearTimeout(ue.current),ue.current=null),X(!0)},Me=(X,ue)=>{ue.current=window.setTimeout(()=>{X(!1)},200)},Xe={organize:{title:"Organize",order:1},optimize:{title:"Optimize",order:2},"convert-to":{title:"Convert to PDF",order:3},"convert-from":{title:"Convert from PDF",order:4},edit:{title:"Edit",order:5},security:{title:"Security",order:6},business:{title:"Business Tools",order:7}},jt=_v.reduce((X,ue)=>{const Ce=ue.category||"organize";return X[Ce]||(X[Ce]={...Xe[Ce],tools:[]}),X[Ce].tools.push(ue),X},{}),He=Object.entries(jt).map(([X,ue])=>({...ue,key:X})).sort((X,ue)=>X.order-ue.order),ae=_v.filter(X=>X.category==="convert-to"||X.category==="convert-from"),ge=K.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}),pe=[{to:"/",label:"Home",icon:vS},{to:"/about",label:"About",icon:ua},{to:"/blog",label:"Blog",icon:yf},{to:"/play-game",label:"Play Game",icon:_S},{to:"/api-reference",label:"API Reference",icon:Ys}],j=[{to:"/about",label:"About"},{to:"/blog",label:"Blog"},{to:"/compress-pdf",label:"Compress PDF"},{to:"/merge-pdf",label:"Merge PDF"},{to:"/jpg-to-pdf",label:"JPG to PDF"}],Y=[{to:"/pricing",label:"Pricing",icon:i8},{to:"/education",label:"Education",icon:Z9},{to:"/business",label:"Business",icon:e8},{to:"/how-to-use",label:"How to Use",icon:xS},{to:"/privacy-policy",label:"Privacy Policy",icon:n8},{to:"/terms-of-service",label:"Terms of Service",icon:r8}];return w.jsxs(w.Fragment,{children:[w.jsx("header",{className:"bg-white dark:bg-black border-b border-gray-200 dark:border-gray-800 sticky top-0 z-50",children:w.jsx("div",{className:"container mx-auto px-6 py-3",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("div",{className:"md:hidden",children:w.jsx("button",{onClick:()=>p(!0),className:"text-gray-600 dark:text-gray-300 hover:text-brand-red dark:hover:text-brand-red transition-colors","aria-label":"Open main menu",title:"Open main menu",children:w.jsx(p8,{className:"h-6 w-6"})})}),w.jsxs(Ze,{to:"/",className:"flex items-center space-x-1",title:"I Love PDFLY Home",children:[w.jsx("span",{className:"text-2xl font-extrabold text-gray-800 dark:text-gray-100 tracking-tight",children:"I"}),w.jsx("span",{className:"text-xl text-brand-red",children:""}),w.jsx("span",{className:"text-2xl font-extrabold text-gray-800 dark:text-gray-100 tracking-tight",children:"PDFLY"})]}),w.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[j.map(X=>w.jsx(Ze,{to:X.to,onClick:V,title:X.label,className:"px-3 py-2 text-gray-600 dark:text-gray-300 hover:text-brand-red dark:hover:text-brand-red transition-colors rounded-md text-sm font-semibold whitespace-nowrap",children:X.label},X.to)),w.jsxs("div",{className:"relative",onMouseEnter:()=>S(O,R),onMouseLeave:()=>Me(O,R),children:[w.jsxs("button",{title:"API Tools",className:"flex items-center px-3 py-2 text-gray-600 dark:text-gray-300 hover:text-brand-red dark:hover:text-brand-red transition-colors rounded-md text-sm font-semibold whitespace-nowrap",children:[w.jsx("span",{children:"API"}),w.jsx(wy,{className:`h-4 w-4 ml-1 transition-transform duration-200 ${P?"rotate-180":""}`})]}),w.jsxs("div",{className:`absolute top-full left-0 mt-2 w-64 bg-white dark:bg-black border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl py-2 z-20 transition-all duration-200 ease-out origin-top-left ${P?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,children:[w.jsxs(Ze,{to:"/developer",onClick:V,title:"Developer Hub",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red transition-colors",children:[w.jsx(s8,{className:"h-5 w-5 text-purple-500"}),w.jsx("span",{children:"Developer Hub"})]}),w.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),w.jsxs(Ze,{to:"/api-pdf",onClick:V,title:"PDF Tools API",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red transition-colors",children:[w.jsx(Ys,{className:"h-5 w-5 text-red-500"}),w.jsx("span",{children:"PDF Tools API"})]}),w.jsxs(Ze,{to:"/api-image",onClick:V,title:"Image Tools API",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red transition-colors",children:[w.jsx(Ys,{className:"h-5 w-5 text-blue-500"}),w.jsx("span",{children:"Image Tools API"})]}),w.jsxs(Ze,{to:"/api-signature",onClick:V,title:"Signature API",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red transition-colors",children:[w.jsx(Ys,{className:"h-5 w-5 text-green-500"}),w.jsx("span",{children:"Signature API"})]}),w.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),w.jsxs(Ze,{to:"/api-reference",onClick:V,title:"API Reference",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red transition-colors",children:[w.jsx(yf,{className:"h-5 w-5"}),w.jsx("span",{children:"API Reference"})]})]})]}),w.jsxs("div",{className:"relative",onMouseEnter:()=>S(v,ve),onMouseLeave:()=>Me(v,ve),children:[w.jsxs("button",{title:"Convert PDF Tools",className:"flex items-center px-3 py-2 text-gray-600 dark:text-gray-300 hover:text-brand-red dark:hover:text-brand-red transition-colors rounded-md text-sm font-semibold whitespace-nowrap",children:[w.jsx("span",{children:"Convert PDF"}),w.jsx(wy,{className:`h-4 w-4 ml-1 transition-transform duration-200 ${f?"rotate-180":""}`})]}),w.jsx("div",{className:`absolute top-full left-0 mt-2 w-64 bg-white dark:bg-black border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl py-2 z-20 transition-all duration-200 ease-out origin-top-left ${f?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,children:w.jsx("div",{className:"grid grid-cols-1",children:ae.map(X=>w.jsxs(Ze,{to:`/${X.id}`,onClick:V,title:X.title,className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red transition-colors",children:[w.jsx(X.Icon,{className:`h-5 w-5 ${X.textColor}`}),w.jsx("span",{children:X.title})]},X.id))})})]}),w.jsxs("div",{className:"relative",onMouseEnter:()=>S(I,_e),onMouseLeave:()=>Me(I,_e),children:[w.jsxs("button",{title:"All PDF Tools",className:"flex items-center px-3 py-2 text-gray-600 dark:text-gray-300 hover:text-brand-red dark:hover:text-brand-red transition-colors rounded-md text-sm font-semibold whitespace-nowrap",children:[w.jsx("span",{children:"All PDF Tools"}),w.jsx(wy,{className:`h-4 w-4 ml-1 transition-transform duration-200 ${_?"rotate-180":""}`})]}),w.jsx("div",{className:`absolute top-full right-0 mt-2 w-max bg-white dark:bg-black border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl p-6 z-20 transition-all duration-200 ease-out origin-top-right ${_?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,children:w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-8 gap-y-4 max-w-4xl",children:He.map(X=>w.jsxs("div",{children:[w.jsx("h4",{className:"px-2 pb-2 text-sm font-bold text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-700",children:X.title}),w.jsx("div",{className:"mt-2 space-y-1",children:X.tools.map(ue=>w.jsxs(Ze,{to:`/${ue.id}`,onClick:V,title:ue.title,className:"flex items-center gap-3 p-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[w.jsx(ue.Icon,{className:`h-5 w-5 flex-shrink-0 ${ue.textColor}`}),w.jsx("span",{className:"font-semibold text-sm whitespace-nowrap",children:ue.title})]},ue.id))})]},X.title))})})]})]})]}),w.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[w.jsx("div",{className:"text-xs sm:text-sm font-mono text-gray-500 dark:text-gray-400","aria-live":"polite","aria-atomic":"true",children:ge}),w.jsx("button",{onClick:t,className:"text-gray-600 dark:text-gray-300 hover:text-brand-red dark:hover:text-brand-red transition-colors","aria-label":"Search",title:"Search",children:w.jsx(wS,{className:"h-6 w-6"})}),N?w.jsxs("div",{className:"relative",ref:se,children:[w.jsx("button",{onClick:()=>l(!a),className:"block h-10 w-10 rounded-full overflow-hidden border-2 border-transparent hover:border-brand-red transition","aria-label":"Open user profile menu",title:"Open user profile menu",children:N.profileImage?w.jsx("img",{src:N.profileImage,alt:"Profile",className:"h-full w-full object-cover"}):w.jsx(G9,{className:"h-full w-full text-gray-500 dark:text-gray-400"})}),a&&w.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-black border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl py-2",children:[w.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[w.jsx("p",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:"Signed in as"}),w.jsxs("div",{className:"flex items-center justify-between mt-1",children:[w.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white truncate",children:N.username}),N.isPremium&&w.jsxs("span",{className:"flex items-center gap-1 bg-yellow-100 text-yellow-800 text-xs font-semibold px-2 py-0.5 rounded-full border border-yellow-400 dark:bg-yellow-900/50 dark:text-yellow-300 dark:border-yellow-600",children:[w.jsx(X9,{className:"h-3 w-3"}),"Premium"]})]})]}),w.jsxs("div",{className:"py-1",children:[w.jsxs("button",{onClick:()=>{n(),V()},title:"Change profile photo",className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red transition-colors",children:[w.jsx(K9,{className:"h-5 w-5"}),w.jsx("span",{children:"Change Photo"})]}),w.jsxs("button",{onClick:()=>{e(),V()},title:"Change password",className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red transition-colors",children:[w.jsx(Q9,{className:"h-5 w-5"}),w.jsx("span",{children:"Change Password"})]})]}),w.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 py-1",children:w.jsxs("button",{onClick:()=>{F(),V()},title:"Logout",className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red transition-colors",children:[w.jsx(Y9,{className:"h-5 w-5"}),w.jsx("span",{children:"Logout"})]})})]})]}):w.jsxs("div",{className:"hidden sm:flex items-center space-x-2 md:space-x-4",children:[w.jsx(Ze,{to:"/login",title:"Login",className:"text-gray-600 dark:text-gray-300 hover:text-brand-red dark:hover:text-brand-red transition-colors font-semibold px-2",children:"Login"}),w.jsx(Ze,{to:"/signup",title:"Sign Up",className:"bg-brand-red hover:bg-brand-red-dark text-white font-bold py-2 px-4 rounded-md transition-colors",children:"Sign up"})]}),w.jsxs("div",{className:"relative block",ref:Q,children:[w.jsx("button",{onClick:()=>i(!r),className:"text-gray-600 dark:text-gray-300 hover:text-brand-red dark:hover:text-brand-red transition-colors","aria-label":"Open all tools and options",title:"Open all tools and options",children:w.jsx(S9,{className:"h-6 w-6"})}),r&&w.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-black border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl py-2",children:[pe.map(X=>w.jsxs(Ze,{to:X.to,onClick:V,title:X.label,className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red transition-colors",children:[w.jsx(X.icon,{className:"h-5 w-5"}),w.jsx("span",{children:X.label})]},X.to)),w.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),Y.map(X=>w.jsxs(Ze,{to:X.to,onClick:V,title:X.label,className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red transition-colors",children:[w.jsx(X.icon,{className:"h-5 w-5"}),w.jsx("span",{children:X.label})]},X.to)),w.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),w.jsxs(Ze,{to:"/contact",onClick:V,title:"Contact",className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red transition-colors",children:[w.jsx(J9,{className:"h-5 w-5"}),w.jsx("span",{children:"Contact"})]}),w.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),w.jsx(Ze,{to:"/developer-access",onClick:V,title:"Admin Access",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red",children:"Admin Access"}),z&&w.jsx(Ze,{to:"/admin-dashboard",onClick:V,title:"Admin Dashboard",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red",children:"Admin Dashboard"}),w.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),w.jsxs("button",{onClick:A,title:"Toggle Theme",className:"w-full flex items-center justify-between px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-brand-red",children:[w.jsx("span",{children:"Toggle Theme"}),T==="light"?w.jsx(q9,{className:"h-5 w-5"}):w.jsx(B9,{className:"h-5 w-5"})]})]})]}),!N&&w.jsx("div",{className:"sm:hidden",children:w.jsx(Ze,{to:"/login",className:"text-gray-600 dark:text-gray-300 hover:text-brand-red","aria-label":"Login or sign up",title:"Login or sign up",children:w.jsx(ua,{className:"h-7 w-7"})})})]})]})})}),w.jsx("div",{className:`fixed inset-0 z-[60] bg-black/50 transition-opacity md:hidden ${u?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>p(!1)}),w.jsx("div",{className:`fixed top-0 left-0 h-full w-full max-w-xs bg-white dark:bg-black z-[70] transition-transform duration-300 ease-in-out md:hidden transform ${u?"translate-x-0":"-translate-x-full"}`,children:w.jsxs("div",{className:"flex flex-col h-full",children:[w.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[w.jsx("span",{className:"font-bold text-lg text-gray-800 dark:text-gray-100",children:"All Tools"}),w.jsx("button",{onClick:()=>p(!1),className:"text-gray-600 dark:text-gray-300","aria-label":"Close menu",title:"Close menu",children:w.jsx(f8,{className:"h-6 w-6"})})]}),w.jsx("nav",{className:"flex-grow overflow-y-auto p-2",children:w.jsxs("div",{className:"space-y-4",children:[He.map(X=>w.jsxs("div",{children:[w.jsx("h4",{className:"px-3 py-2 text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:X.title}),w.jsx("div",{className:"mt-1 space-y-1",children:X.tools.map(ue=>w.jsxs(Ze,{to:`/${ue.id}`,onClick:V,title:ue.title,className:"flex items-center space-x-4 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[w.jsx(ue.Icon,{className:`h-6 w-6 flex-shrink-0 ${ue.textColor}`}),w.jsx("span",{className:"font-semibold text-sm",children:ue.title})]},ue.id))})]},X.title)),w.jsxs("div",{children:[w.jsx("h4",{className:"px-3 py-2 text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Developer API"}),w.jsxs("div",{className:"mt-1 space-y-1",children:[w.jsxs(Ze,{to:"/api-pdf",onClick:V,title:"PDF REST API",className:"flex items-center space-x-4 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",children:[w.jsx(Ys,{className:"h-6 w-6 text-red-500"}),w.jsx("span",{children:"PDF REST API"})]}),w.jsxs(Ze,{to:"/api-image",onClick:V,title:"Image REST API",className:"flex items-center space-x-4 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",children:[w.jsx(Ys,{className:"h-6 w-6 text-blue-500"}),w.jsx("span",{children:"Image REST API"})]}),w.jsxs(Ze,{to:"/api-signature",onClick:V,title:"Signature REST API",className:"flex items-center space-x-4 p-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",children:[w.jsx(Ys,{className:"h-6 w-6 text-green-500"}),w.jsx("span",{children:"Signature REST API"})]})]})]})]})}),w.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:!N&&w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx(Ze,{to:"/login",onClick:V,title:"Login",className:"flex-1 text-center font-semibold text-gray-600 dark:text-gray-300 hover:text-brand-red dark:hover:text-brand-red transition-colors py-2 px-4 rounded-md border border-gray-300 dark:border-gray-700",children:"Login"}),w.jsx(Ze,{to:"/signup",onClick:V,title:"Sign Up",className:"flex-1 text-center bg-brand-red hover:bg-brand-red-dark text-white font-bold py-2 px-4 rounded-md transition-colors",children:"Sign up"})]})})]})})]})},g8=L.memo(m8),y8=({onOpenCalendarModal:n})=>{const[e,t]=L.useState(""),[r,i]=L.useState(""),a=I=>{I.preventDefault(),e&&e.includes("@")?(i(`Thank you for subscribing, ${e}!`),t(""),setTimeout(()=>i(""),5e3)):(i("Please enter a valid email address."),setTimeout(()=>i(""),3e3))},l=()=>{const I=document.createElement("a");I.href="https://ik.imagekit.io/fonepay/I%20lovePDLY%20logo.PNG?updatedAt=1753104228877",I.download="ilovepdfly-logo.png",document.body.appendChild(I),I.click(),document.body.removeChild(I)},u=[{path:"/merge-pdf",name:"Merge PDF"},{path:"/compress-pdf",name:"Compress PDF"},{path:"/jpg-to-pdf",name:"JPG to PDF"},{path:"/edit-pdf",name:"Edit PDF"},{path:"/pdf-to-word",name:"PDF to Word"}],p=[{path:"/education",name:"For Education"},{path:"/business",name:"For Business"},{path:"/how-to-use",name:"How-to Guides"}],f=[{path:"/about",name:"About"},{path:"/blog",name:"Blog"},{path:"/contact",name:"Contact"},{path:"/ceo",name:"Message from CEO"},{path:"/privacy-policy",name:"Privacy Policy"},{path:"/terms-of-service",name:"Terms & Conditions"},{path:"/cookies-policy",name:"Cookies Policy"}],v=[{path:"/developer",name:"Developer API"},{path:"/api-reference",name:"API Reference"},{path:"/api-pdf",name:"PDF Tools API"},{path:"/api-image",name:"Image Tools API"},{path:"/api-signature",name:"Signature API"}],_=w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex space-x-4 mt-5",children:[w.jsx("a",{href:"https://www.facebook.com/share/16sdjGNVGr/?mibextid=wwXIfr",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Facebook",title:"Facebook",children:w.jsx($9,{className:"h-6 w-6"})}),w.jsx("a",{href:"https://wa.me/message/JYA22CVSYSZ4N1",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"WhatsApp",title:"WhatsApp",children:w.jsx(H9,{className:"h-6 w-6"})}),w.jsx("a",{href:"https://www.youtube.com/@btmobilecare",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"YouTube",title:"YouTube",children:w.jsx(W9,{className:"h-6 w-6"})})]}),w.jsx("div",{className:"mt-6",children:w.jsx("p",{className:"text-gray-400 text-sm font-semibold",children:"App Coming Soon"})})]});return w.jsx("footer",{className:"bg-black text-white w-full",children:w.jsxs("div",{className:"container mx-auto px-6 py-12",children:[w.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-8",children:[w.jsxs("div",{className:"col-span-2",children:[w.jsxs("h3",{className:"font-bold text-xl mb-3 text-white flex items-center gap-1.5",children:[w.jsx("span",{children:"I"}),w.jsx("span",{className:"text-brand-red",children:""}),w.jsx("span",{children:"PDFLY"})]}),w.jsx("p",{className:"text-gray-400 text-sm max-w-xs",children:"Your go-to suite of online tools for PDF and image management."}),_]}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold text-lg mb-4",children:"Tools"}),w.jsx("ul",{className:"space-y-2 text-gray-400 text-sm",children:u.map(I=>w.jsx("li",{children:w.jsx(Ze,{to:I.path,title:I.name,className:"hover:text-white",children:I.name})},I.path))})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold text-lg mb-4",children:"Solutions"}),w.jsx("ul",{className:"space-y-2 text-gray-400 text-sm",children:p.map(I=>w.jsx("li",{children:w.jsx(Ze,{to:I.path,title:I.name,className:"hover:text-white",children:I.name})},I.path))})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold text-lg mb-4",children:"Company"}),w.jsx("ul",{className:"space-y-2 text-gray-400 text-sm",children:f.map(I=>w.jsx("li",{children:w.jsx(Ze,{to:I.path,title:I.name,className:"hover:text-white",children:I.name})},I.path))})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold text-lg mb-4",children:"Resources"}),w.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[v.map(I=>w.jsx("li",{children:w.jsxs(Ze,{to:I.path,title:I.name,className:"hover:text-white flex items-center gap-2",children:[w.jsx(Ys,{className:"h-4 w-4"})," ",I.name]})},I.path)),w.jsx("li",{children:w.jsx("button",{onClick:n,title:"Open Calendar",className:"hover:text-white text-left",children:"Calendar"})}),w.jsx("li",{children:w.jsx("button",{onClick:l,title:"Download Our Logo",className:"hover:text-white text-left",children:"Our Logo"})})]})]})]}),w.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-700 text-center",children:[w.jsx("h3",{className:"font-bold text-lg mb-2",children:"Subscribe to our newsletter"}),w.jsx("p",{className:"text-gray-400 text-sm mb-4 max-w-md mx-auto",children:"Get the latest news, articles, and resources, sent to your inbox weekly."}),w.jsxs("form",{onSubmit:a,className:"flex flex-col sm:flex-row gap-2 max-w-md mx-auto",children:[w.jsx("input",{type:"email",placeholder:"Enter your email",value:e,onChange:I=>t(I.target.value),required:!0,"aria-label":"Email for newsletter",className:"flex-grow px-4 py-2 bg-gray-800 border border-gray-600 rounded-md text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-brand-red"}),w.jsx("button",{type:"submit",className:"bg-brand-red hover:bg-brand-red-dark text-white font-bold py-2 px-6 rounded-md transition-colors",children:"Subscribe"})]}),r&&w.jsx("p",{className:`text-sm mt-3 ${r.includes("Thank you")?"text-green-400":"text-red-400"}`,children:r})]}),w.jsxs("div",{className:"mt-12 border-t border-gray-700 pt-6 flex flex-col sm:flex-row justify-between items-center text-gray-400 text-sm",children:[w.jsxs("p",{className:"order-2 sm:order-1 mt-4 sm:mt-0",children:[" ",new Date().getFullYear()," I Love PDFLY. All Rights Reserved."]}),w.jsx("div",{className:"order-1 sm:order-2",children:w.jsx(Ze,{to:"/sitemap",title:"Sitemap",className:"hover:text-white transition-colors",children:"Sitemap"})})]})]})})},v8=L.memo(y8),w8=()=>{const[n,e]=L.useState(!1),t=()=>{window.pageYOffset>300?e(!0):e(!1)},r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return L.useEffect(()=>(window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)}),[]),w.jsx("button",{onClick:r,className:`fixed bottom-8 right-8 z-50 h-12 w-12 rounded-full flex items-center justify-center bg-brand-red/80 backdrop-blur-sm text-white shadow-lg hover:bg-brand-red transition-all duration-300 ease-in-out transform ${n?"opacity-100 scale-100":"opacity-0 scale-0"}`,"aria-label":"Scroll to top",title:"Scroll to top",children:w.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"3",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"})})})};var _y={exports:{}},xy,Ub;function _8(){if(Ub)return xy;Ub=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return xy=n,xy}var Iy,Bb;function x8(){if(Bb)return Iy;Bb=1;var n=_8();function e(){}function t(){}return t.resetWarningCache=e,Iy=function(){function r(l,u,p,f,v,_){if(_!==n){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Iy}var qb;function I8(){return qb||(qb=1,_y.exports=x8()()),_y.exports}var b8=I8();const ot=xf(b8);function Ba(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(v){try{f(r.next(v))}catch(_){l(_)}}function p(v){try{f(r.throw(v))}catch(_){l(_)}}function f(v){v.done?a(v.value):i(v.value).then(u,p)}f((r=r.apply(n,e||[])).next())})}const E8=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function _c(n,e,t){const r=T8(n),{webkitRelativePath:i}=n,a=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${n.name}`;return typeof r.path!="string"&&Hb(r,"path",a),Hb(r,"relativePath",a),r}function T8(n){const{name:e}=n;if(e&&e.lastIndexOf(".")!==-1&&!n.type){const r=e.split(".").pop().toLowerCase(),i=E8.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}function Hb(n,e,t){Object.defineProperty(n,e,{value:t,writable:!1,configurable:!1,enumerable:!0})}const k8=[".DS_Store","Thumbs.db"];function P8(n){return Ba(this,void 0,void 0,function*(){return vf(n)&&S8(n.dataTransfer)?D8(n.dataTransfer,n.type):A8(n)?C8(n):Array.isArray(n)&&n.every(e=>"getFile"in e&&typeof e.getFile=="function")?R8(n):[]})}function S8(n){return vf(n)}function A8(n){return vf(n)&&vf(n.target)}function vf(n){return typeof n=="object"&&n!==null}function C8(n){return xv(n.target.files).map(e=>_c(e))}function R8(n){return Ba(this,void 0,void 0,function*(){return(yield Promise.all(n.map(t=>t.getFile()))).map(t=>_c(t))})}function D8(n,e){return Ba(this,void 0,void 0,function*(){if(n.items){const t=xv(n.items).filter(i=>i.kind==="file");if(e!=="drop")return t;const r=yield Promise.all(t.map(N8));return $b(IS(r))}return $b(xv(n.files).map(t=>_c(t)))})}function $b(n){return n.filter(e=>k8.indexOf(e.name)===-1)}function xv(n){if(n===null)return[];const e=[];for(let t=0;t<n.length;t++){const r=n[t];e.push(r)}return e}function N8(n){if(typeof n.webkitGetAsEntry!="function")return Wb(n);const e=n.webkitGetAsEntry();return e&&e.isDirectory?bS(e):Wb(n,e)}function IS(n){return n.reduce((e,t)=>[...e,...Array.isArray(t)?IS(t):[t]],[])}function Wb(n,e){return Ba(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const a=yield n.getAsFileSystemHandle();if(a===null)throw new Error(`${n} is not a File`);if(a!==void 0){const l=yield a.getFile();return l.handle=a,_c(l)}}const r=n.getAsFile();if(!r)throw new Error(`${n} is not a File`);return _c(r,(t=e?.fullPath)!==null&&t!==void 0?t:void 0)})}function O8(n){return Ba(this,void 0,void 0,function*(){return n.isDirectory?bS(n):V8(n)})}function bS(n){const e=n.createReader();return new Promise((t,r)=>{const i=[];function a(){e.readEntries(l=>Ba(this,void 0,void 0,function*(){if(l.length){const u=Promise.all(l.map(O8));i.push(u),a()}else try{const u=yield Promise.all(i);t(u)}catch(u){r(u)}}),l=>{r(l)})}a()})}function V8(n){return Ba(this,void 0,void 0,function*(){return new Promise((e,t)=>{n.file(r=>{const i=_c(r,n.fullPath);e(i)},r=>{t(r)})})})}var bp={},Gb;function M8(){return Gb||(Gb=1,bp.__esModule=!0,bp.default=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var r=n.name||"",i=(n.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return t.some(function(l){var u=l.trim().toLowerCase();return u.charAt(0)==="."?r.toLowerCase().endsWith(u):u.endsWith("/*")?a===u.replace(/\/.*$/,""):i===u})}return!0}),bp}var L8=M8();const by=xf(L8);function Kb(n){return z8(n)||j8(n)||TS(n)||F8()}function F8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j8(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function z8(n){if(Array.isArray(n))return Iv(n)}function Qb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Yb(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Qb(Object(t),!0).forEach(function(r){ES(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Qb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ES(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kd(n,e){return q8(n)||B8(n,e)||TS(n,e)||U8()}function U8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TS(n,e){if(n){if(typeof n=="string")return Iv(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Iv(n,e)}}function Iv(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function B8(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,a=!1,l,u;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(p){a=!0,u=p}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw u}}return r}}function q8(n){if(Array.isArray(n))return n}var H8=typeof by=="function"?by:by.default,$8="file-invalid-type",W8="file-too-large",G8="file-too-small",K8="too-many-files",Q8=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e.split(","),r=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:$8,message:"File type must be ".concat(r)}},Jb=function(e){return{code:W8,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},Xb=function(e){return{code:G8,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Y8={code:K8,message:"Too many files"};function kS(n,e){var t=n.type==="application/x-moz-file"||H8(n,e);return[t,t?null:Q8(e)]}function PS(n,e,t){if(da(n.size))if(da(e)&&da(t)){if(n.size>t)return[!1,Jb(t)];if(n.size<e)return[!1,Xb(e)]}else{if(da(e)&&n.size<e)return[!1,Xb(e)];if(da(t)&&n.size>t)return[!1,Jb(t)]}return[!0,null]}function da(n){return n!=null}function J8(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,a=n.multiple,l=n.maxFiles,u=n.validator;return!a&&e.length>1||a&&l>=1&&e.length>l?!1:e.every(function(p){var f=kS(p,t),v=kd(f,1),_=v[0],I=PS(p,r,i),P=kd(I,1),O=P[0],z=u?u(p):null;return _&&O&&!z})}function wf(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function Ep(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function Zb(n){n.preventDefault()}function X8(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function Z8(n){return n.indexOf("Edge/")!==-1}function e7(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return X8(n)||Z8(n)}function fi(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];return e.some(function(u){return!wf(r)&&u&&u.apply(void 0,[r].concat(a)),wf(r)})}}function t7(){return"showOpenFilePicker"in window}function n7(n){if(da(n)){var e=Object.entries(n).filter(function(t){var r=kd(t,2),i=r[0],a=r[1],l=!0;return SS(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(a)||!a.every(AS))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(t,r){var i=kd(r,2),a=i[0],l=i[1];return Yb(Yb({},t),{},ES({},a,l))},{});return[{description:"Files",accept:e}]}return n}function r7(n){if(da(n))return Object.entries(n).reduce(function(e,t){var r=kd(t,2),i=r[0],a=r[1];return[].concat(Kb(e),[i],Kb(a))},[]).filter(function(e){return SS(e)||AS(e)}).join(",")}function i7(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function s7(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function SS(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function AS(n){return/^.*\.[\w]+$/.test(n)}var o7=["children"],a7=["open"],l7=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],c7=["refKey","onChange","onClick"];function u7(n){return p7(n)||h7(n)||CS(n)||d7()}function d7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h7(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function p7(n){if(Array.isArray(n))return bv(n)}function Ey(n,e){return g7(n)||m7(n,e)||CS(n,e)||f7()}function f7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CS(n,e){if(n){if(typeof n=="string")return bv(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bv(n,e)}}function bv(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function m7(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,a=!1,l,u;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(p){a=!0,u=p}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw u}}return r}}function g7(n){if(Array.isArray(n))return n}function eE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Tt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eE(Object(t),!0).forEach(function(r){Ev(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):eE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ev(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _f(n,e){if(n==null)return{};var t=y7(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function y7(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var R_=L.forwardRef(function(n,e){var t=n.children,r=_f(n,o7),i=DS(r),a=i.open,l=_f(i,a7);return L.useImperativeHandle(e,function(){return{open:a}},[a]),Xi.createElement(L.Fragment,null,t(Tt(Tt({},l),{},{open:a})))});R_.displayName="Dropzone";var RS={disabled:!1,getFilesFromEvent:P8,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};R_.defaultProps=RS;R_.propTypes={children:ot.func,accept:ot.objectOf(ot.arrayOf(ot.string)),multiple:ot.bool,preventDropOnDocument:ot.bool,noClick:ot.bool,noKeyboard:ot.bool,noDrag:ot.bool,noDragEventsBubbling:ot.bool,minSize:ot.number,maxSize:ot.number,maxFiles:ot.number,disabled:ot.bool,getFilesFromEvent:ot.func,onFileDialogCancel:ot.func,onFileDialogOpen:ot.func,useFsAccessApi:ot.bool,autoFocus:ot.bool,onDragEnter:ot.func,onDragLeave:ot.func,onDragOver:ot.func,onDrop:ot.func,onDropAccepted:ot.func,onDropRejected:ot.func,onError:ot.func,validator:ot.func};var Tv={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function DS(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Tt(Tt({},RS),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,a=e.maxSize,l=e.minSize,u=e.multiple,p=e.maxFiles,f=e.onDragEnter,v=e.onDragLeave,_=e.onDragOver,I=e.onDrop,P=e.onDropAccepted,O=e.onDropRejected,z=e.onFileDialogCancel,C=e.onFileDialogOpen,K=e.useFsAccessApi,J=e.autoFocus,Q=e.preventDropOnDocument,se=e.noClick,ve=e.noKeyboard,_e=e.noDrag,R=e.noDragEventsBubbling,T=e.onError,A=e.validator,N=L.useMemo(function(){return r7(t)},[t]),F=L.useMemo(function(){return n7(t)},[t]),V=L.useMemo(function(){return typeof C=="function"?C:tE},[C]),S=L.useMemo(function(){return typeof z=="function"?z:tE},[z]),Me=L.useRef(null),Xe=L.useRef(null),jt=L.useReducer(v7,Tv),He=Ey(jt,2),ae=He[0],ge=He[1],pe=ae.isFocused,j=ae.isFileDialogActive,Y=L.useRef(typeof window<"u"&&window.isSecureContext&&K&&t7()),X=function(){!Y.current&&j&&setTimeout(function(){if(Xe.current){var ke=Xe.current.files;ke.length||(ge({type:"closeDialog"}),S())}},300)};L.useEffect(function(){return window.addEventListener("focus",X,!1),function(){window.removeEventListener("focus",X,!1)}},[Xe,j,S,Y]);var ue=L.useRef([]),Ce=function(ke){Me.current&&Me.current.contains(ke.target)||(ke.preventDefault(),ue.current=[])};L.useEffect(function(){return Q&&(document.addEventListener("dragover",Zb,!1),document.addEventListener("drop",Ce,!1)),function(){Q&&(document.removeEventListener("dragover",Zb),document.removeEventListener("drop",Ce))}},[Me,Q]),L.useEffect(function(){return!r&&J&&Me.current&&Me.current.focus(),function(){}},[Me,J,r]);var Oe=L.useCallback(function(de){T?T(de):console.error(de)},[T]),$e=L.useCallback(function(de){de.preventDefault(),de.persist(),jn(de),ue.current=[].concat(u7(ue.current),[de.target]),Ep(de)&&Promise.resolve(i(de)).then(function(ke){if(!(wf(de)&&!R)){var Le=ke.length,Fe=Le>0&&J8({files:ke,accept:N,minSize:l,maxSize:a,multiple:u,maxFiles:p,validator:A}),It=Le>0&&!Fe;ge({isDragAccept:Fe,isDragReject:It,isDragActive:!0,type:"setDraggedFiles"}),f&&f(de)}}).catch(function(ke){return Oe(ke)})},[i,f,Oe,R,N,l,a,u,p,A]),We=L.useCallback(function(de){de.preventDefault(),de.persist(),jn(de);var ke=Ep(de);if(ke&&de.dataTransfer)try{de.dataTransfer.dropEffect="copy"}catch{}return ke&&_&&_(de),!1},[_,R]),tt=L.useCallback(function(de){de.preventDefault(),de.persist(),jn(de);var ke=ue.current.filter(function(Fe){return Me.current&&Me.current.contains(Fe)}),Le=ke.indexOf(de.target);Le!==-1&&ke.splice(Le,1),ue.current=ke,!(ke.length>0)&&(ge({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ep(de)&&v&&v(de))},[Me,v,R]),xt=L.useCallback(function(de,ke){var Le=[],Fe=[];de.forEach(function(It){var Rr=kS(It,N),Pn=Ey(Rr,2),Dr=Pn[0],Nr=Pn[1],Oi=PS(It,l,a),ni=Ey(Oi,2),Vi=ni[0],Mi=ni[1],Li=A?A(It):null;if(Dr&&Vi&&!Li)Le.push(It);else{var Or=[Nr,Mi];Li&&(Or=Or.concat(Li)),Fe.push({file:It,errors:Or.filter(function(xs){return xs})})}}),(!u&&Le.length>1||u&&p>=1&&Le.length>p)&&(Le.forEach(function(It){Fe.push({file:It,errors:[Y8]})}),Le.splice(0)),ge({acceptedFiles:Le,fileRejections:Fe,isDragReject:Fe.length>0,type:"setFiles"}),I&&I(Le,Fe,ke),Fe.length>0&&O&&O(Fe,ke),Le.length>0&&P&&P(Le,ke)},[ge,u,N,l,a,p,I,P,O,A]),Fn=L.useCallback(function(de){de.preventDefault(),de.persist(),jn(de),ue.current=[],Ep(de)&&Promise.resolve(i(de)).then(function(ke){wf(de)&&!R||xt(ke,de)}).catch(function(ke){return Oe(ke)}),ge({type:"reset"})},[i,xt,Oe,R]),Xn=L.useCallback(function(){if(Y.current){ge({type:"openDialog"}),V();var de={multiple:u,types:F};window.showOpenFilePicker(de).then(function(ke){return i(ke)}).then(function(ke){xt(ke,null),ge({type:"closeDialog"})}).catch(function(ke){i7(ke)?(S(ke),ge({type:"closeDialog"})):s7(ke)?(Y.current=!1,Xe.current?(Xe.current.value=null,Xe.current.click()):Oe(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Oe(ke)});return}Xe.current&&(ge({type:"openDialog"}),V(),Xe.current.value=null,Xe.current.click())},[ge,V,S,K,xt,Oe,F,u]),Sr=L.useCallback(function(de){!Me.current||!Me.current.isEqualNode(de.target)||(de.key===" "||de.key==="Enter"||de.keyCode===32||de.keyCode===13)&&(de.preventDefault(),Xn())},[Me,Xn]),ti=L.useCallback(function(){ge({type:"focus"})},[]),Ni=L.useCallback(function(){ge({type:"blur"})},[]),vs=L.useCallback(function(){se||(e7()?setTimeout(Xn,0):Xn())},[se,Xn]),pr=function(ke){return r?null:ke},ws=function(ke){return ve?null:pr(ke)},Ar=function(ke){return _e?null:pr(ke)},jn=function(ke){R&&ke.stopPropagation()},Cr=L.useMemo(function(){return function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ke=de.refKey,Le=ke===void 0?"ref":ke,Fe=de.role,It=de.onKeyDown,Rr=de.onFocus,Pn=de.onBlur,Dr=de.onClick,Nr=de.onDragEnter,Oi=de.onDragOver,ni=de.onDragLeave,Vi=de.onDrop,Mi=_f(de,l7);return Tt(Tt(Ev({onKeyDown:ws(fi(It,Sr)),onFocus:ws(fi(Rr,ti)),onBlur:ws(fi(Pn,Ni)),onClick:pr(fi(Dr,vs)),onDragEnter:Ar(fi(Nr,$e)),onDragOver:Ar(fi(Oi,We)),onDragLeave:Ar(fi(ni,tt)),onDrop:Ar(fi(Vi,Fn)),role:typeof Fe=="string"&&Fe!==""?Fe:"presentation"},Le,Me),!r&&!ve?{tabIndex:0}:{}),Mi)}},[Me,Sr,ti,Ni,vs,$e,We,tt,Fn,ve,_e,r]),Ao=L.useCallback(function(de){de.stopPropagation()},[]),_s=L.useMemo(function(){return function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ke=de.refKey,Le=ke===void 0?"ref":ke,Fe=de.onChange,It=de.onClick,Rr=_f(de,c7),Pn=Ev({accept:N,multiple:u,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:pr(fi(Fe,Fn)),onClick:pr(fi(It,Ao)),tabIndex:-1},Le,Xe);return Tt(Tt({},Pn),Rr)}},[Xe,t,u,Fn,r]);return Tt(Tt({},ae),{},{isFocused:pe&&!r,getRootProps:Cr,getInputProps:_s,rootRef:Me,inputRef:Xe,open:pr(Xn)})}function v7(n,e){switch(e.type){case"focus":return Tt(Tt({},n),{},{isFocused:!0});case"blur":return Tt(Tt({},n),{},{isFocused:!1});case"openDialog":return Tt(Tt({},Tv),{},{isFileDialogActive:!0});case"closeDialog":return Tt(Tt({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return Tt(Tt({},n),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Tt(Tt({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Tt({},Tv);default:return n}}function tE(){}const w7=({isOpen:n,onClose:e})=>{const[t,r]=L.useState(null),[i,a]=L.useState(null),[l,u]=L.useState(""),[p,f]=L.useState(!1),{user:v,updateProfileImage:_}=C_(),I=L.useCallback((J,Q)=>{if(u(""),Q.length>0){u("Please upload a valid image file (PNG, JPG, etc.) under 2MB.");return}if(J.length>0){const se=J[0];r(se);const ve=new FileReader;ve.onloadend=()=>{a(ve.result)},ve.readAsDataURL(se)}},[]),{getRootProps:P,getInputProps:O,isDragActive:z}=DS({onDrop:I,accept:{"image/*":[".jpeg",".png",".gif",".jpg",".webp"]},maxSize:2*1024*1024,multiple:!1}),C=async()=>{if(!(!t||!i||!v)){f(!0),u("");try{await _(v.username,i),K()}catch(J){u(J.message||"Failed to save image.")}finally{f(!1)}}},K=()=>{r(null),a(null),u(""),f(!1),e()};return L.useEffect(()=>{if(!n)return;const J=Q=>{Q.key==="Escape"&&K()};return document.addEventListener("keydown",J),()=>{document.removeEventListener("keydown",J)}},[n]),n?w.jsx("div",{className:"fixed inset-0 bg-black/60 dark:bg-black/80 z-[100] flex items-center justify-center p-4",onClick:K,role:"dialog","aria-modal":"true","aria-labelledby":"profile-image-modal-title",children:w.jsxs("div",{className:"bg-white dark:bg-gray-900 w-full max-w-lg flex flex-col rounded-lg shadow-2xl",onClick:J=>J.stopPropagation(),children:[w.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[w.jsx("h2",{id:"profile-image-modal-title",className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Change Profile Photo"}),w.jsx("button",{onClick:K,className:"text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white transition-colors","aria-label":"Close modal",children:w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),w.jsxs("main",{className:"p-8",children:[l&&w.jsx("p",{className:"text-center text-sm text-red-500 bg-red-100 dark:bg-red-900/30 p-3 rounded-md mb-4",children:l}),i?w.jsxs("div",{className:"text-center",children:[w.jsx("img",{src:i,alt:"Preview",className:"w-40 h-40 rounded-full mx-auto object-cover border-4 border-gray-200 dark:border-gray-700"}),w.jsx("button",{onClick:()=>{r(null),a(null)},className:"mt-4 text-sm text-brand-red hover:underline",children:"Choose a different photo"})]}):w.jsxs("div",{...P(),className:`relative flex flex-col items-center justify-center p-12 border-2 border-dashed rounded-lg cursor-pointer transition-colors duration-300 ${z?"border-brand-red bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800"}`,children:[w.jsx("input",{...O()}),w.jsx(A9,{className:"h-12 w-12 text-gray-400"}),w.jsx("p",{className:"mt-4 font-semibold text-gray-700 dark:text-gray-200",children:"Drag & drop or click to upload"}),w.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG, GIF up to 2MB"})]})]}),w.jsxs("footer",{className:"flex justify-end gap-4 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-b-lg",children:[w.jsx("button",{onClick:K,className:"px-4 py-2 text-sm font-semibold text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),w.jsx("button",{onClick:C,disabled:!t||p,className:"px-4 py-2 text-sm font-semibold text-white bg-brand-red rounded-md hover:bg-brand-red-dark transition-colors disabled:bg-red-300 dark:disabled:bg-red-800 disabled:cursor-not-allowed",children:p?"Saving...":"Save Changes"})]})]})}):null},_7=[{path:"/about",title:"About Us",description:"Learn about our mission and story.",Icon:ua,color:"bg-blue-500"},{path:"/contact",title:"Contact",description:"Get in touch with our team.",Icon:ua,color:"bg-green-500"},{path:"/faq",title:"FAQ",description:"Find answers to frequently asked questions.",Icon:ua,color:"bg-yellow-500"},{path:"/pricing",title:"Pricing",description:"View our flexible pricing plans.",Icon:ua,color:"bg-purple-500"},{path:"/developer",title:"Developer API",description:"Integrate our tools with your applications.",Icon:ua,color:"bg-teal-500"},{path:"/play-game",title:"Games Arcade",description:"Take a break and play some fun games.",Icon:_S,color:"bg-indigo-500"}],x7=({isOpen:n,onClose:e})=>{const[t,r]=L.useState(""),i=L.useRef(null),a=L.useMemo(()=>{const u=_v.map(v=>({type:"tool",path:`/${v.id}`,title:v.title,description:v.description,Icon:v.Icon,color:v.color})),p=h8.map(v=>({type:"blog",path:`/blog/${v.slug}`,title:v.title,description:v.excerpt,Icon:yf,color:"bg-orange-500"})),f=_7.map(v=>({type:"page",...v}));return[...u,...p,...f]},[]),l=L.useMemo(()=>{if(!t.trim())return[];const u=t.toLowerCase();return a.filter(p=>p.title.toLowerCase().includes(u)||p.description.toLowerCase().includes(u))},[t,a]);return L.useEffect(()=>{if(n){r(""),setTimeout(()=>i.current?.focus(),100);const u=p=>{p.key==="Escape"&&e()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)}},[n,e]),n?w.jsx("div",{className:"fixed inset-0 bg-black/60 dark:bg-black/80 z-[100] flex items-start justify-center p-4 pt-[10vh]",onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"search-modal-title",children:w.jsxs("div",{className:"bg-white dark:bg-black w-full max-w-2xl rounded-lg shadow-2xl",onClick:u=>u.stopPropagation(),children:[w.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center",children:[w.jsx("h2",{id:"search-modal-title",className:"sr-only",children:"Search Site"}),w.jsx(wS,{className:"h-5 w-5 text-gray-400 mr-3"}),w.jsx("input",{ref:i,type:"text",value:t,onChange:u=>r(u.target.value),placeholder:"Search for tools, articles, and pages...",className:"w-full bg-transparent focus:outline-none text-gray-800 dark:text-gray-100"})]}),w.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:l.length>0?w.jsx("ul",{children:l.map(u=>w.jsx("li",{children:w.jsxs(Ze,{to:u.path,onClick:e,className:"flex items-center gap-4 p-4 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[w.jsx("div",{className:`p-2 rounded-lg ${u.color||"bg-gray-500"}`,children:w.jsx(u.Icon,{className:"h-6 w-6 text-white"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-100",children:u.title}),w.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:u.description})]})]})},`${u.type}-${u.path}`))}):t.trim()?w.jsx("div",{className:"p-8 text-center text-gray-500",children:w.jsxs("p",{children:['No results found for "',t,'"']})}):w.jsx("div",{className:"p-8 text-center text-gray-500",children:w.jsx("p",{children:"Start typing to search for anything on the site."})})})]})}):null},I7=()=>sessionStorage.getItem("isAdminAuthenticated")==="true"?w.jsx(zC,{}):w.jsx(jC,{to:"/developer-access"}),b7=({className:n})=>w.jsxs("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor",children:[w.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),w.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z"})]}),E7=({className:n})=>w.jsxs("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor",children:[w.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),w.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z"})]}),T7=({isOpen:n,onClose:e})=>{const[t,r]=L.useState(new Date);if(L.useEffect(()=>{if(!n)return;const P=O=>{O.key==="Escape"&&e()};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[n,e]),!n)return null;const i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=new Date,l=t.getMonth(),u=t.getFullYear(),p=new Date(u,l,1).getDay(),f=new Date(u,l+1,0).getDate(),v=()=>r(new Date(u,l-1,1)),_=()=>r(new Date(u,l+1,1)),I=()=>{const P=[];for(let O=0;O<p;O++)P.push(w.jsx("div",{className:"p-2"},`empty-prev-${O}`));for(let O=1;O<=f;O++){const z=a.getDate()===O&&a.getMonth()===l&&a.getFullYear()===u;P.push(w.jsx("div",{className:`p-2 text-center rounded-full flex items-center justify-center font-semibold h-10 w-10
                    ${z?"bg-brand-red text-white":"text-gray-700 dark:text-gray-300"}`,children:O},O))}return P};return w.jsx("div",{className:"fixed inset-0 bg-black/60 dark:bg-black/80 z-[100] flex items-center justify-center p-4",onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"calendar-modal-title",children:w.jsxs("div",{className:"bg-white dark:bg-black w-full max-w-lg rounded-xl shadow-2xl animated-border",onClick:P=>P.stopPropagation(),children:[w.jsxs("div",{className:"p-6",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("button",{onClick:v,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":"Previous month",children:w.jsx(b7,{className:"h-6 w-6"})}),w.jsx("h2",{id:"calendar-modal-title",className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:t.toLocaleString("default",{month:"long",year:"numeric"})}),w.jsx("button",{onClick:_,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":"Next month",children:w.jsx(E7,{className:"h-6 w-6"})})]}),w.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-sm text-gray-500 dark:text-gray-400 mb-2",children:i.map(P=>w.jsx("div",{children:P},P))}),w.jsx("div",{className:"grid grid-cols-7 gap-2",children:I()})]}),w.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 text-center rounded-b-xl",children:w.jsx("button",{onClick:e,className:"text-brand-red font-semibold hover:underline",children:"Close"})})]})})},k7=()=>{const[n,e]=L.useState(!1);L.useEffect(()=>{try{if(!localStorage.getItem("cookie_consent")){const i=setTimeout(()=>{e(!0)},500);return()=>clearTimeout(i)}}catch(r){console.error("Could not access localStorage:",r);const i=setTimeout(()=>{e(!0)},500);return()=>clearTimeout(i)}},[]);const t=()=>{try{localStorage.setItem("cookie_consent","true")}catch(r){console.error("Could not set localStorage item:",r)}e(!1)};return n?w.jsx("div",{className:"fixed bottom-4 left-4 right-4 sm:left-auto sm:right-4 bg-white/80 dark:bg-black/80 backdrop-blur-sm border border-gray-200 dark:border-gray-700 p-4 sm:p-5 rounded-lg shadow-2xl z-[100] animate-fade-in-up max-w-lg",children:w.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[w.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"We use cookies to enhance your experience. By continuing to visit this site you agree to our use of cookies."}),w.jsxs("button",{onClick:t,className:"flex-shrink-0 w-full sm:w-auto bg-brand-red hover:bg-brand-red-dark text-white font-bold py-2 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[w.jsx(xS,{className:"h-5 w-5"}),"Accept"]})]})}):null},P7=()=>w.jsx("div",{className:"flex items-center justify-center w-full py-20",children:w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-brand-red"}),w.jsx("div",{className:"absolute flex items-center justify-center inset-0 text-brand-red font-bold text-lg",children:""})]})}),S7=L.lazy(()=>Ne(()=>import("./HomePage-DrKxX7_5.js"),__vite__mapDeps([0,1,2]))),A7=L.lazy(()=>Ne(()=>import("./ToolPage-DBjCXgY8.js"),__vite__mapDeps([3,2,4,5,6]))),C7=L.lazy(()=>Ne(()=>import("./AboutPage-CQ_-QTbT.js"),[])),R7=L.lazy(()=>Ne(()=>import("./BlogPage-9i95LxUc.js"),[])),D7=L.lazy(()=>Ne(()=>import("./BlogPostPage-B9bQzc5Y.js"),[])),N7=L.lazy(()=>Ne(()=>import("./ContactPage-CGTMRDX-.js"),[])),O7=L.lazy(()=>Ne(()=>import("./LoginPage-DNT8UcEr.js"),[])),V7=L.lazy(()=>Ne(()=>import("./SignUpPage-MZBy8hQt.js"),[])),M7=L.lazy(()=>Ne(()=>import("./DeveloperPage-BaeuKw8Z.js"),[])),L7=L.lazy(()=>Ne(()=>import("./FaqPage-CfVXx0yY.js"),[])),F7=L.lazy(()=>Ne(()=>import("./SitemapPage-CBitquHm.js"),[])),j7=L.lazy(()=>Ne(()=>import("./PlayGamePage-BVvMgcMF.js"),[])),z7=L.lazy(()=>Ne(()=>import("./InvoiceGeneratorPage-DyhW8slZ.js"),__vite__mapDeps([7,5,6]))),U7=L.lazy(()=>Ne(()=>import("./CVGeneratorPage-JFt2NlCD.js"),__vite__mapDeps([8,6,5]))),B7=L.lazy(()=>Ne(()=>import("./LessonPlanCreatorPage-BZJrH9ru.js"),__vite__mapDeps([9,1,4,6]))),q7=L.lazy(()=>Ne(()=>import("./AIQuestionGeneratorPage-CQvQtPbM.js"),__vite__mapDeps([10,1]))),H7=L.lazy(()=>Ne(()=>import("./ImageGeneratorPage-CHDU1zU0.js"),__vite__mapDeps([11,1]))),$7=L.lazy(()=>Ne(()=>import("./PricingPage-DxTtH2nS.js"),[])),W7=L.lazy(()=>Ne(()=>import("./PremiumFeaturePage-Dbc4-8Bj.js"),[])),G7=L.lazy(()=>Ne(()=>import("./PaymentPage-a4PnYuQd.js"),[])),K7=L.lazy(()=>Ne(()=>import("./DeveloperAccessPage-BfNHpQlV.js"),[])),Q7=L.lazy(()=>Ne(()=>import("./AdminDashboardPage-B35q7XtO.js"),[])),Y7=L.lazy(()=>Ne(()=>import("./HowToUsePage-CkWNpuww.js"),[])),J7=L.lazy(()=>Ne(()=>import("./EducationPage-BGl8_z-P.js"),[])),X7=L.lazy(()=>Ne(()=>import("./BusinessPage-E8dFFvWL.js"),[])),Z7=L.lazy(()=>Ne(()=>import("./PrivacyPolicyPage-6usu6bK3.js"),[])),ez=L.lazy(()=>Ne(()=>import("./TermsOfServicePage-b5ThwbTx.js"),[])),tz=L.lazy(()=>Ne(()=>import("./CookiesPolicyPage-DIccNHNh.js"),[])),nz=L.lazy(()=>Ne(()=>import("./CeoPage-z3RKDsDs.js"),[])),rz=L.lazy(()=>Ne(()=>import("./ApiPricingPage-MibXNe2O.js"),[])),iz=L.lazy(()=>Ne(()=>import("./ApiReferencePage-OXDQWut3.js"),[])),sz=L.lazy(()=>Ne(()=>import("./ApiPdfPage-D7QdbP7Z.js"),[])),oz=L.lazy(()=>Ne(()=>import("./ApiImagePage-iOQyS_u7.js"),[])),az=L.lazy(()=>Ne(()=>import("./ApiSignaturePage-BiLuaZqI.js"),[])),lz=L.lazy(()=>Ne(()=>import("./MemoryMatchGame-BBoUhkLf.js"),[])),cz=L.lazy(()=>Ne(()=>import("./WordFinderGame-DrRXjUpo.js"),[])),uz=L.lazy(()=>Ne(()=>import("./QuizGame-Bd4zV1Ur.js"),[])),dz=L.lazy(()=>Ne(()=>import("./BubbleShooterGame-2HKLd2_2.js"),[])),hz=L.lazy(()=>Ne(()=>import("./SnakeGame-CtA1r8Wv.js"),[])),pz=L.lazy(()=>Ne(()=>import("./CarRacingGame-BwHEY0gG.js"),[])),fz=L.lazy(()=>Ne(()=>import("./PdfInvadersGame-DGV2dl5m.js"),[])),mz=L.lazy(()=>Ne(()=>import("./ColorFloodGame-BB2oGkPk.js"),[])),gz=L.lazy(()=>Ne(()=>import("./PaperTossGame-peYQg5ls.js"),[])),yz=()=>w.jsxs(Ze,{to:"/",className:"fixed top-4 left-4 z-[100] flex items-center gap-2 bg-white/80 dark:bg-black/70 backdrop-blur-sm p-3 rounded-full shadow-lg border border-gray-200 dark:border-gray-800 hover:bg-white dark:hover:bg-black transition-colors","aria-label":"Back to Home",title:"Back to Home",children:[w.jsx(vS,{className:"h-6 w-6 text-brand-red"}),w.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-200 hidden sm:inline",children:"Home"})]});function vz(){const n=bc(),e=bf(),{user:t,loading:r}=C_(),[i,a]=Xi.useState(!1),[l,u]=Xi.useState(!1),[p,f]=Xi.useState(!1),v=n.pathname.startsWith("/play-game/")||n.pathname==="/cv-generator"||n.pathname==="/invoice-generator";return Xi.useEffect(()=>{window.scrollTo(0,0)},[n.pathname]),Xi.useEffect(()=>{if(!r&&t){const _=sessionStorage.getItem("postLoginRedirect");if(_){sessionStorage.removeItem("postLoginRedirect");const I=JSON.parse(_),P=sessionStorage.getItem("pendingInvoiceDataRedirect");P?(sessionStorage.removeItem("pendingInvoiceDataRedirect"),e("/invoice-generator",{state:{restoredData:JSON.parse(P)},replace:!0})):I.from==="pricing"?e("/payment",{state:{plan:I.plan}}):(n.pathname==="/login"||n.pathname==="/signup")&&e("/")}else(n.pathname==="/login"||n.pathname==="/signup")&&e("/")}},[t,r,e,n.pathname]),w.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-black text-gray-800 dark:text-gray-200",children:[v&&w.jsx(yz,{}),!v&&w.jsx(g8,{onOpenProfileImageModal:()=>a(!0),onOpenSearchModal:()=>u(!0)}),w.jsx("main",{className:"flex-grow",children:w.jsx(L.Suspense,{fallback:w.jsx(P7,{}),children:w.jsxs(BC,{children:[w.jsx(De,{path:"/",element:w.jsx(S7,{})}),w.jsx(De,{path:"/about",element:w.jsx(C7,{})}),w.jsx(De,{path:"/blog",element:w.jsx(R7,{})}),w.jsx(De,{path:"/blog/:slug",element:w.jsx(D7,{})}),w.jsx(De,{path:"/contact",element:w.jsx(N7,{})}),w.jsx(De,{path:"/login",element:w.jsx(O7,{})}),w.jsx(De,{path:"/signup",element:w.jsx(V7,{})}),w.jsx(De,{path:"/developer",element:w.jsx(M7,{})}),w.jsx(De,{path:"/faq",element:w.jsx(L7,{})}),w.jsx(De,{path:"/sitemap",element:w.jsx(F7,{})}),w.jsx(De,{path:"/play-game",element:w.jsx(j7,{})}),w.jsx(De,{path:"/invoice-generator",element:w.jsx(z7,{})}),w.jsx(De,{path:"/cv-generator",element:w.jsx(U7,{})}),w.jsx(De,{path:"/lesson-plan-creator",element:w.jsx(B7,{})}),w.jsx(De,{path:"/ai-question-generator",element:w.jsx(q7,{})}),w.jsx(De,{path:"/ai-image-generator",element:w.jsx(H7,{})}),w.jsx(De,{path:"/pricing",element:w.jsx($7,{})}),w.jsx(De,{path:"/api-pricing",element:w.jsx(rz,{})}),w.jsx(De,{path:"/premium-feature",element:w.jsx(W7,{})}),w.jsx(De,{path:"/payment",element:w.jsx(G7,{})}),w.jsx(De,{path:"/developer-access",element:w.jsx(K7,{})}),w.jsx(De,{path:"/how-to-use",element:w.jsx(Y7,{})}),w.jsx(De,{path:"/education",element:w.jsx(J7,{})}),w.jsx(De,{path:"/business",element:w.jsx(X7,{})}),w.jsx(De,{path:"/privacy-policy",element:w.jsx(Z7,{})}),w.jsx(De,{path:"/terms-of-service",element:w.jsx(ez,{})}),w.jsx(De,{path:"/cookies-policy",element:w.jsx(tz,{})}),w.jsx(De,{path:"/ceo",element:w.jsx(nz,{})}),w.jsx(De,{path:"/api-reference",element:w.jsx(iz,{})}),w.jsx(De,{path:"/api-pdf",element:w.jsx(sz,{})}),w.jsx(De,{path:"/api-image",element:w.jsx(oz,{})}),w.jsx(De,{path:"/api-signature",element:w.jsx(az,{})}),w.jsx(De,{path:"/play-game/memory-match",element:w.jsx(lz,{})}),w.jsx(De,{path:"/play-game/word-finder",element:w.jsx(cz,{})}),w.jsx(De,{path:"/play-game/quiz-game",element:w.jsx(uz,{})}),w.jsx(De,{path:"/play-game/bubble-shooter",element:w.jsx(dz,{})}),w.jsx(De,{path:"/play-game/snake-game",element:w.jsx(hz,{})}),w.jsx(De,{path:"/play-game/car-racing",element:w.jsx(pz,{})}),w.jsx(De,{path:"/play-game/pdf-invaders",element:w.jsx(fz,{})}),w.jsx(De,{path:"/play-game/color-flood",element:w.jsx(mz,{})}),w.jsx(De,{path:"/play-game/paper-toss",element:w.jsx(gz,{})}),w.jsx(De,{element:w.jsx(I7,{}),children:w.jsx(De,{path:"/admin-dashboard",element:w.jsx(Q7,{})})}),w.jsx(De,{path:"/:toolId",element:w.jsx(A7,{})})]})})}),!v&&w.jsx(v8,{onOpenCalendarModal:()=>f(!0)}),w.jsx(w7,{isOpen:i,onClose:()=>a(!1)}),w.jsx(x7,{isOpen:l,onClose:()=>u(!1)}),w.jsx(T7,{isOpen:p,onClose:()=>f(!1)}),w.jsx(w8,{}),w.jsx(k7,{})]})}function wz(){return w.jsx(tR,{children:w.jsx(E9,{children:w.jsx(vz,{})})})}const NS=document.getElementById("root");if(!NS)throw new Error("Could not find root element to mount to");const _z=()=>{const n=bf();return Xi.useEffect(()=>{const e=sessionStorage.getItem("redirectPath");e&&(sessionStorage.removeItem("redirectPath"),n(e))},[n]),null},xz=GA.createRoot(NS);xz.render(w.jsx(Xi.StrictMode,{children:w.jsxs(QC,{children:[w.jsx(_z,{}),w.jsx(wz,{})]})}));export{i8 as $,Fz as A,yf as B,zz as C,Gz as D,P9 as E,Vz as F,Hz as G,r8 as H,qz as I,h8 as J,$9 as K,Ze as L,Bz as M,Mz as N,Fb as O,jz as P,o8 as Q,Uz as R,X9 as S,_v as T,ua as U,J9 as V,H9 as W,Lz as X,oU as Y,sU as Z,Ne as _,$z as a,Q9 as a0,xS as a1,Yz as a2,aU as a3,_S as a4,S9 as a5,dU as a6,hU as a7,pU as a8,lU as a9,s8 as aa,rU as ab,iU as ac,tU as ad,eU as ae,n8 as af,Zz as ag,bc as b,e8 as c,Z9 as d,A9 as e,O9 as f,Wz as g,nU as h,Xz as i,w as j,Kz as k,Xi as l,xf as m,Iz as n,bz as o,Ez as p,bf as q,L as r,C_ as s,Jz as t,DS as u,cU as v,K9 as w,uU as x,R9 as y,Qz as z};
